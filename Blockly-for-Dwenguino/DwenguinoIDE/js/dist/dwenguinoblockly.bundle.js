/*! For license information please see dwenguinoblockly.bundle.js.LICENSE.txt */
(()=>{var t={553:t=>{var e=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof m?e:m,r=Object.create(o.prototype),a=new P(i||[]);return r._invoke=function(t,e,n){var i=d;return function(o,r){if(i===p)throw new Error("Generator is already running");if(i===f){if("throw"===o)throw r;return D()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=u(t,e,n);if("normal"===l.type){if(i=n.done?f:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}(t,n,a),r}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",g={};function m(){}function v(){}function _(){}var y={};y[r]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&i.call(w,r)&&(y=w);var k=_.prototype=m.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,r,a,s){var l=u(t[o],t,r);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,i){function r(){return new e((function(e,o){n(t,i,e,o)}))}return o=o?o.then(r,r):r()}}function C(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=u(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var r=o.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(t){if(t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:D}}function D(){return{value:e,done:!0}}return v.prototype=k.constructor=_,_.constructor=v,v.displayName=l(_,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},x(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new S(c(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),l(k,s,"Generator"),k[r]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return s.type="throw",s.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},757:(t,e,n)=>{t.exports=n(553)},734:function(t,e,n){!function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=i(e),r=i(n);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var c="transitionend";function u(t){var e=this,n=!1;return o.default(this).one(d.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||d.triggerTransitionEnd(e)}),t),this}var d={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=o.default(t).css("transition-duration"),n=o.default(t).css("transition-delay"),i=parseFloat(e),r=parseFloat(n);return i||r?(e=e.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(e)+parseFloat(n))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){o.default(t).trigger(c)},supportsTransitionEnd:function(){return Boolean(c)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],r=e[i],a=r&&d.isElement(r)?"element":null==(s=r)?""+s:{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+o+'".')}var s},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?d.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if(void 0===o.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=o.default.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};d.jQueryDetection(),o.default.fn.emulateTransitionEnd=u,o.default.event.special[d.TRANSITION_END]={bindType:c,delegateType:c,handle:function(t){if(o.default(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var h="bs.alert",p=o.default.fn.alert,f=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){o.default.removeData(this._element,h),this._element=null},e._getRootElement=function(t){var e=d.getSelectorFromElement(t),n=!1;return e&&(n=document.querySelector(e)),n||(n=o.default(t).closest(".alert")[0]),n},e._triggerCloseEvent=function(t){var e=o.default.Event("close.bs.alert");return o.default(t).trigger(e),e},e._removeElement=function(t){var e=this;if(o.default(t).removeClass("show"),o.default(t).hasClass("fade")){var n=d.getTransitionDurationFromElement(t);o.default(t).one(d.TRANSITION_END,(function(n){return e._destroyElement(t,n)})).emulateTransitionEnd(n)}else this._destroyElement(t)},e._destroyElement=function(t){o.default(t).detach().trigger("closed.bs.alert").remove()},t._jQueryInterface=function(e){return this.each((function(){var n=o.default(this),i=n.data(h);i||(i=new t(this),n.data(h,i)),"close"===e&&i[e](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),t}();o.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',f._handleDismiss(new f)),o.default.fn.alert=f._jQueryInterface,o.default.fn.alert.Constructor=f,o.default.fn.alert.noConflict=function(){return o.default.fn.alert=p,f._jQueryInterface};var g="bs.button",m=o.default.fn.button,v="active",_='[data-toggle^="button"]',y='input:not([type="hidden"])',b=".btn",w=function(){function t(t){this._element=t,this.shouldAvoidTriggerChange=!1}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=o.default(this._element).closest('[data-toggle="buttons"]')[0];if(n){var i=this._element.querySelector(y);if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(v))t=!1;else{var r=n.querySelector(".active");r&&o.default(r).removeClass(v)}t&&("checkbox"!==i.type&&"radio"!==i.type||(i.checked=!this._element.classList.contains(v)),this.shouldAvoidTriggerChange||o.default(i).trigger("change")),i.focus(),e=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(v)),t&&o.default(this._element).toggleClass(v))},e.dispose=function(){o.default.removeData(this._element,g),this._element=null},t._jQueryInterface=function(e,n){return this.each((function(){var i=o.default(this),r=i.data(g);r||(r=new t(this),i.data(g,r)),r.shouldAvoidTriggerChange=n,"toggle"===e&&r[e]()}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),t}();o.default(document).on("click.bs.button.data-api",_,(function(t){var e=t.target,n=e;if(o.default(e).hasClass("btn")||(e=o.default(e).closest(b)[0]),!e||e.hasAttribute("disabled")||e.classList.contains("disabled"))t.preventDefault();else{var i=e.querySelector(y);if(i&&(i.hasAttribute("disabled")||i.classList.contains("disabled")))return void t.preventDefault();"INPUT"!==n.tagName&&"LABEL"===e.tagName||w._jQueryInterface.call(o.default(e),"toggle","INPUT"===n.tagName)}})).on("focus.bs.button.data-api blur.bs.button.data-api",_,(function(t){var e=o.default(t.target).closest(b)[0];o.default(e).toggleClass("focus",/^focus(in)?$/.test(t.type))})),o.default(window).on("load.bs.button.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,n=t.length;e<n;e++){var i=t[e],o=i.querySelector(y);o.checked||o.hasAttribute("checked")?i.classList.add(v):i.classList.remove(v)}for(var r=0,a=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;r<a;r++){var s=t[r];"true"===s.getAttribute("aria-pressed")?s.classList.add(v):s.classList.remove(v)}})),o.default.fn.button=w._jQueryInterface,o.default.fn.button.Constructor=w,o.default.fn.button.noConflict=function(){return o.default.fn.button=m,w._jQueryInterface};var k="carousel",x="bs.carousel",S=".bs.carousel",C=o.default.fn[k],T={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},E={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},P="next",I="prev",D="slid.bs.carousel",O="active",M=".active.carousel-item",A={TOUCH:"touch",PEN:"pen"},B=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(P)},e.nextWhenVisible=function(){var t=o.default(this._element);!document.hidden&&t.is(":visible")&&"hidden"!==t.css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(I)},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(d.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector(M);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)o.default(this._element).one(D,(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var i=t>n?P:I;this._slide(i,this._items[t])}},e.dispose=function(){o.default(this._element).off(S),o.default.removeData(this._element,x),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=l({},T,t),d.typeCheckConfig(k,t,E),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&o.default(this._element).on("keydown.bs.carousel",(function(e){return t._keydown(e)})),"hover"===this._config.pause&&o.default(this._element).on("mouseenter.bs.carousel",(function(e){return t.pause(e)})).on("mouseleave.bs.carousel",(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var e=function(e){t._pointerEvent&&A[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){t._pointerEvent&&A[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};o.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(t){return t.preventDefault()})),this._pointerEvent?(o.default(this._element).on("pointerdown.bs.carousel",(function(t){return e(t)})),o.default(this._element).on("pointerup.bs.carousel",(function(t){return n(t)})),this._element.classList.add("pointer-event")):(o.default(this._element).on("touchstart.bs.carousel",(function(t){return e(t)})),o.default(this._element).on("touchmove.bs.carousel",(function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),o.default(this._element).on("touchend.bs.carousel",(function(t){return n(t)})))}},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=t===P,i=t===I,o=this._getItemIndex(e),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return e;var a=(o+(t===I?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(this._element.querySelector(M)),r=o.default.Event("slide.bs.carousel",{relatedTarget:t,direction:e,from:i,to:n});return o.default(this._element).trigger(r),r},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));o.default(e).removeClass(O);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&o.default(n).addClass(O)}},e._updateInterval=function(){var t=this._activeElement||this._element.querySelector(M);if(t){var e=parseInt(t.getAttribute("data-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}},e._slide=function(t,e){var n,i,r,a=this,s=this._element.querySelector(M),l=this._getItemIndex(s),c=e||s&&this._getItemByDirection(t,s),u=this._getItemIndex(c),h=Boolean(this._interval);if(t===P?(n="carousel-item-left",i="carousel-item-next",r="left"):(n="carousel-item-right",i="carousel-item-prev",r="right"),c&&o.default(c).hasClass(O))this._isSliding=!1;else if(!this._triggerSlideEvent(c,r).isDefaultPrevented()&&s&&c){this._isSliding=!0,h&&this.pause(),this._setActiveIndicatorElement(c),this._activeElement=c;var p=o.default.Event(D,{relatedTarget:c,direction:r,from:l,to:u});if(o.default(this._element).hasClass("slide")){o.default(c).addClass(i),d.reflow(c),o.default(s).addClass(n),o.default(c).addClass(n);var f=d.getTransitionDurationFromElement(s);o.default(s).one(d.TRANSITION_END,(function(){o.default(c).removeClass(n+" "+i).addClass(O),o.default(s).removeClass("active "+i+" "+n),a._isSliding=!1,setTimeout((function(){return o.default(a._element).trigger(p)}),0)})).emulateTransitionEnd(f)}else o.default(s).removeClass(O),o.default(c).addClass(O),this._isSliding=!1,o.default(this._element).trigger(p);h&&this.cycle()}},t._jQueryInterface=function(e){return this.each((function(){var n=o.default(this).data(x),i=l({},T,o.default(this).data());"object"==typeof e&&(i=l({},i,e));var r="string"==typeof e?e:i.slide;if(n||(n=new t(this,i),o.default(this).data(x,n)),"number"==typeof e)n.to(e);else if("string"==typeof r){if(void 0===n[r])throw new TypeError('No method named "'+r+'"');n[r]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}))},t._dataApiClickHandler=function(e){var n=d.getSelectorFromElement(this);if(n){var i=o.default(n)[0];if(i&&o.default(i).hasClass("carousel")){var r=l({},o.default(i).data(),o.default(this).data()),a=this.getAttribute("data-slide-to");a&&(r.interval=!1),t._jQueryInterface.call(o.default(i),r),a&&o.default(i).data(x).to(a),e.preventDefault()}}},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return T}}]),t}();o.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",B._dataApiClickHandler),o.default(window).on("load.bs.carousel.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),e=0,n=t.length;e<n;e++){var i=o.default(t[e]);B._jQueryInterface.call(i,i.data())}})),o.default.fn[k]=B._jQueryInterface,o.default.fn[k].Constructor=B,o.default.fn[k].noConflict=function(){return o.default.fn[k]=C,B._jQueryInterface};var R="collapse",L="bs.collapse",$=o.default.fn[R],N={toggle:!0,parent:""},F={toggle:"boolean",parent:"(string|element)"},j="show",H="collapse",W="collapsing",z="collapsed",U="width",Y='[data-toggle="collapse"]',V=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(Y)),i=0,o=n.length;i<o;i++){var r=n[i],a=d.getSelectorFromElement(r),s=[].slice.call(document.querySelectorAll(a)).filter((function(e){return e===t}));null!==a&&s.length>0&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){o.default(this._element).hasClass(j)?this.hide():this.show()},e.show=function(){var e,n,i=this;if(!(this._isTransitioning||o.default(this._element).hasClass(j)||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(t){return"string"==typeof i._config.parent?t.getAttribute("data-parent")===i._config.parent:t.classList.contains(H)}))).length&&(e=null),e&&(n=o.default(e).not(this._selector).data(L))&&n._isTransitioning))){var r=o.default.Event("show.bs.collapse");if(o.default(this._element).trigger(r),!r.isDefaultPrevented()){e&&(t._jQueryInterface.call(o.default(e).not(this._selector),"hide"),n||o.default(e).data(L,null));var a=this._getDimension();o.default(this._element).removeClass(H).addClass(W),this._element.style[a]=0,this._triggerArray.length&&o.default(this._triggerArray).removeClass(z).attr("aria-expanded",!0),this.setTransitioning(!0);var s="scroll"+(a[0].toUpperCase()+a.slice(1)),l=d.getTransitionDurationFromElement(this._element);o.default(this._element).one(d.TRANSITION_END,(function(){o.default(i._element).removeClass(W).addClass("collapse show"),i._element.style[a]="",i.setTransitioning(!1),o.default(i._element).trigger("shown.bs.collapse")})).emulateTransitionEnd(l),this._element.style[a]=this._element[s]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&o.default(this._element).hasClass(j)){var e=o.default.Event("hide.bs.collapse");if(o.default(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",d.reflow(this._element),o.default(this._element).addClass(W).removeClass("collapse show");var i=this._triggerArray.length;if(i>0)for(var r=0;r<i;r++){var a=this._triggerArray[r],s=d.getSelectorFromElement(a);null!==s&&(o.default([].slice.call(document.querySelectorAll(s))).hasClass(j)||o.default(a).addClass(z).attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[n]="";var l=d.getTransitionDurationFromElement(this._element);o.default(this._element).one(d.TRANSITION_END,(function(){t.setTransitioning(!1),o.default(t._element).removeClass(W).addClass(H).trigger("hidden.bs.collapse")})).emulateTransitionEnd(l)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){o.default.removeData(this._element,L),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=l({},N,t)).toggle=Boolean(t.toggle),d.typeCheckConfig(R,t,F),t},e._getDimension=function(){return o.default(this._element).hasClass(U)?U:"height"},e._getParent=function(){var e,n=this;d.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(e.querySelectorAll(i));return o.default(r).each((function(e,i){n._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])})),e},e._addAriaAndCollapsedClass=function(t,e){var n=o.default(t).hasClass(j);e.length&&o.default(e).toggleClass(z,!n).attr("aria-expanded",n)},t._getTargetFromElement=function(t){var e=d.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each((function(){var n=o.default(this),i=n.data(L),r=l({},N,n.data(),"object"==typeof e&&e?e:{});if(!i&&r.toggle&&"string"==typeof e&&/show|hide/.test(e)&&(r.toggle=!1),i||(i=new t(this,r),n.data(L,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return N}}]),t}();o.default(document).on("click.bs.collapse.data-api",Y,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=o.default(this),n=d.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(n));o.default(i).each((function(){var t=o.default(this),n=t.data(L)?"toggle":e.data();V._jQueryInterface.call(t,n)}))})),o.default.fn[R]=V._jQueryInterface,o.default.fn[R].Constructor=V,o.default.fn[R].noConflict=function(){return o.default.fn[R]=$,V._jQueryInterface};var X="dropdown",q="bs.dropdown",G=".bs.dropdown",K=o.default.fn[X],Q=new RegExp("38|40|27"),J="hide.bs.dropdown",Z="hidden.bs.dropdown",tt="click.bs.dropdown.data-api",et="keydown.bs.dropdown.data-api",nt="disabled",it="show",ot="dropdown-menu-right",rt='[data-toggle="dropdown"]',at=".dropdown-menu",st={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},lt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},ct=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!o.default(this._element).hasClass(nt)){var e=o.default(this._menu).hasClass(it);t._clearMenus(),e||this.show(!0)}},e.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||o.default(this._element).hasClass(nt)||o.default(this._menu).hasClass(it))){var n={relatedTarget:this._element},i=o.default.Event("show.bs.dropdown",n),a=t._getParentFromElement(this._element);if(o.default(a).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===r.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var s=this._element;"parent"===this._config.reference?s=a:d.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&o.default(a).addClass("position-static"),this._popper=new r.default(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===o.default(a).closest(".navbar-nav").length&&o.default(document.body).children().on("mouseover",null,o.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),o.default(this._menu).toggleClass(it),o.default(a).toggleClass(it).trigger(o.default.Event("shown.bs.dropdown",n))}}},e.hide=function(){if(!this._element.disabled&&!o.default(this._element).hasClass(nt)&&o.default(this._menu).hasClass(it)){var e={relatedTarget:this._element},n=o.default.Event(J,e),i=t._getParentFromElement(this._element);o.default(i).trigger(n),n.isDefaultPrevented()||(this._popper&&this._popper.destroy(),o.default(this._menu).toggleClass(it),o.default(i).toggleClass(it).trigger(o.default.Event(Z,e)))}},e.dispose=function(){o.default.removeData(this._element,q),o.default(this._element).off(G),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;o.default(this._element).on("click.bs.dropdown",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},e._getConfig=function(t){return t=l({},this.constructor.Default,o.default(this._element).data(),t),d.typeCheckConfig(X,t,this.constructor.DefaultType),t},e._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(at))}return this._menu},e._getPlacement=function(){var t=o.default(this._element.parentNode),e="bottom-start";return t.hasClass("dropup")?e=o.default(this._menu).hasClass(ot)?"top-end":"top-start":t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":o.default(this._menu).hasClass(ot)&&(e="bottom-end"),e},e._detectNavbar=function(){return o.default(this._element).closest(".navbar").length>0},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=l({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),l({},t,this._config.popperConfig)},t._jQueryInterface=function(e){return this.each((function(){var n=o.default(this).data(q);if(n||(n=new t(this,"object"==typeof e?e:null),o.default(this).data(q,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},t._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=[].slice.call(document.querySelectorAll(rt)),i=0,r=n.length;i<r;i++){var a=t._getParentFromElement(n[i]),s=o.default(n[i]).data(q),l={relatedTarget:n[i]};if(e&&"click"===e.type&&(l.clickEvent=e),s){var c=s._menu;if(o.default(a).hasClass(it)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&o.default.contains(a,e.target))){var u=o.default.Event(J,l);o.default(a).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&o.default(document.body).children().off("mouseover",null,o.default.noop),n[i].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),o.default(c).removeClass(it),o.default(a).removeClass(it).trigger(o.default.Event(Z,l)))}}}},t._getParentFromElement=function(t){var e,n=d.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if(!(/input|textarea/i.test(e.target.tagName)?32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||o.default(e.target).closest(at).length):!Q.test(e.which))&&!this.disabled&&!o.default(this).hasClass(nt)){var n=t._getParentFromElement(this),i=o.default(n).hasClass(it);if(i||27!==e.which){if(e.preventDefault(),e.stopPropagation(),!i||27===e.which||32===e.which)return 27===e.which&&o.default(n.querySelector(rt)).trigger("focus"),void o.default(this).trigger("click");var r=[].slice.call(n.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(t){return o.default(t).is(":visible")}));if(0!==r.length){var a=r.indexOf(e.target);38===e.which&&a>0&&a--,40===e.which&&a<r.length-1&&a++,a<0&&(a=0),r[a].focus()}}}},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return st}},{key:"DefaultType",get:function(){return lt}}]),t}();o.default(document).on(et,rt,ct._dataApiKeydownHandler).on(et,at,ct._dataApiKeydownHandler).on(tt+" keyup.bs.dropdown.data-api",ct._clearMenus).on(tt,rt,(function(t){t.preventDefault(),t.stopPropagation(),ct._jQueryInterface.call(o.default(this),"toggle")})).on(tt,".dropdown form",(function(t){t.stopPropagation()})),o.default.fn[X]=ct._jQueryInterface,o.default.fn[X].Constructor=ct,o.default.fn[X].noConflict=function(){return o.default.fn[X]=K,ct._jQueryInterface};var ut="modal",dt="bs.modal",ht=".bs.modal",pt=o.default.fn.modal,ft={backdrop:!0,keyboard:!0,focus:!0,show:!0},gt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},mt="hidden.bs.modal",vt="show.bs.modal",_t="focusin.bs.modal",yt="resize.bs.modal",bt="click.dismiss.bs.modal",wt="keydown.dismiss.bs.modal",kt="mousedown.dismiss.bs.modal",xt="modal-open",St="fade",Ct="show",Tt="modal-static",Et=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Pt=".sticky-top",It=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){o.default(this._element).hasClass(St)&&(this._isTransitioning=!0);var n=o.default.Event(vt,{relatedTarget:t});o.default(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),o.default(this._element).on(bt,'[data-dismiss="modal"]',(function(t){return e.hide(t)})),o.default(this._dialog).on(kt,(function(){o.default(e._element).one("mouseup.dismiss.bs.modal",(function(t){o.default(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var n=o.default.Event("hide.bs.modal");if(o.default(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=o.default(this._element).hasClass(St);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),o.default(document).off(_t),o.default(this._element).removeClass(Ct),o.default(this._element).off(bt),o.default(this._dialog).off(kt),i){var r=d.getTransitionDurationFromElement(this._element);o.default(this._element).one(d.TRANSITION_END,(function(t){return e._hideModal(t)})).emulateTransitionEnd(r)}else this._hideModal()}}},e.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return o.default(t).off(ht)})),o.default(document).off(_t),o.default.removeData(this._element,dt),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=l({},ft,t),d.typeCheckConfig(ut,t,gt),t},e._triggerBackdropTransition=function(){var t=this,e=o.default.Event("hidePrevented.bs.modal");if(o.default(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY="hidden"),this._element.classList.add(Tt);var i=d.getTransitionDurationFromElement(this._dialog);o.default(this._element).off(d.TRANSITION_END),o.default(this._element).one(d.TRANSITION_END,(function(){t._element.classList.remove(Tt),n||o.default(t._element).one(d.TRANSITION_END,(function(){t._element.style.overflowY=""})).emulateTransitionEnd(t._element,i)})).emulateTransitionEnd(i),this._element.focus()}},e._showElement=function(t){var e=this,n=o.default(this._element).hasClass(St),i=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),o.default(this._dialog).hasClass("modal-dialog-scrollable")&&i?i.scrollTop=0:this._element.scrollTop=0,n&&d.reflow(this._element),o.default(this._element).addClass(Ct),this._config.focus&&this._enforceFocus();var r=o.default.Event("shown.bs.modal",{relatedTarget:t}),a=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,o.default(e._element).trigger(r)};if(n){var s=d.getTransitionDurationFromElement(this._dialog);o.default(this._dialog).one(d.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},e._enforceFocus=function(){var t=this;o.default(document).off(_t).on(_t,(function(e){document!==e.target&&t._element!==e.target&&0===o.default(t._element).has(e.target).length&&t._element.focus()}))},e._setEscapeEvent=function(){var t=this;this._isShown?o.default(this._element).on(wt,(function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()})):this._isShown||o.default(this._element).off(wt)},e._setResizeEvent=function(){var t=this;this._isShown?o.default(window).on(yt,(function(e){return t.handleUpdate(e)})):o.default(window).off(yt)},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){o.default(document.body).removeClass(xt),t._resetAdjustments(),t._resetScrollbar(),o.default(t._element).trigger(mt)}))},e._removeBackdrop=function(){this._backdrop&&(o.default(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,n=o.default(this._element).hasClass(St)?St:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),o.default(this._backdrop).appendTo(document.body),o.default(this._element).on(bt,(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._triggerBackdropTransition():e.hide())})),n&&d.reflow(this._backdrop),o.default(this._backdrop).addClass(Ct),!t)return;if(!n)return void t();var i=d.getTransitionDurationFromElement(this._backdrop);o.default(this._backdrop).one(d.TRANSITION_END,t).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){o.default(this._backdrop).removeClass(Ct);var r=function(){e._removeBackdrop(),t&&t()};if(o.default(this._element).hasClass(St)){var a=d.getTransitionDurationFromElement(this._backdrop);o.default(this._backdrop).one(d.TRANSITION_END,r).emulateTransitionEnd(a)}else r()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(Et)),n=[].slice.call(document.querySelectorAll(Pt));o.default(e).each((function(e,n){var i=n.style.paddingRight,r=o.default(n).css("padding-right");o.default(n).data("padding-right",i).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")})),o.default(n).each((function(e,n){var i=n.style.marginRight,r=o.default(n).css("margin-right");o.default(n).data("margin-right",i).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")}));var i=document.body.style.paddingRight,r=o.default(document.body).css("padding-right");o.default(document.body).data("padding-right",i).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}o.default(document.body).addClass(xt)},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(Et));o.default(t).each((function(t,e){var n=o.default(e).data("padding-right");o.default(e).removeData("padding-right"),e.style.paddingRight=n||""}));var e=[].slice.call(document.querySelectorAll(".sticky-top"));o.default(e).each((function(t,e){var n=o.default(e).data("margin-right");void 0!==n&&o.default(e).css("margin-right",n).removeData("margin-right")}));var n=o.default(document.body).data("padding-right");o.default(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,n){return this.each((function(){var i=o.default(this).data(dt),r=l({},ft,o.default(this).data(),"object"==typeof e&&e?e:{});if(i||(i=new t(this,r),o.default(this).data(dt,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e](n)}else r.show&&i.show(n)}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return ft}}]),t}();o.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var e,n=this,i=d.getSelectorFromElement(this);i&&(e=document.querySelector(i));var r=o.default(e).data(dt)?"toggle":l({},o.default(e).data(),o.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=o.default(e).one(vt,(function(t){t.isDefaultPrevented()||a.one(mt,(function(){o.default(n).is(":visible")&&n.focus()}))}));It._jQueryInterface.call(o.default(e),r,this)})),o.default.fn.modal=It._jQueryInterface,o.default.fn.modal.Constructor=It,o.default.fn.modal.noConflict=function(){return o.default.fn.modal=pt,It._jQueryInterface};var Dt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ot=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Mt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function At(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),o=Object.keys(e),r=[].slice.call(i.body.querySelectorAll("*")),a=function(t,n){var i=r[t],a=i.nodeName.toLowerCase();if(-1===o.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var s=[].slice.call(i.attributes),l=[].concat(e["*"]||[],e[a]||[]);s.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===Dt.indexOf(n)||Boolean(t.nodeValue.match(Ot)||t.nodeValue.match(Mt));for(var i=e.filter((function(t){return t instanceof RegExp})),o=0,r=i.length;o<r;o++)if(n.match(i[o]))return!0;return!1})(t,l)||i.removeAttribute(t.nodeName)}))},s=0,l=r.length;s<l;s++)a(s);return i.body.innerHTML}var Bt="tooltip",Rt="bs.tooltip",Lt=".bs.tooltip",$t=o.default.fn.tooltip,Nt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Ft=["sanitize","whiteList","sanitizeFn"],jt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Ht={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Wt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},zt="show",Ut="out",Yt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Vt="fade",Xt="show",qt="hover",Gt="focus",Kt=function(){function t(t,e){if(void 0===r.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=o.default(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),o.default(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(o.default(this.getTipElement()).hasClass(Xt))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),o.default.removeData(this.element,this.constructor.DATA_KEY),o.default(this.element).off(this.constructor.EVENT_KEY),o.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&o.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===o.default(this.element).css("display"))throw new Error("Please use show on visible elements");var e=o.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){o.default(this.element).trigger(e);var n=d.findShadowRoot(this.element),i=o.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!i)return;var a=this.getTipElement(),s=d.getUID(this.constructor.NAME);a.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&o.default(a).addClass(Vt);var l="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var u=this._getContainer();o.default(a).data(this.constructor.DATA_KEY,this),o.default.contains(this.element.ownerDocument.documentElement,this.tip)||o.default(a).appendTo(u),o.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new r.default(this.element,a,this._getPopperConfig(c)),o.default(a).addClass(Xt),o.default(a).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&o.default(document.body).children().on("mouseover",null,o.default.noop);var h=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,o.default(t.element).trigger(t.constructor.Event.SHOWN),e===Ut&&t._leave(null,t)};if(o.default(this.tip).hasClass(Vt)){var p=d.getTransitionDurationFromElement(this.tip);o.default(this.tip).one(d.TRANSITION_END,h).emulateTransitionEnd(p)}else h()}},e.hide=function(t){var e=this,n=this.getTipElement(),i=o.default.Event(this.constructor.Event.HIDE),r=function(){e._hoverState!==zt&&n.parentNode&&n.parentNode.removeChild(n),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),o.default(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(o.default(this.element).trigger(i),!i.isDefaultPrevented()){if(o.default(n).removeClass(Xt),"ontouchstart"in document.documentElement&&o.default(document.body).children().off("mouseover",null,o.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,o.default(this.tip).hasClass(Vt)){var a=d.getTransitionDurationFromElement(n);o.default(n).one(d.TRANSITION_END,r).emulateTransitionEnd(a)}else r();this._hoverState=""}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(t){o.default(this.getTipElement()).addClass("bs-tooltip-"+t)},e.getTipElement=function(){return this.tip=this.tip||o.default(this.config.template)[0],this.tip},e.setContent=function(){var t=this.getTipElement();this.setElementContent(o.default(t.querySelectorAll(".tooltip-inner")),this.getTitle()),o.default(t).removeClass("fade show")},e.setElementContent=function(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=At(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?o.default(e).parent().is(t)||t.empty().append(e):t.text(o.default(e).text())},e.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},e._getPopperConfig=function(t){var e=this;return l({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=l({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:d.isElement(this.config.container)?o.default(this.config.container):o.default(document).find(this.config.container)},e._getAttachment=function(t){return Ht[t.toUpperCase()]},e._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(e){if("click"===e)o.default(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==e){var n=e===qt?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,i=e===qt?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;o.default(t.element).on(n,t.config.selector,(function(e){return t._enter(e)})).on(i,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},o.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||o.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),o.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?Gt:qt]=!0),o.default(e.getTipElement()).hasClass(Xt)||e._hoverState===zt?e._hoverState=zt:(clearTimeout(e._timeout),e._hoverState=zt,e.config.delay&&e.config.delay.show?e._timeout=setTimeout((function(){e._hoverState===zt&&e.show()}),e.config.delay.show):e.show())},e._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||o.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),o.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?Gt:qt]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=Ut,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((function(){e._hoverState===Ut&&e.hide()}),e.config.delay.hide):e.hide())},e._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},e._getConfig=function(t){var e=o.default(this.element).data();return Object.keys(e).forEach((function(t){-1!==Ft.indexOf(t)&&delete e[t]})),"number"==typeof(t=l({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),d.typeCheckConfig(Bt,t,this.constructor.DefaultType),t.sanitize&&(t.template=At(t.template,t.whiteList,t.sanitizeFn)),t},e._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},e._cleanTipClass=function(){var t=o.default(this.getTipElement()),e=t.attr("class").match(Nt);null!==e&&e.length&&t.removeClass(e.join(""))},e._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},e._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(o.default(t).removeClass(Vt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each((function(){var n=o.default(this),i=n.data(Rt),r="object"==typeof e&&e;if((i||!/dispose|hide/.test(e))&&(i||(i=new t(this,r),n.data(Rt,i)),"string"==typeof e)){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Wt}},{key:"NAME",get:function(){return Bt}},{key:"DATA_KEY",get:function(){return Rt}},{key:"Event",get:function(){return Yt}},{key:"EVENT_KEY",get:function(){return Lt}},{key:"DefaultType",get:function(){return jt}}]),t}();o.default.fn.tooltip=Kt._jQueryInterface,o.default.fn.tooltip.Constructor=Kt,o.default.fn.tooltip.noConflict=function(){return o.default.fn.tooltip=$t,Kt._jQueryInterface};var Qt="popover",Jt="bs.popover",Zt=".bs.popover",te=o.default.fn.popover,ee=new RegExp("(^|\\s)bs-popover\\S+","g"),ne=l({},Kt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ie=l({},Kt.DefaultType,{content:"(string|element|function)"}),oe={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},re=function(t){function e(){return t.apply(this,arguments)||this}var n,i;i=t,(n=e).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var r=e.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.addAttachmentClass=function(t){o.default(this.getTipElement()).addClass("bs-popover-"+t)},r.getTipElement=function(){return this.tip=this.tip||o.default(this.config.template)[0],this.tip},r.setContent=function(){var t=o.default(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var t=o.default(this.getTipElement()),e=t.attr("class").match(ee);null!==e&&e.length>0&&t.removeClass(e.join(""))},e._jQueryInterface=function(t){return this.each((function(){var n=o.default(this).data(Jt),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new e(this,i),o.default(this).data(Jt,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},s(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return ne}},{key:"NAME",get:function(){return Qt}},{key:"DATA_KEY",get:function(){return Jt}},{key:"Event",get:function(){return oe}},{key:"EVENT_KEY",get:function(){return Zt}},{key:"DefaultType",get:function(){return ie}}]),e}(Kt);o.default.fn.popover=re._jQueryInterface,o.default.fn.popover.Constructor=re,o.default.fn.popover.noConflict=function(){return o.default.fn.popover=te,re._jQueryInterface};var ae="scrollspy",se="bs.scrollspy",le="."+se,ce=o.default.fn[ae],ue={offset:10,method:"auto",target:""},de={offset:"number",method:"string",target:"(string|element)"},he="active",pe=".nav, .list-group",fe=".nav-link",ge="position",me=function(){function t(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+".nav-link,"+this._config.target+" "+".list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,o.default(this._scrollElement).on("scroll.bs.scrollspy",(function(t){return n._process(t)})),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":ge,n="auto"===this._config.method?e:this._config.method,i=n===ge?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var e,r=d.getSelectorFromElement(t);if(r&&(e=document.querySelector(r)),e){var a=e.getBoundingClientRect();if(a.width||a.height)return[o.default(e)[n]().top+i,r]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},e.dispose=function(){o.default.removeData(this._element,se),o.default(this._scrollElement).off(le),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=l({},ue,"object"==typeof t&&t?t:{})).target&&d.isElement(t.target)){var e=o.default(t.target).attr("id");e||(e=d.getUID(ae),o.default(t.target).attr("id",e)),t.target="#"+e}return d.typeCheckConfig(ae,t,de),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;)this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),n=o.default([].slice.call(document.querySelectorAll(e.join(","))));n.hasClass("dropdown-item")?(n.closest(".dropdown").find(".dropdown-toggle").addClass(he),n.addClass(he)):(n.addClass(he),n.parents(pe).prev(".nav-link, .list-group-item").addClass(he),n.parents(pe).prev(".nav-item").children(fe).addClass(he)),o.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains(he)})).forEach((function(t){return t.classList.remove(he)}))},t._jQueryInterface=function(e){return this.each((function(){var n=o.default(this).data(se);if(n||(n=new t(this,"object"==typeof e&&e),o.default(this).data(se,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return ue}}]),t}();o.default(window).on("load.bs.scrollspy.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),e=t.length;e--;){var n=o.default(t[e]);me._jQueryInterface.call(n,n.data())}})),o.default.fn[ae]=me._jQueryInterface,o.default.fn[ae].Constructor=me,o.default.fn[ae].noConflict=function(){return o.default.fn[ae]=ce,me._jQueryInterface};var ve="bs.tab",_e=o.default.fn.tab,ye="active",be="fade",we="show",ke=".active",xe="> li > .active",Se=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&o.default(this._element).hasClass(ye)||o.default(this._element).hasClass("disabled"))){var e,n,i=o.default(this._element).closest(".nav, .list-group")[0],r=d.getSelectorFromElement(this._element);if(i){var a="UL"===i.nodeName||"OL"===i.nodeName?xe:ke;n=(n=o.default.makeArray(o.default(i).find(a)))[n.length-1]}var s=o.default.Event("hide.bs.tab",{relatedTarget:this._element}),l=o.default.Event("show.bs.tab",{relatedTarget:n});if(n&&o.default(n).trigger(s),o.default(this._element).trigger(l),!l.isDefaultPrevented()&&!s.isDefaultPrevented()){r&&(e=document.querySelector(r)),this._activate(this._element,i);var c=function(){var e=o.default.Event("hidden.bs.tab",{relatedTarget:t._element}),i=o.default.Event("shown.bs.tab",{relatedTarget:n});o.default(n).trigger(e),o.default(t._element).trigger(i)};e?this._activate(e,e.parentNode,c):c()}}},e.dispose=function(){o.default.removeData(this._element,ve),this._element=null},e._activate=function(t,e,n){var i=this,r=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?o.default(e).children(ke):o.default(e).find(xe))[0],a=n&&r&&o.default(r).hasClass(be),s=function(){return i._transitionComplete(t,r,n)};if(r&&a){var l=d.getTransitionDurationFromElement(r);o.default(r).removeClass(we).one(d.TRANSITION_END,s).emulateTransitionEnd(l)}else s()},e._transitionComplete=function(t,e,n){if(e){o.default(e).removeClass(ye);var i=o.default(e.parentNode).find("> .dropdown-menu .active")[0];i&&o.default(i).removeClass(ye),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(o.default(t).addClass(ye),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),d.reflow(t),t.classList.contains(be)&&t.classList.add(we),t.parentNode&&o.default(t.parentNode).hasClass("dropdown-menu")){var r=o.default(t).closest(".dropdown")[0];if(r){var a=[].slice.call(r.querySelectorAll(".dropdown-toggle"));o.default(a).addClass(ye)}t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(e){return this.each((function(){var n=o.default(this),i=n.data(ve);if(i||(i=new t(this),n.data(ve,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),t}();o.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(t){t.preventDefault(),Se._jQueryInterface.call(o.default(this),"show")})),o.default.fn.tab=Se._jQueryInterface,o.default.fn.tab.Constructor=Se,o.default.fn.tab.noConflict=function(){return o.default.fn.tab=_e,Se._jQueryInterface};var Ce="toast",Te="bs.toast",Ee=o.default.fn.toast,Pe="click.dismiss.bs.toast",Ie="hide",De="show",Oe="showing",Me={animation:"boolean",autohide:"boolean",delay:"number"},Ae={animation:!0,autohide:!0,delay:500},Be=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var e=t.prototype;return e.show=function(){var t=this,e=o.default.Event("show.bs.toast");if(o.default(this._element).trigger(e),!e.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var n=function(){t._element.classList.remove(Oe),t._element.classList.add(De),o.default(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove(Ie),d.reflow(this._element),this._element.classList.add(Oe),this._config.animation){var i=d.getTransitionDurationFromElement(this._element);o.default(this._element).one(d.TRANSITION_END,n).emulateTransitionEnd(i)}else n()}},e.hide=function(){if(this._element.classList.contains(De)){var t=o.default.Event("hide.bs.toast");o.default(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},e.dispose=function(){this._clearTimeout(),this._element.classList.contains(De)&&this._element.classList.remove(De),o.default(this._element).off(Pe),o.default.removeData(this._element,Te),this._element=null,this._config=null},e._getConfig=function(t){return t=l({},Ae,o.default(this._element).data(),"object"==typeof t&&t?t:{}),d.typeCheckConfig(Ce,t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;o.default(this._element).on(Pe,'[data-dismiss="toast"]',(function(){return t.hide()}))},e._close=function(){var t=this,e=function(){t._element.classList.add(Ie),o.default(t._element).trigger("hidden.bs.toast")};if(this._element.classList.remove(De),this._config.animation){var n=d.getTransitionDurationFromElement(this._element);o.default(this._element).one(d.TRANSITION_END,e).emulateTransitionEnd(n)}else e()},e._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},t._jQueryInterface=function(e){return this.each((function(){var n=o.default(this),i=n.data(Te);if(i||(i=new t(this,"object"==typeof e&&e),n.data(Te,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e](this)}}))},s(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"DefaultType",get:function(){return Me}},{key:"Default",get:function(){return Ae}}]),t}();o.default.fn.toast=Be._jQueryInterface,o.default.fn.toast.Constructor=Be,o.default.fn.toast.noConflict=function(){return o.default.fn.toast=Ee,Be._jQueryInterface},t.Alert=f,t.Button=w,t.Carousel=B,t.Collapse=V,t.Dropdown=ct,t.Modal=It,t.Popover=re,t.Scrollspy=me,t.Tab=Se,t.Toast=Be,t.Tooltip=Kt,t.Util=d,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(755),n(981))},671:t=>{t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=32)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=n(6),o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=d;var r=n(5);r.inherits=n(2);var a=n(23),s=n(14);r.inherits(d,a);for(var l=o(s.prototype),c=0;c<l.length;c++){var u=l[c];d.prototype[u]||(d.prototype[u]=s.prototype[u])}function d(t){if(!(this instanceof d))return new d(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),d.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";(function(t){var i=n(38),o=n(39),r=n(40);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return c(this,t,e,n)}function c(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=h(t,e),t}(t,e,n,i):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,n),o=(t=s(t,i)).write(e,n);return o!==i&&(t=t.slice(0,o)),t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):h(t,e);if("Buffer"===e.type&&r(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(u(e),t=s(t,e<0?0:0|p(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(i)return j(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,o);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,o){var r,a=1,s=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var u=-1;for(r=n;r<s;r++)if(c(t,r)===c(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*a}else-1!==u&&(r-=r-u),u=-1}else for(n+l>s&&(n=s-l),r=n;r>=0;r--){for(var d=!0,h=0;h<l;h++)if(c(t,r+h)!==c(e,h)){d=!1;break}if(d)return r}return-1}function _(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function y(t,e,n,i){return W(j(e,t.length-n),t,n,i)}function b(t,e,n,i){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return b(t,e,n,i)}function k(t,e,n,i){return W(H(e),t,n,i)}function x(t,e,n,i){return W(function(t,e){for(var n,i,o,r=[],a=0;a<t.length&&!((e-=2)<0);++a)i=(n=t.charCodeAt(a))>>8,o=n%256,r.push(o),r.push(i);return r}(e,t.length-n),t,n,i)}function S(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var r,a,s,l,c=t[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(r=t[o+1]))&&(l=(31&c)<<6|63&r)>127&&(u=l);break;case 3:r=t[o+1],a=t[o+2],128==(192&r)&&128==(192&a)&&(l=(15&c)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=t[o+1],a=t[o+2],s=t[o+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=d}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=T));return n}(i)}e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return c(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,i){return u(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return d(null,t)},l.allocUnsafeSlow=function(t){return d(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,o){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(r,a),c=this.slice(i,o),u=t.slice(e,n),d=0;d<s;++d)if(c[d]!==u[d]){r=c[d],a=u[d];break}return r<a?-1:a<r?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function E(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function P(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function I(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o="",r=e;r<n;++r)o+=F(t[r]);return o}function D(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,i,o,r){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function A(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-n,2);o<r;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function B(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-n,4);o<r;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function R(t,e,n,i,o,r){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,i,r){return r||R(t,0,n,4),o.write(t,e,n,i,23,4),n+4}function $(t,e,n,i,r){return r||R(t,0,n,8),o.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var o=e-t;n=new l(o,void 0);for(var r=0;r<o;++r)n[r]=this[r+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},l.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=e,o=1,r=this[t+--i];i>0&&(o*=256);)r+=this[t+--i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),o.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),o.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),o.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),o.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||M(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||M(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);M(this,t,e,n,o-1,-o)}var r=0,a=1,s=0;for(this[e]=255&t;++r<n&&(a*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);M(this,t,e,n,o-1,-o)}var r=n-1,a=1,s=0;for(this[e+r]=255&t;--r>=0&&(a*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return $(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return $(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o,r=i-n;if(this===t&&n<e&&e<i)for(o=r-1;o>=0;--o)t[o+e]=this[o+n];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},l.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var a=l.isBuffer(t)?t:j(new l(t,i).toString()),s=a.length;for(r=0;r<n-e;++r)this[r+e]=a[r%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var i=t.length,o=null,r=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function H(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(0))},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var t=s(h);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(3).Buffer)},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var r,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,i)}));case 4:return e.nextTick((function(){t.call(null,n,i,o)}));default:for(r=new Array(s-1),a=0;a<r.length;)r[a++]=arguments[a];return e.nextTick((function(){t.apply(null,r)}))}}}:t.exports=e}).call(this,n(4))},function(t,e,n){var i=n(3),o=i.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=i:(r(i,e),e.Buffer=a),r(o,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=o(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){var i=n(17)(Object,"create");t.exports=i},function(t,e,n){var i=n(31);t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},function(t,e,n){var i=n(96);t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(35),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(r(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,l=0;l<a;l++)c[l].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(a=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(t,o),n||(n=!0,e.apply(this,arguments))}return o.listener=e,this.on(t,o),this},n.prototype.removeListener=function(t,e){var n,r,a,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){(e=t.exports=n(23)).Stream=e,e.Readable=e,e.Writable=n(14),e.Duplex=n(1),e.Transform=n(27),e.PassThrough=n(45)},function(t,e,n){"use strict";(function(e,i,o){var r=n(6);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;for(t.entry=null;i;){var o=i.callback;e.pendingcb--,o(void 0),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=_;var s,l=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:r.nextTick;_.WritableState=v;var c=n(5);c.inherits=n(2);var u,d={deprecate:n(44)},h=n(24),p=n(7).Buffer,f=o.Uint8Array||function(){},g=n(25);function m(){}function v(t,e){s=s||n(1),t=t||{};var i=e instanceof s;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,c=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:i&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===t.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(o(i),t._writableState.errorEmitted=!0,t.emit("error",i),S(t,e))}(t,n,i,e,o);else{var a=k(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),i?l(b,t,n,a,o):b(t,n,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function _(t){if(s=s||n(1),!(u.call(_,this)||this instanceof s))return new _(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function y(t,e,n,i,o,r,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(o,e.onwrite):t._write(o,r,e.onwrite),e.sync=!1}function b(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),S(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,o=new Array(i),r=e.corkedRequestsFree;r.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,y(t,e,!0,e.length,o,"",r.finish),e.pendingcb++,e.lastBufferedRequest=null,r.next?(e.corkedRequestsFree=r.next,r.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,d=n.callback;if(y(t,e,!1,e.objectMode?1:c.length,c,u,d),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function k(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),S(t,e)}))}function S(t,e){var n=k(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,r.nextTick(x,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(_,h),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!u.call(this,t)||this===_&&t&&t._writableState instanceof v}})):u=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(t,e,n){var i=this._writableState,o=!1,a=!i.objectMode&&function(t){return p.isBuffer(t)||t instanceof f}(t);return a&&!p.isBuffer(t)&&(t=function(t){return p.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),r.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),r.nextTick(i,a),o=!1),o}(this,i,t,n))&&(i.pendingcb++,o=function(t,e,n,i,o,r){if(!n){var a=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,n)),e}(e,i,o);i!==a&&(n=!0,o="buffer",i=a)}var s=e.objectMode?1:i.length;e.length+=s;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:o,isBuf:n,callback:r,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,s,i,o,r);return l}(this,i,a,t,e,n)),o},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,S(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(4),n(11).setImmediate,n(0))},function(t,e,n){(function(e,n,i){t.exports=function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return o(e[a][1][t]||t)}),u,u.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof _dereq_&&_dereq_,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),i=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),i}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,n,i){"use strict";var o;try{throw new Error}catch(t){o=t}var r=t("./schedule"),a=t("./queue"),s=t("./util");function l(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=r}function c(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function u(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function d(t){this._normalQueue._pushOne(t),this._queueTick()}l.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},l.prototype.hasCustomScheduler=function(){return this._customScheduler},l.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},l.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this._trampolineEnabled=!1)},l.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},l.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},l.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout((function(){t(e)}),0);else try{this._schedule((function(){t(e)}))}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(l.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?c.call(this,t,e,n):this._schedule((function(){setTimeout((function(){t.call(e,n)}),100)}))},l.prototype.invoke=function(t,e,n){this._trampolineEnabled?u.call(this,t,e,n):this._schedule((function(){t.call(e,n)}))},l.prototype.settlePromises=function(t){this._trampolineEnabled?d.call(this,t):this._schedule((function(){t._settlePromises()}))}):(l.prototype.invokeLater=c,l.prototype.invoke=u,l.prototype.settlePromises=d),l.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),i=t.shift();e.call(n,i)}else e._settlePromises()}},l.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},l.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},l.prototype._reset=function(){this._isTickUsed=!1},n.exports=l,n.exports.firstLineError=o},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){var o=!1,r=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(r,r,null,this,t)},s=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},l=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(r){o||(o=!0,t.prototype._propagateFrom=i.propagateFromFunction(),t.prototype._boundValue=i.boundValueFunction());var c=n(r),u=new t(e);u._propagateFrom(this,1);var d=this._target();if(u._setBoundTo(c),c instanceof t){var h={promiseRejectionQueued:!1,promise:u,target:d,bindingPromise:c};d._then(e,a,void 0,u,h),c._then(s,l,void 0,u,h),u._setOnCancel(c)}else u._resolveCallback(d);return u},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=function(){try{Promise===o&&(Promise=i)}catch(t){}return o},e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var i=Object.create;if(i){var o=i(null),r=i(null);o[" size"]=r[" size"]=0}e.exports=function(e){var n=t("./util"),i=n.canEvaluate;function o(t){return function(t,i){var o;if(null!=t&&(o=t[i]),"function"!=typeof o){var r="Object "+n.classString(t)+" has no method '"+n.toString(i)+"'";throw new e.TypeError(r)}return o}(t,this.pop()).apply(t,this)}function r(t){return t[this]}function a(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}n.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(o,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=a;else if(i){var n=(void 0)(t);e=null!==n?n:r}else e=r;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,i,o){var r=t("./util"),a=r.tryCatch,s=r.errorObj,l=e._async;e.prototype.break=e.prototype.cancel=function(){if(!o.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(r.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var i=a(t).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),l.throwLater(i.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),i=t("./es5").keys,o=n.tryCatch,r=n.errorObj;return function(t,a,s){return function(l){var c=s._boundValue();t:for(var u=0;u<t.length;++u){var d=t[u];if(d===Error||null!=d&&d.prototype instanceof Error){if(l instanceof d)return o(a).call(c,l)}else if("function"==typeof d){var h=o(d).call(c,l);if(h===r)return h;if(h)return o(a).call(c,l)}else if(n.isObject(l)){for(var p=i(d),f=0;f<p.length;++f){var g=p[f];if(d[g]!=l[g])continue t}return o(a).call(c,l)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){var e=!1,n=[];function i(){this._trace=new i.CapturedTrace(o())}function o(){var t=n.length-1;if(t>=0)return n[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},i.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},i.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},i.CapturedTrace=null,i.create=function(){if(e)return new i},i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var n=t.prototype._pushContext,r=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,l=t.prototype._promiseCreated;i.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=r,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=l,e=!1},e=!0,t.prototype._pushContext=i.prototype._pushContext,t.prototype._popContext=i.prototype._popContext,t._peekContext=t.prototype._peekContext=o,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},i}},{}],9:[function(t,n,i){"use strict";n.exports=function(n,i){var o,r,a,s=n._getDomain,l=n._async,c=t("./errors").Warning,u=t("./util"),d=u.canAttachTrace,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,g=null,m=null,v=!1,_=!(0==u.env("BLUEBIRD_DEBUG")),y=!(0==u.env("BLUEBIRD_WARNINGS")||!_&&!u.env("BLUEBIRD_WARNINGS")),b=!(0==u.env("BLUEBIRD_LONG_STACK_TRACES")||!_&&!u.env("BLUEBIRD_LONG_STACK_TRACES")),w=0!=u.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(y||!!u.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout((function(){t._notifyUnhandledRejection()}),1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){z("rejectionHandled",o,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),z("unhandledRejection",r,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return F(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=s();r="function"==typeof t?null===e?t:u.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=s();o="function"==typeof t?null===e?t:u.domainBind(e,t):void 0};var k=function(){};n.longStackTraces=function(){if(l.haveItemsQueued()&&!Q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Q.longStackTraces&&Y()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;Q.longStackTraces=!0,k=function(){if(l.haveItemsQueued()&&!Q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,i.deactivateLongStackTraces(),l.enableTrampoline(),Q.longStackTraces=!1},n.prototype._captureStackTrace=$,n.prototype._attachExtraTrace=N,i.activateLongStackTraces(),l.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return Q.longStackTraces&&Y()};var x=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return u.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!u.global.dispatchEvent(n)}}return"function"==typeof Event?(t=new Event("CustomEvent"),u.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!u.global.dispatchEvent(n)}):((t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),u.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!u.global.dispatchEvent(n)})}catch(t){}return function(){return!1}}(),S=u.isNode?function(){return e.emit.apply(e,arguments)}:u.global?function(t){var e="on"+t.toLowerCase(),n=u.global[e];return!!n&&(n.apply(u.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(t,e){return{promise:e}}var T={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:C},E=function(t){var e=!1;try{e=S.apply(null,arguments)}catch(t){l.throwLater(t),e=!0}var n=!1;try{n=x(t,T[t].apply(null,arguments))}catch(t){l.throwLater(t),n=!0}return n||e};function P(){return!1}function I(t,e,n){var i=this;try{t(e,n,(function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+u.toString(t));i._attachCancellationCallback(t)}))}catch(t){return t}}function D(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?u.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function O(){return this._onCancelField}function M(t){this._onCancelField=t}function A(){this._cancellationParent=void 0,this._onCancelField=void 0}function B(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}n.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&k()),"warnings"in t){var e=t.warnings;Q.warnings=!!e,w=Q.warnings,u.isObject(e)&&"wForgottenReturn"in e&&(w=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!Q.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=A,n.prototype._propagateFrom=B,n.prototype._onCancel=O,n.prototype._setOnCancel=M,n.prototype._attachCancellationCallback=D,n.prototype._execute=I,R=B,Q.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!Q.monitoring?(Q.monitoring=!0,n.prototype._fireEvent=E):!t.monitoring&&Q.monitoring&&(Q.monitoring=!1,n.prototype._fireEvent=P)),n},n.prototype._fireEvent=P,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var R=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function L(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function $(){this._trace=new G(this._peekContext())}function N(t,e){if(d(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var i=H(t);u.notEnumerableProp(t,"stack",i.message+"\n"+i.stack.join("\n")),u.notEnumerableProp(t,"__stackCleaned__",!0)}}}function F(t,e,i){if(Q.warnings){var o,r=new c(t);if(e)i._attachExtraTrace(r);else if(Q.longStackTraces&&(o=n._peekContext()))o.attachExtraTrace(r);else{var a=H(r);r.stack=a.message+"\n"+a.stack.join("\n")}E("warning",r)||W(r,"",!0)}}function j(t){for(var e=[],n=0;n<t.length;++n){var i=t[n],o="    (No stack trace)"===i||g.test(i),r=o&&V(i);o&&!r&&(v&&" "!==i.charAt(0)&&(i="    "+i),e.push(i))}return e}function H(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var i=e[n];if("    (No stack trace)"===i||g.test(i))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:j(e)}}function W(t,e,n){if("undefined"!=typeof console){var i;if(u.isObject(t)){var o=t.stack;i=e+m(o,t)}else i=e+String(t);"function"==typeof a?a(i,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function z(t,e,n,i){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(i):e(n,i))}catch(t){l.throwLater(t)}"unhandledRejection"===t?E(t,n,i)||o||W(n,"Unhandled rejection "):E(t,i)}function U(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():u.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}function Y(){return"function"==typeof K}var V=function(){return!1},X=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function q(t){var e=t.match(X);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function G(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);K(this,G),e>32&&this.uncycle()}u.inherits(G,Error),i.CapturedTrace=G,G.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},i=0,o=this;void 0!==o;++i)e.push(o),o=o._parent;for(i=(t=this._length=i)-1;i>=0;--i){var r=e[i].stack;void 0===n[r]&&(n[r]=i)}for(i=0;i<t;++i){var a=n[e[i].stack];if(void 0!==a&&a!==i){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[i]._parent=void 0,e[i]._length=1;var s=i>0?e[i-1]:this;a<t-1?(s._parent=e[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var l=s._length+1,c=i-2;c>=0;--c)e[c]._length=l,l++;return}}}},G.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=H(t),n=e.message,i=[e.stack],o=this;void 0!==o;)i.push(j(o.stack.split("\n"))),o=o._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var i=t[n],o=e.length-1,r=e[o],a=-1,s=i.length-1;s>=0;--s)if(i[s]===r){a=s;break}for(s=a;s>=0;--s){var l=i[s];if(e[o]!==l)break;e.pop(),o--}e=i}}(i),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(i),u.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,i)),u.notEnumerableProp(t,"__stackCleaned__",!0)}};var K=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():U(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,g=t,m=e;var n=Error.captureStackTrace;return V=function(t){return h.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var i,o=new Error;if("string"==typeof o.stack&&o.stack.split("\n")[0].indexOf("stackDetection@")>=0)return g=/@/,m=e,v=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){i="stack"in t}return"stack"in o||!i||"number"!=typeof Error.stackTraceLimit?(m=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?U(e):e.toString()},null):(g=t,m=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(a=function(t){console.warn(t)},u.isNode&&e.stderr.isTTY?a=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:u.isNode||"string"!=typeof(new Error).stack||(a=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var Q={warnings:y,longStackTraces:!1,cancellation:!1,monitoring:!1};return b&&n.longStackTraces(),{longStackTraces:function(){return Q.longStackTraces},warnings:function(){return Q.warnings},cancellation:function(){return Q.cancellation},monitoring:function(){return Q.monitoring},propagateFromFunction:function(){return R},boundValueFunction:function(){return L},checkForgottenReturns:function(t,e,n,i,o){if(void 0===t&&null!==e&&w){if(void 0!==o&&o._returnedNonUndefined())return;if(0==(65535&i._bitField))return;n&&(n+=" ");var r="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),l=j(s),c=l.length-1;c>=0;--c){var u=l[c];if(!p.test(u)){var d=u.match(f);d&&(r="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(l.length>0){var h=l[0];for(c=0;c<s.length;++c)if(s[c]===h){c>0&&(a="\n"+s[c-1]);break}}}var g="a promise was created in a "+n+"handler "+r+"but was not returned from it, see http://goo.gl/rRqMUw"+a;i._warn(g,!0,e)}},setBounds:function(t,e){if(Y()){for(var n,i,o=t.stack.split("\n"),r=e.stack.split("\n"),a=-1,s=-1,l=0;l<o.length;++l)if(c=q(o[l])){n=c.fileName,a=c.line;break}for(l=0;l<r.length;++l){var c;if(c=q(r[l])){i=c.fileName,s=c.line;break}}a<0||s<0||!n||!i||n!==i||a>=s||(V=function(t){if(h.test(t))return!0;var e=q(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}},warn:F,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),F(n)},CapturedTrace:G,fireDomEvent:x,fireGlobalEvent:S}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,(function(){throw e}))},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var i=arguments[1];return i instanceof t&&i.suppressUnhandledRejections(),this.caught(n,(function(){return i}))}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce,i=t.all;function o(){return i(this)}t.prototype.each=function(t){return n(this,t,e,0)._then(o,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,i){return n(t,i,e,0)._then(o,void 0,void 0,t,void 0)},t.mapSeries=function(t,i){return n(t,i,e,e)}}},{}],12:[function(t,e,n){"use strict";var i,o,r=t("./es5"),a=r.freeze,s=t("./util"),l=s.inherits,c=s.notEnumerableProp;function u(t,e){function n(i){if(!(this instanceof n))return new n(i);c(this,"message","string"==typeof i?i:e),c(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}var d=u("Warning","warning"),h=u("CancellationError","cancellation error"),p=u("TimeoutError","timeout error"),f=u("AggregateError","aggregate error");try{i=TypeError,o=RangeError}catch(t){i=u("TypeError","type error"),o=u("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"==typeof Array.prototype[g[m]]&&(f.prototype[g[m]]=Array.prototype[g[m]]);r.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;function _(t){if(!(this instanceof _))return new _(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}f.prototype.toString=function(){var t=Array(4*v+1).join(" "),e="\n"+t+"AggregateError of:\n";v++,t=Array(4*v+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",o=i.split("\n"),r=0;r<o.length;++r)o[r]=t+o[r];e+=(i=o.join("\n"))+"\n"}return v--,e},l(_,Error);var y=Error.__BluebirdErrorTypes__;y||(y=a({CancellationError:h,TimeoutError:p,OperationalError:_,RejectionError:_,AggregateError:f}),r.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error,TypeError:i,RangeError:o,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,e,n){var i=function(){"use strict";return void 0===this}();if(i)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var o={}.hasOwnProperty,r={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===r.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return a}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,i){return n(this,t,i,e)},t.filter=function(t,i,o){return n(t,i,o,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,i){var o=t("./util"),r=e.CancellationError,a=o.errorObj,s=t("./catch_filter")(i);function l(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function u(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function d(){return p.call(this,this.promise._target()._settledValue())}function h(t){if(!u(this,t))return a.e=t,a}function p(t){var o=this.promise,s=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?s.call(o._boundValue()):s.call(o._boundValue(),t);if(l===i)return l;if(void 0!==l){o._setReturnedNonUndefined();var p=n(l,o);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var f=new r("late cancellation observer");return o._attachExtraTrace(f),a.e=f,a}p.isPending()&&p._attachCancellationCallback(new c(this))}return p._then(d,h,void 0,this,void 0)}}}return o.isRejected()?(u(this),a.e=t,a):(u(this),t)}return l.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){u(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new l(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,p,p)},e.prototype.tap=function(t){return this._passThrough(t,1,p)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,p);var i,r=new Array(n-1),a=0;for(i=0;i<n-1;++i){var l=arguments[i];if(!o.isObject(l))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+o.classString(l)));r[a++]=l}r.length=a;var c=arguments[i];return this._passThrough(s(r,c,this),1,void 0,p)},l}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,i,o,r,a){var s=t("./errors").TypeError,l=t("./util"),c=l.errorObj,u=l.tryCatch,d=[];function h(t,n,o,r){if(a.cancellation()){var s=new e(i),l=this._finallyPromise=new e(i);this._promise=s.lastly((function(){return l})),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new e(i))._captureStackTrace();this._stack=r,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof o?[o].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(h,r),h.prototype._isResolved=function(){return null===this._promise},h.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=u(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},h.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=u(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=u(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(t){var n=this._promise;if(t===c)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var i=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(i);var r=o(i,this._promise);if(r instanceof e||null!==(r=function(t,n,i){for(var r=0;r<n.length;++r){i._pushContext();var a=u(n[r])(t);if(i._popContext(),a===c){i._pushContext();var s=e.reject(c.e);return i._popContext(),s}var l=o(a,i);if(l instanceof e)return l}return null}(r,this._yieldHandlers,this._promise))){var a=(r=r._target())._bitField;0==(50397184&a)?(this._yieldedPromise=r,r._proxy(this,null)):0!=(33554432&a)?e._async.invoke(this._promiseFulfilled,this,r._value()):0!=(16777216&a)?e._async.invoke(this._promiseRejected,this,r._reason()):this._promiseCancelled()}else this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,i=h,o=(new Error).stack;return function(){var e=t.apply(this,arguments),r=new i(void 0,void 0,n,o),a=r.promise();return r._generator=e,r._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new s("expecting a function but got "+l.classString(t));d.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new h(t,this),o=i.promise();return i._run(e.spawn),o}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,i,o,r,a){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var i=[].slice.call(arguments);t&&i.pop();var o=new n(i).promise();return void 0!==t?o.spread(t):o}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,i,o,r,a){var s=e._getDomain,l=t("./util"),c=l.tryCatch,u=l.errorObj,d=e._async;function h(t,e,n,i){this.constructor$(t),this._promise._captureStackTrace();var o=s();this._callback=null===o?e:l.domainBind(o,e),this._preservedValues=i===r?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}function p(t,n,o,r){if("function"!=typeof n)return i("expecting a function but got "+l.classString(n));var a=0;if(void 0!==o){if("object"!=typeof o||null===o)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(o)));if("number"!=typeof o.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(o.concurrency)));a=o.concurrency}return new h(t,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,r).promise()}l.inherits(h,n),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,n){var i=this._values,r=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(i[n=-1*n-1]=t,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return i[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var d=this._promise,h=this._callback,p=d._boundValue();d._pushContext();var f=c(h).call(p,t,n,r),g=d._popContext();if(a.checkForgottenReturns(f,g,null!==s?"Promise.filter":"Promise.map",d),f===u)return this._reject(f.e),!0;var m=o(f,this._promise);if(m instanceof e){var v=(m=m._target())._bitField;if(0==(50397184&v))return l>=1&&this._inFlight++,i[n]=m,m._proxy(this,-1*(n+1)),!1;if(0==(33554432&v))return 0!=(16777216&v)?(this._reject(m._reason()),!0):(this._cancel(),!0);f=m._value()}i[n]=f}return++this._totalResolved>=r&&(null!==s?this._filter(i,s):this._resolve(i),!0)},h.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var i=t.pop();this._promiseFulfilled(n[i],i)}},h.prototype._filter=function(t,e){for(var n=e.length,i=new Array(n),o=0,r=0;r<n;++r)t[r]&&(i[o++]=e[r]);i.length=o,this._resolve(i)},h.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return p(this,t,e,null)},e.map=function(t,e,n,i){return p(t,e,n,i)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,i,o,r){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var i=new e(n);i._captureStackTrace(),i._pushContext();var o=s(t).apply(this,arguments),a=i._popContext();return r.checkForgottenReturns(o,a,"Promise.method",i),i._resolveFromSyncValue(o),i}},e.attempt=e.try=function(t){if("function"!=typeof t)return o("expecting a function but got "+a.classString(t));var i,l=new e(n);if(l._captureStackTrace(),l._pushContext(),arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],u=arguments[2];i=a.isArray(c)?s(t).apply(u,c):s(t).call(u,c)}else i=s(t)();var d=l._popContext();return r.checkForgottenReturns(i,d,"Promise.try",l),l._resolveFromSyncValue(i),l},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";var i=t("./util"),o=i.maybeWrapAsError,r=t("./errors").OperationalError,a=t("./es5"),s=/^(?:name|message|stack|cause)$/;function l(t){var e;if(function(t){return t instanceof Error&&a.getPrototypeOf(t)===Error.prototype}(t)){(e=new r(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=a.keys(t),o=0;o<n.length;++o){var l=n[o];s.test(l)||(e[l]=t[l])}return e}return i.markAsOriginatingFromRejection(t),t}e.exports=function(t,e){return function(n,i){if(null!==t){if(n){var r=l(o(n));t._attachExtraTrace(r),t._reject(r)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(i);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),i=e._async,o=n.tryCatch,r=n.errorObj;function a(t,e){if(!n.isArray(t))return s.call(this,t,e);var a=o(e).apply(this._boundValue(),[null].concat(t));a===r&&i.throwLater(a.e)}function s(t,e){var n=this._boundValue(),a=void 0===t?o(e).call(n,null):o(e).call(n,null,t);a===r&&i.throwLater(a.e)}function l(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var a=o(e).call(this._boundValue(),t);a===r&&i.throwLater(a.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=s;void 0!==e&&Object(e).spread&&(n=a),this._then(n,l,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){"use strict";n.exports=function(){var i=function(){return new f("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},o=function(){return new I.PromiseInspection(this._target())},r=function(t){return I.reject(new f(t))};function a(){}var s,l={},c=t("./util");s=c.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(I,"_getDomain",s);var u=t("./es5"),d=t("./async"),h=new d;u.defineProperty(I,"_async",{value:h});var p=t("./errors"),f=I.TypeError=p.TypeError;I.RangeError=p.RangeError;var g=I.CancellationError=p.CancellationError;I.TimeoutError=p.TimeoutError,I.OperationalError=p.OperationalError,I.RejectionError=p.OperationalError,I.AggregateError=p.AggregateError;var m=function(){},v={},_={},y=t("./thenables")(I,m),b=t("./promise_array")(I,m,y,r,a),w=t("./context")(I),k=w.create,x=t("./debuggability")(I,w),S=(x.CapturedTrace,t("./finally")(I,y,_)),C=t("./catch_filter")(_),T=t("./nodeback"),E=c.errorObj,P=c.tryCatch;function I(t){t!==m&&function(t,e){if(null==t||t.constructor!==I)throw new f("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new f("expecting a function but got "+c.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function D(t){this.promise._resolveCallback(t)}function O(t){this.promise._rejectCallback(t,!1)}function M(t){var e=new I(m);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return I.prototype.toString=function(){return"[object Promise]"},I.prototype.caught=I.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,i=new Array(e-1),o=0;for(n=0;n<e-1;++n){var a=arguments[n];if(!c.isObject(a))return r("Catch statement predicate: expecting an object but got "+c.classString(a));i[o++]=a}return i.length=o,t=arguments[n],this.then(void 0,C(i,t,this))}return this.then(void 0,t)},I.prototype.reflect=function(){return this._then(o,o,void 0,this,void 0)},I.prototype.then=function(t,e){if(x.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(n+=", "+c.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},I.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},I.prototype.spread=function(t){return"function"!=typeof t?r("expecting a function but got "+c.classString(t)):this.all()._then(t,void 0,void 0,v,void 0)},I.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},I.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},I.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},I.getNewLibraryCopy=n.exports,I.is=function(t){return t instanceof I},I.fromNode=I.fromCallback=function(t){var e=new I(m);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=P(t)(T(e,n));return i===E&&e._rejectCallback(i.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},I.all=function(t){return new b(t).promise()},I.cast=function(t){var e=y(t);return e instanceof I||((e=new I(m))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},I.resolve=I.fulfilled=I.cast,I.reject=I.rejected=function(t){var e=new I(m);return e._captureStackTrace(),e._rejectCallback(t,!0),e},I.setScheduler=function(t){if("function"!=typeof t)throw new f("expecting a function but got "+c.classString(t));return h.setScheduler(t)},I.prototype._then=function(t,e,n,i,o){var r=void 0!==o,a=r?o:new I(m),l=this._target(),u=l._bitField;r||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===i&&0!=(2097152&this._bitField)&&(i=0!=(50397184&u)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var d=s();if(0!=(50397184&u)){var p,f,v=l._settlePromiseCtx;0!=(33554432&u)?(f=l._rejectionHandler0,p=t):0!=(16777216&u)?(f=l._fulfillmentHandler0,p=e,l._unsetRejectionIsUnhandled()):(v=l._settlePromiseLateCancellationObserver,f=new g("late cancellation observer"),l._attachExtraTrace(f),p=e),h.invoke(v,l,{handler:null===d?p:"function"==typeof p&&c.domainBind(d,p),promise:a,receiver:i,value:f})}else l._addCallbacks(t,e,a,i,d);return a},I.prototype._length=function(){return 65535&this._bitField},I.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},I.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},I.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},I.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},I.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},I.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},I.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},I.prototype._isFinal=function(){return(4194304&this._bitField)>0},I.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},I.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},I.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},I.prototype._setAsyncGuaranteed=function(){h.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},I.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==l)return void 0===e&&this._isBound()?this._boundValue():e},I.prototype._promiseAt=function(t){return this[4*t-4+2]},I.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},I.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},I.prototype._boundValue=function(){},I.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,n=t._rejectionHandler0,i=t._promise0,o=t._receiverAt(0);void 0===o&&(o=l),this._addCallbacks(e,n,i,o,null)},I.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),i=t._rejectionHandlerAt(e),o=t._promiseAt(e),r=t._receiverAt(e);void 0===r&&(r=l),this._addCallbacks(n,i,o,r,null)},I.prototype._addCallbacks=function(t,e,n,i,o){var r=this._length();if(r>=65531&&(r=0,this._setLength(0)),0===r)this._promise0=n,this._receiver0=i,"function"==typeof t&&(this._fulfillmentHandler0=null===o?t:c.domainBind(o,t)),"function"==typeof e&&(this._rejectionHandler0=null===o?e:c.domainBind(o,e));else{var a=4*r-4;this[a+2]=n,this[a+3]=i,"function"==typeof t&&(this[a+0]=null===o?t:c.domainBind(o,t)),"function"==typeof e&&(this[a+1]=null===o?e:c.domainBind(o,e))}return this._setLength(r+1),r},I.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},I.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(i(),!1);var n=y(t,this);if(!(n instanceof I))return this._fulfill(t);e&&this._propagateFrom(n,2);var o=n._target();if(o!==this){var r=o._bitField;if(0==(50397184&r)){var a=this._length();a>0&&o._migrateCallback0(this);for(var s=1;s<a;++s)o._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(o)}else if(0!=(33554432&r))this._fulfill(o._value());else if(0!=(16777216&r))this._reject(o._reason());else{var l=new g("late cancellation observer");o._attachExtraTrace(l),this._reject(l)}}else this._reject(i())}},I.prototype._rejectCallback=function(t,e,n){var i=c.ensureErrorObject(t),o=i===t;if(!o&&!n&&x.warnings()){var r="a promise was rejected with a non-error: "+c.classString(t);this._warn(r,!0)}this._attachExtraTrace(i,!!e&&o),this._reject(t)},I.prototype._resolveFromExecutor=function(t){if(t!==m){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(t,(function(t){e._resolveCallback(t)}),(function(t){e._rejectCallback(t,n)}));n=!1,this._popContext(),void 0!==i&&e._rejectCallback(i,!0)}},I.prototype._settlePromiseFromHandler=function(t,e,n,i){var o=i._bitField;if(0==(65536&o)){var r;i._pushContext(),e===v?n&&"number"==typeof n.length?r=P(t).apply(this._boundValue(),n):(r=E).e=new f("cannot .spread() a non-array: "+c.classString(n)):r=P(t).call(e,n);var a=i._popContext();0==(65536&(o=i._bitField))&&(r===_?i._reject(n):r===E?i._rejectCallback(r.e,!1):(x.checkForgottenReturns(r,a,"",i,this),i._resolveCallback(r)))}},I.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},I.prototype._followee=function(){return this._rejectionHandler0},I.prototype._setFollowee=function(t){this._rejectionHandler0=t},I.prototype._settlePromise=function(t,e,n,i){var r=t instanceof I,s=this._bitField,l=0!=(134217728&s);0!=(65536&s)?(r&&t._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=t,P(e).call(n,i)===E&&t._reject(E.e)):e===o?t._fulfill(o.call(n)):n instanceof a?n._promiseCancelled(t):r||t instanceof b?t._cancel():n.cancel()):"function"==typeof e?r?(l&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof a?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):r&&(l&&t._setAsyncGuaranteed(),0!=(33554432&s)?t._fulfill(i):t._reject(i))},I.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,i=t.receiver,o=t.value;"function"==typeof e?n instanceof I?this._settlePromiseFromHandler(e,i,o,n):e.call(i,o,n):n instanceof I&&n._reject(o)},I.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},I.prototype._settlePromise0=function(t,e,n){var i=this._promise0,o=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,t,o,e)},I.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},I.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=i();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():h.settlePromises(this))}},I.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return h.fatalError(t,c.isNode);(65535&e)>0?h.settlePromises(this):this._ensurePossibleRejectionHandled()}},I.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var i=this._fulfillmentHandlerAt(n),o=this._promiseAt(n),r=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,i,r,e)}},I.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var i=this._rejectionHandlerAt(n),o=this._promiseAt(n),r=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,i,r,e)}},I.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,t),this._fulfillPromises(e,i)}this._setLength(0)}this._clearCancellationData()},I.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},I.defer=I.pending=function(){return x.deprecated("Promise.defer","new Promise"),{promise:new I(m),resolve:D,reject:O}},c.notEnumerableProp(I,"_makeSelfResolutionError",i),t("./method")(I,m,y,r,x),t("./bind")(I,m,y,x),t("./cancel")(I,b,r,x),t("./direct_resolve")(I),t("./synchronous_inspection")(I),t("./join")(I,b,y,m,h,s),I.Promise=I,I.version="3.5.1",t("./map.js")(I,b,r,y,m,x),t("./call_get.js")(I),t("./using.js")(I,r,y,k,m,x),t("./timers.js")(I,m,x),t("./generators.js")(I,r,m,y,a,x),t("./nodeify.js")(I),t("./promisify.js")(I,m),t("./props.js")(I,b,y,r),t("./race.js")(I,m,y,r),t("./reduce.js")(I,b,r,y,m,x),t("./settle.js")(I,b,x),t("./some.js")(I,b,r),t("./filter.js")(I,m),t("./each.js")(I,m),t("./any.js")(I),c.toFastProperties(I),c.toFastProperties(I.prototype),M({a:1}),M({b:2}),M({c:3}),M(1),M((function(){})),M(void 0),M(!1),M(new I(m)),x.setBounds(d.firstLineError,c.lastLineError),I}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,i,o,r){var a=t("./util");function s(t){var i=this._promise=new e(n);t instanceof e&&i._propagateFrom(t,3),i._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.isArray,a.inherits(s,r),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(n,r){var s=i(this._values,this._promise);if(s instanceof e){var l=(s=s._target())._bitField;if(this._values=s,0==(50397184&l))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,r);if(0==(33554432&l))return 0!=(16777216&l)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===r?this._resolveEmptyArray():this._resolve(function(t){switch(r){case-2:return[];case-3:return{};case-6:return new Map}}());else{var c=o("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(c,!1)}},s.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var o=this._promise,r=!1,a=null,s=0;s<n;++s){var l=i(t[s],o);a=l instanceof e?(l=l._target())._bitField:null,r?null!==a&&l.suppressUnhandledRejections():null!==a?0==(50397184&a)?(l._proxy(this,s),this._values[s]=l):r=0!=(33554432&a)?this._promiseFulfilled(l._value(),s):0!=(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):r=this._promiseFulfilled(l,s)}r||o._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){var i={},o=t("./util"),r=t("./nodeback"),a=o.withAppended,s=o.maybeWrapAsError,l=o.canEvaluate,c=t("./errors").TypeError,u={__isPromisified__:!0},d=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(t){return o.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function p(t){return!d.test(t)}function f(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function g(t,e,n){var i=o.getDataPropertyOrDefault(t,e+n,u);return!!i&&f(i)}function m(t,e,n,i){for(var r=o.inheritedDataKeys(t),a=[],s=0;s<r.length;++s){var l=r[s],u=t[l],d=i===h||h(l);"function"!=typeof u||f(u)||g(t,l,e)||!i(l,u,t,d)||a.push(l,u)}return function(t,e,n){for(var i=0;i<t.length;i+=2){var o=t[i];if(n.test(o))for(var r=o.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===r)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(a,e,n),a}var v=l?void 0:function(t,l,c,u,d,h){var p=function(){return this}(),f=t;function g(){var o=l;l===i&&(o=this);var c=new e(n);c._captureStackTrace();var u="string"==typeof f&&this!==p?this[f]:t,d=r(c,h);try{u.apply(o,a(arguments,d))}catch(t){c._rejectCallback(s(t),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof f&&(t=u),o.notEnumerableProp(g,"__isPromisified__",!0),g};function _(t,e,n,r,a){for(var s=new RegExp(function(t){return t.replace(/([$])/,"\\$")}(e)+"$"),l=m(t,e,s,n),c=0,u=l.length;c<u;c+=2){var d=l[c],h=l[c+1],p=d+e;if(r===v)t[p]=v(d,i,d,h,e,a);else{var f=r(h,(function(){return v(d,i,d,h,e,a)}));o.notEnumerableProp(f,"__isPromisified__",!0),t[p]=f}}return o.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new c("expecting a function but got "+o.classString(t));if(f(t))return t;var n=void 0===(e=Object(e)).context?i:e.context,r=!!e.multiArgs,a=function(t,e,n){return v(t,e,void 0,t,null,r)}(t,n);return o.copyDescriptors(t,a,p),a},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,i=e.suffix;"string"!=typeof i&&(i="Async");var r=e.filter;"function"!=typeof r&&(r=h);var a=e.promisifier;if("function"!=typeof a&&(a=v),!o.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=o.inheritedDataKeys(t),l=0;l<s.length;++l){var u=t[s[l]];"constructor"!==s[l]&&o.isClass(u)&&(_(u.prototype,i,r,a,n),_(u,i,r,a,n))}return _(t,i,r,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,i,o){var r,a=t("./util"),s=a.isObject,l=t("./es5");"function"==typeof Map&&(r=Map);var c=function(){var t=0,e=0;function n(n,i){this[t]=n,this[t+e]=i,t++}return function(i){e=i.size,t=0;var o=new Array(2*i.size);return i.forEach(n,o),o}}();function u(t){var e,n=!1;if(void 0!==r&&t instanceof r)e=c(t),n=!0;else{var i=l.keys(t),o=i.length;e=new Array(2*o);for(var a=0;a<o;++a){var s=i[a];e[a]=t[s],e[a+o]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function d(t){var n,r=i(t);return s(r)?(n=r instanceof e?r._then(e.props,void 0,void 0,void 0,void 0):new u(r).promise(),r instanceof e&&n._propagateFrom(r,2),n):o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(u,n),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new r,n=t.length/2|0,i=0;i<n;++i){var o=t[n+i],a=t[i];e.set(o,a)}return e}(this._values);else{n={};for(var i=this.length(),o=0,a=this.length();o<a;++o)n[this._values[o+i]]=this._values[o]}return this._resolve(n),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return d(this)},e.props=function(t){return d(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},i.prototype.push=function(t,e,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var o=this._front+i-3;this._checkCapacity(i);var r=this._capacity-1;this[o+0&r]=t,this[o+1&r]=e,this[o+2&r]=n,this._length=i},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,i,o){for(var r=0;r<o;++r)n[r+i]=t[r+0],t[r+0]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,i,o){var r=t("./util"),a=function(t){return t.then((function(e){return s(e,t)}))};function s(t,s){var l=i(t);if(l instanceof e)return a(l);if(null===(t=r.asArray(t)))return o("expecting an array or an iterable object but got "+r.classString(t));var c=new e(n);void 0!==s&&c._propagateFrom(s,3);for(var u=c._fulfill,d=c._reject,h=0,p=t.length;h<p;++h){var f=t[h];(void 0!==f||h in t)&&e.cast(f)._then(u,d,void 0,c,null)}return c}e.race=function(t){return s(t,void 0)},e.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,i,o,r,a){var s=e._getDomain,l=t("./util"),c=l.tryCatch;function u(t,n,i,o){this.constructor$(t);var a=s();this._fn=null===a?n:l.domainBind(a,n),void 0!==i&&(i=e.resolve(i))._attachCancellationCallback(this),this._initialValue=i,this._currentCancellable=null,this._eachValues=o===r?Array(this._length):0===o?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function d(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function h(t,e,n,o){return"function"!=typeof e?i("expecting a function but got "+l.classString(e)):new u(t,e,n,o).promise()}function p(t){this.accum=t,this.array._gotAccum(t);var n=o(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n,i=this.array,o=i._promise,r=c(i._fn);o._pushContext(),(n=void 0!==i._eachValues?r.call(o._boundValue(),t,this.index,this.length):r.call(o._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(i._currentCancellable=n);var s=o._popContext();return a.checkForgottenReturns(n,s,void 0!==i._eachValues?"Promise.each":"Promise.reduce",o),n}l.inherits(u,n),u.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==r&&this._eachValues.push(t)},u.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},u.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},u.prototype._iterate=function(t){var n,i;this._values=t;var o=t.length;if(void 0!==this._initialValue?(n=this._initialValue,i=0):(n=e.resolve(t[0]),i=1),this._currentCancellable=n,!n.isRejected())for(;i<o;++i){var r={accum:null,value:t[i],index:i,length:o,array:this};n=n._then(p,void 0,void 0,r,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(d,d,void 0,n,this)},e.prototype.reduce=function(t,e){return h(this,t,e,null)},e.reduce=function(t,e,n,i){return h(t,e,n,i)}}},{"./util":36}],29:[function(t,o,r){"use strict";var a,s=t("./util"),l=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var c=n.setImmediate,u=e.nextTick;a=s.isRecentNode?function(t){c.call(n,t)}:function(t){u.call(e,t)}}else if("function"==typeof l&&"function"==typeof l.resolve){var d=l.resolve();a=function(t){d.then(t)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==i?function(t){i(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,i=document.createElement("div");return new MutationObserver((function(){t.classList.toggle("foo"),n=!1})).observe(i,e),function(o){var r=new MutationObserver((function(){r.disconnect(),o()}));r.observe(t,e),n||(n=!0,i.classList.toggle("foo"))}}();o.exports=a},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,i){var o=e.PromiseInspection;function r(t){this.constructor$(t)}t("./util").inherits(r,n),r.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},r.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return i.deprecated(".settle()",".reflect()"),new r(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,i){var o=t("./util"),r=t("./errors").RangeError,a=t("./errors").AggregateError,s=o.isArray,l={};function c(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function u(t,e){if((0|e)!==e||e<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new c(t),o=n.promise();return n.setHowMany(e),n.init(),o}o.inherits(c,n),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=s(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(t){this._howMany=t},c.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new a,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(t){this._values.push(t)},c.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new r(e)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return u(t,e)},e.prototype.some=function(t){return u(this,t)},e._SomePromiseArray=c}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},o=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},r=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return r.call(this._target())},t.prototype.isFulfilled=function(){return o.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),i.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){var i=t("./util"),o=i.errorObj,r=i.isObject,a={}.hasOwnProperty;return function(t,s){if(r(t)){if(t instanceof e)return t;var l=function(t){try{return function(t){return t.then}(t)}catch(t){return o.e=t,o}}(t);if(l===o){s&&s._pushContext();var c=e.reject(l.e);return s&&s._popContext(),c}if("function"==typeof l)return function(t){try{return a.call(t,"_promise0")}catch(t){return!1}}(t)?(c=new e(n),t._then(c._fulfill,c._reject,void 0,c,null),c):function(t,r,a){var s=new e(n),l=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=!0,u=i.tryCatch(r).call(t,(function(t){s&&(s._resolveCallback(t),s=null)}),(function(t){s&&(s._rejectCallback(t,c,!0),s=null)}));return c=!1,s&&u===o&&(s._rejectCallback(u.e,!0,!0),s=null),l}(t,l,s)}return t}}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,i){var o=t("./util"),r=e.TimeoutError;function a(t){this.handle=t}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var r,l;return void 0!==o?(r=e.resolve(o)._then(s,null,null,t,void 0),i.cancellation()&&o instanceof e&&r._setOnCancel(o)):(r=new e(n),l=setTimeout((function(){r._fulfill()}),+t),i.cancellation()&&r._setOnCancel(new a(l)),r._captureStackTrace()),r._setAsyncGuaranteed(),r};function c(t){return clearTimeout(this.handle),t}function u(t){throw clearTimeout(this.handle),t}e.prototype.delay=function(t){return l(t,this)},e.prototype.timeout=function(t,e){var n,s;t=+t;var l=new a(setTimeout((function(){n.isPending()&&function(t,e,n){var i;i="string"!=typeof e?e instanceof Error?e:new r("operation timed out"):new r(e),o.markAsOriginatingFromRejection(i),t._attachExtraTrace(i),t._reject(i),null!=n&&n.cancel()}(n,e,s)}),t));return i.cancellation()?(s=this.then(),(n=s._then(c,u,void 0,l,void 0))._setOnCancel(l)):n=this._then(c,u,void 0,l,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,i,o,r,a){var s=t("./util"),l=t("./errors").TypeError,c=t("./util").inherits,u=s.errorObj,d=s.tryCatch,h={};function p(t){setTimeout((function(){throw t}),0)}function f(t,n){var o=0,a=t.length,s=new e(r);return function r(){if(o>=a)return s._fulfill();var l=function(t){var e=i(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[o++]);if(l instanceof e&&l._isDisposable()){try{l=i(l._getDisposer().tryDispose(n),t.promise)}catch(t){return p(t)}if(l instanceof e)return l._then(r,p,null,null,null)}r()}(),s}function g(t,e,n){this._data=t,this._promise=e,this._context=n}function m(t,e,n){this.constructor$(t,e,n)}function v(t){return g.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function _(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},g.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=e!==h?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(m,g),m.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},_.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var i=this[n];i instanceof e&&i.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var o,r=arguments[t-1];if("function"!=typeof r)return n("expecting a function but got "+s.classString(r));var l=!0;2===t&&Array.isArray(arguments[0])?(t=(o=arguments[0]).length,l=!1):(o=arguments,t--);for(var c=new _(t),h=0;h<t;++h){var p=o[h];if(g.isDisposer(p)){var m=p;(p=p.promise())._setDisposable(m)}else{var y=i(p);y instanceof e&&(p=y._then(v,null,null,{resources:c,index:h},void 0))}c[h]=p}var b=new Array(c.length);for(h=0;h<b.length;++h)b[h]=e.resolve(c[h]).reflect();var w=e.all(b).then((function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return u.e=n.error(),u;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}k._pushContext(),r=d(r);var i=l?r.apply(void 0,t):r(t),o=k._popContext();return a.checkForgottenReturns(i,o,"Promise.using",k),i})),k=w.lastly((function(){var t=new e.PromiseInspection(w);return f(c,t)}));return c.promise=k,k._setOnCancel(c),k},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new m(t,this,o());throw new l}}},{"./errors":12,"./util":36}],36:[function(t,i,o){"use strict";var r,a=t("./es5"),s="undefined"==typeof navigator,l={e:{}},c="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:void 0!==this?this:null;function u(){try{var t=r;return r=null,t.apply(this,arguments)}catch(t){return l.e=t,l}}function d(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function h(t,e,n){if(d(t))return t;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return a.defineProperty(t,e,i),t}var p=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(a.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var i=[],o=Object.create(null);null!=t&&!e(t);){var r;try{r=n(t)}catch(t){return i}for(var s=0;s<r.length;++s){var l=r[s];if(!o[l]){o[l]=!0;var c=Object.getOwnPropertyDescriptor(t,l);null!=c&&null==c.get&&null==c.set&&i.push(l)}}t=a.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(n){if(e(n))return[];var o=[];t:for(var r in n)if(i.call(n,r))o.push(r);else{for(var a=0;a<t.length;++a)if(i.call(t[a],r))continue t;o.push(r)}return o}}(),f=/this\s*\.\s*\S+\s*=/,g=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function v(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function _(t){return v(t)&&a.propertyIsWritable(t,"stack")}var y="stack"in new Error?function(t){return _(t)?t:new Error(m(t))}:function(t){if(_(t))return t;try{throw new Error(m(t))}catch(t){return t}};function b(t){return{}.toString.call(t)}var w=function(t){return a.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var k="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],i=t[Symbol.iterator]();!(e=i.next()).done;)n.push(e.value);return n};w=function(t){return a.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?k(t):null}}var x=void 0!==e&&"[object process]"===b(e).toLowerCase(),S=void 0!==e&&void 0!==e.env,C={isClass:function(t){try{if("function"==typeof t){var e=a.names(t.prototype),n=a.isES5&&e.length>1,i=e.length>0&&!(1===e.length&&"constructor"===e[0]),o=f.test(t+"")&&a.names(t).length>0;if(n||i||o)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return g.test(t)},inheritedDataKeys:p,getDataPropertyOrDefault:function(t,e,n){if(!a.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var i=Object.getOwnPropertyDescriptor(t,e);return null!=i?null==i.get&&null==i.set?i.value:n:void 0},thrower:function(t){throw t},isArray:a.isArray,asArray:w,notEnumerableProp:h,isPrimitive:d,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:v,canEvaluate:s,errorObj:l,tryCatch:function(t){return r=t,u},inherits:function(t,e){var n={}.hasOwnProperty;function i(){for(var i in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=e.prototype[i])}return i.prototype=e.prototype,t.prototype=new i,t.prototype},withAppended:function(t,e){var n,i=t.length,o=new Array(i+1);for(n=0;n<i;++n)o[n]=t[n];return o[n]=e,o},maybeWrapAsError:function(t){return d(t)?new Error(m(t)):t},toFastProperties:function(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t},filledRange:function(t,e,n){for(var i=new Array(t),o=0;o<t;++o)i[o]=e+o+n;return i},toString:m,canAttachTrace:_,ensureErrorObject:y,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{h(t,"isOperational",!0)}catch(t){}},classString:b,copyDescriptors:function(t,e,n){for(var i=a.names(t),o=0;o<i.length;++o){var r=i[o];if(n(r))try{a.defineProperty(e,r,a.getDescriptor(t,r))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:x,hasEnvVariables:S,env:function(t){return S?e.env[t]:void 0},global:c,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise((function(){}));if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,e){return t.bind(e)}};C.isRecentNode=C.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),C.isNode&&C.toFastProperties(e);try{throw new Error}catch(t){C.lastLineError=t}i.exports=C},{"./es5":13}]},{},[4])(4),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(4),n(0),n(11).setImmediate)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e.eol&&t)for(var n=0,i=t.length;n<i;n++)if("\r"===t[n]){if("\n"===t[n+1]){e.eol="\r\n";break}if(t[n+1]){e.eol="\r";break}}else if("\n"===t[n]){e.eol="\n";break}return e.eol||"\n"}},function(t,e,n){var i=n(65),o=n(73);t.exports=function(t,e){var n=o(t,e);return i(n)?n:void 0}},function(t,e,n){var i=n(19).Symbol;t.exports=i},function(t,e,n){var i=n(67),o="object"==typeof self&&self&&self.Object===Object&&self,r=i||o||Function("return this")();t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var i=n(30),o=n(76);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==i(t)}},function(t,e,n){"use strict";(function(e,i){var o=n(6);t.exports=y;var r,a=n(37);y.ReadableState=_,n(12).EventEmitter;var s=function(t,e){return t.listeners(e).length},l=n(24),c=n(7).Buffer,u=e.Uint8Array||function(){},d=n(5);d.inherits=n(2);var h=n(41),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var f,g=n(42),m=n(25);d.inherits(y,l);var v=["error","close","destroy","pause","resume"];function _(t,e){t=t||{};var i=e instanceof(r=r||n(1));this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n(26).StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function y(t){if(r=r||n(1),!(this instanceof y))return new y(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function b(t,e,n,i,o){var r,a=t._readableState;return null===e?(a.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,S(t)}}(t,a)):(o||(r=function(t,e){var n;return function(t){return c.isBuffer(t)||t instanceof u}(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,e)),r?t.emit("error",r):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),i?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?w(t,a,e,!1):T(t,a)):w(t,a,e,!1))):i||(a.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function w(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&S(t)),T(t,e)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(t,e){this.push(null),e(t)},y.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=c.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},y.prototype.unshift=function(t){return b(this,t,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(t){return f||(f=n(26).StringDecoder),this._readableState.decoder=new f(t),this._readableState.encoding=t,this};var k=8388608;function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=k?t=k:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?o.nextTick(C,t):C(t))}function C(t){p("emit readable"),t.emit("readable"),D(t)}function T(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(E,t,e))}function E(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function P(t){p("readable nexttick read 0"),t.read(0)}function I(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),D(t),e.flowing&&!e.reading&&t.read(0)}function D(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,o=n.data;for(t-=o.length;n=n.next;){var r=n.data,a=t>r.length?r.length:t;if(a===r.length?o+=r:o+=r.slice(0,t),0==(t-=a)){a===r.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=r.slice(a));break}++i}return e.length-=i,o}(t,e):function(t,e){var n=c.allocUnsafe(t),i=e.head,o=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var r=i.data,a=t>r.length?r.length:t;if(r.copy(n,n.length-t,0,a),0==(t-=a)){a===r.length?(++o,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=r.slice(a));break}++o}return e.length-=o,n}(t,e),i}(t,e.buffer,e.decoder),n);var n}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,o.nextTick(A,e,t))}function A(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function B(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}y.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):S(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&M(this),null;var i,o=e.needReadable;return p("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",o=!0),e.ended||e.reading?p("reading or ended",o=!1):o&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(n,e))),null===(i=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&M(this)),null!==i&&this.emit("data",i),i},y.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,p("pipe count=%d opts=%j",r.pipesCount,e);var l=e&&!1===e.end||t===i.stdout||t===i.stderr?_:c;function c(){p("onend"),t.end()}r.endEmitted?o.nextTick(l):n.once("end",l),t.on("unpipe",(function e(i,o){p("onunpipe"),i===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,p("cleanup"),t.removeListener("close",m),t.removeListener("finish",v),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",e),n.removeListener("end",c),n.removeListener("end",_),n.removeListener("data",f),d=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,D(t))}}(n);t.on("drain",u);var d=!1,h=!1;function f(e){p("ondata"),h=!1,!1!==t.write(e)||h||((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==B(r.pipes,t))&&!d&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function g(e){p("onerror",e),_(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",v),_()}function v(){p("onfinish"),t.removeListener("close",m),_()}function _(){p("unpipe"),n.unpipe(t)}return n.on("data",f),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",m),t.once("finish",v),t.emit("pipe",n),r.flowing||(p("pipe resume"),n.resume()),t},y.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var i=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<o;r++)i[r].emit("unpipe",this,n);return this}var a=B(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},y.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):o.nextTick(P,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(I,t,e))}(this,t)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var o in t.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){p("wrapped data"),n.decoder&&(o=n.decoder.write(o)),(!n.objectMode||null!=o)&&(n.objectMode||o&&o.length)&&(e.push(o)||(i=!0,t.pause()))})),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var r=0;r<v.length;r++)t.on(v[r],this.emit.bind(this,v[r]));return this._read=function(e){p("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=O}).call(this,n(0),n(4))},function(t,e,n){t.exports=n(12).EventEmitter},function(t,e,n){"use strict";var i=n(6);function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return r||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var i=n(7).Buffer,o=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=u,this.end=d,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},r.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var o=a(e[i]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--i<n||-2===o?0:(o=a(e[i]))>=0?(o>0&&(t.lastNeed=o-2),o):--i<n||-2===o?0:(o=a(e[i]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=r;var i=n(1),o=n(5);function r(t){if(!(this instanceof r))return new r(t);i.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){s(t,e,n)})):s(this,null,null)}function s(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}o.inherits=n(2),o.inherits(r,i),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var o=this._readableState;(i.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},r.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.bufFromString=function(e){var n=t.byteLength(e),i=t.allocUnsafe?t.allocUnsafe(n):new t(n);return i.write(e),i},e.emptyBuffer=function(){return t.allocUnsafe?t.allocUnsafe(0):new t(0)},e.filterArray=function(t,e){for(var n=[],i=0;i<t.length;i++)e.indexOf(i)>-1&&n.push(t[i]);return n},e.trimLeft=String.prototype.trimLeft?function(t){return t.trimLeft()}:function(t){return t.replace(/^\s+/,"")},e.trimRight=String.prototype.trimRight?function(t){return t.trimRight()}:function(t){return t.replace(/\s+$/,"")}}).call(this,n(3).Buffer)},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,i){var o=t.call(this,"Error: "+e+". JSON Line number: "+n+(i?" near: "+i:""))||this;return o.err=e,o.line=n,o.extra=i,o.name="CSV Parse Error",o}return i(e,t),e.column_mismatched=function(t,n){return new e("column_mismatched",t,n)},e.unclosed_quote=function(t,n){return new e("unclosed_quote",t,n)},e.fromJSON=function(t){return new e(t.err,t.line,t.extra)},e.prototype.toJSON=function(){return{err:this.err,line:this.line,extra:this.extra}},e}(Error);e.default=o},function(t,e,n){var i=n(18),o=n(68),r=n(69),a=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):r(t)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){t.exports=n(33)},function(t,e,n){"use strict";var i=n(34),o=function(t,e){return new i.Converter(t,e)};o.csv=o,o.Converter=i.Converter,t.exports=o},function(t,e,n){"use strict";(function(t){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(36),a=n(50),s=n(51),l=o(n(15)),c=n(52),u=n(105),d=function(e){function o(n,i){void 0===i&&(i={});var o=e.call(this,i)||this;return o.options=i,o.params=a.mergeParams(n),o.runtime=s.initParseRuntime(o),o.result=new u.Result(o),o.processor=new c.ProcessorLocal(o),o.once("error",(function(e){t((function(){o.result.processError(e),o.emit("done",e)}))})),o.once("done",(function(){o.processor.destroy()})),o}return i(o,e),o.prototype.preRawData=function(t){return this.runtime.preRawDataHook=t,this},o.prototype.preFileLine=function(t){return this.runtime.preFileLineHook=t,this},o.prototype.subscribe=function(t,e,n){return this.parseRuntime.subscribe={onNext:t,onError:e,onCompleted:n},this},o.prototype.fromFile=function(t,e){var i=this,o=n(!function(){var t=new Error("Cannot find module 'fs'");throw t.code="MODULE_NOT_FOUND",t}());return o.exists(t,(function(n){n?o.createReadStream(t,e).pipe(i):i.emit("error",new Error("File does not exist. Check to make sure the file path to your csv is correct."))})),this},o.prototype.fromStream=function(t){return t.pipe(this),this},o.prototype.fromString=function(t){t.toString();var e=new r.Readable,n=0;return e._read=function(e){if(n>=t.length)this.push(null);else{var i=t.substr(n,e);this.push(i),n+=e}},this.fromStream(e)},o.prototype.then=function(t,e){var n=this;return new l.default((function(i,o){n.parseRuntime.then={onfulfilled:function(e){i(t?t(e):e)},onrejected:function(t){e?i(e(t)):o(t)}}}))},Object.defineProperty(o.prototype,"parseParam",{get:function(){return this.params},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"parseRuntime",{get:function(){return this.runtime},enumerable:!0,configurable:!0}),o.prototype._transform=function(t,e,n){var i=this;this.processor.process(t).then((function(t){if(t.length>0)return i.runtime.started=!0,i.result.processResult(t)})).then((function(){i.emit("drained"),n()}),(function(t){i.runtime.hasError=!0,i.runtime.error=t,i.emit("error",t),n()}))},o.prototype._flush=function(t){var e=this;this.processor.flush().then((function(t){if(t.length>0)return e.result.processResult(t)})).then((function(){e.processEnd(t)}),(function(n){e.emit("error",n),t()}))},o.prototype.processEnd=function(t){this.result.endProcess(),this.emit("done"),t()},Object.defineProperty(o.prototype,"parsedLineNumber",{get:function(){return this.runtime.parsedLineNumber},enumerable:!0,configurable:!0}),o}(r.Transform);e.Converter=d}).call(this,n(11).setImmediate)},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,o=1,r={},a=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){u(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&u(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),i=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){u(t.data)},i=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;i=function(e){var n=s.createElement("script");n.onreadystatechange=function(){u(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():i=function(t){setTimeout(u,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return r[o]=a,i(o),o++},l.clearImmediate=c}function c(t){delete r[t]}function u(t){if(a)setTimeout(u,0,t);else{var e=r[t];if(e){a=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{c(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(0),n(4))},function(t,e,n){t.exports=o;var i=n(12).EventEmitter;function o(){i.call(this)}n(2)(o,i),o.Readable=n(13),o.Writable=n(46),o.Duplex=n(47),o.Transform=n(48),o.PassThrough=n(49),o.Stream=o,o.prototype.pipe=function(t,e){var n=this;function o(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",o),t.on("drain",r),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,t.end())}function l(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){n.removeListener("data",o),t.removeListener("drain",r),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),t.removeListener("close",u)}return n.on("error",c),t.on("error",c),n.on("end",u),n.on("close",u),t.on("close",u),t.emit("pipe",n),t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=c(t),i=n[0],a=n[1],s=new r(3*(i+a)/4-a),l=0,u=a>0?i-4:i,d=0;d<u;d+=4)e=o[t.charCodeAt(d)]<<18|o[t.charCodeAt(d+1)]<<12|o[t.charCodeAt(d+2)]<<6|o[t.charCodeAt(d+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;return 2===a&&(e=o[t.charCodeAt(d)]<<2|o[t.charCodeAt(d+1)]>>4,s[l++]=255&e),1===a&&(e=o[t.charCodeAt(d)]<<10|o[t.charCodeAt(d+1)]<<4|o[t.charCodeAt(d+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e),s},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,r=[],a=0,s=n-o;a<s;a+=16383)r.push(d(t,a,a+16383>s?s:a+16383));return 1===o?(e=t[n-1],r.push(i[e>>2]+i[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],r.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),r.join("")};for(var i=[],o=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function d(t,e,n){for(var i,o=[],r=e;r<n;r+=3)i=(t[r]<<16&16711680)+(t[r+1]<<8&65280)+(255&t[r+2]),o.push(u(i));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,o){var r,a,s=8*o-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,h=n?-1:1,p=t[e+d];for(d+=h,r=p&(1<<-u)-1,p>>=-u,u+=s;u>0;r=256*r+t[e+d],d+=h,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=i;u>0;a=256*a+t[e+d],d+=h,u-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),r-=c}return(p?-1:1)*a*Math.pow(2,r-i)},e.write=function(t,e,n,i,o,r){var a,s,l,c=8*r-o-1,u=(1<<c)-1,d=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,f=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*l-1)*Math.pow(2,o),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+p]=255&a,p+=f,a/=256,c-=8);t[n+p-f]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){},function(t,e,n){"use strict";var i=n(7).Buffer,o=n(43);function r(t,e,n){t.copy(e,n)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,o=0;n;)r(n.data,e,o),o+=n.data.length,n=n.next;return e},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(0))},function(t,e,n){"use strict";t.exports=r;var i=n(27),o=n(5);function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}o.inherits=n(2),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(14)},function(t,e,n){t.exports=n(1)},function(t,e,n){t.exports=n(13).Transform},function(t,e,n){t.exports=n(13).PassThrough},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeParams=function(t){var e={delimiter:",",ignoreColumns:void 0,includeColumns:void 0,quote:'"',trim:!0,checkType:!1,ignoreEmpty:!1,noheader:!1,headers:void 0,flatKeys:!1,maxRowLength:0,checkColumn:!1,escape:'"',colParser:{},eol:void 0,alwaysSplitAtEOL:!1,output:"json",nullObject:!1,downstreamFormat:"line",needEmitAll:!0};for(var n in t||(t={}),t)t.hasOwnProperty(n)&&(Array.isArray(t[n])?e[n]=[].concat(t[n]):e[n]=t[n]);return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initParseRuntime=function(t){var e=t.parseParam,n={needProcessIgnoreColumn:!1,needProcessIncludeColumn:!1,selectedColumns:void 0,ended:!1,hasError:!1,error:void 0,delimiter:t.parseParam.delimiter,eol:t.parseParam.eol,columnConv:[],headerType:[],headerTitle:[],headerFlag:[],headers:void 0,started:!1,parsedLineNumber:0,columnValueSetter:[]};return e.ignoreColumns&&(n.needProcessIgnoreColumn=!0),e.includeColumns&&(n.needProcessIncludeColumn=!0),n}},function(t,e,n){"use strict";(function(t){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(53),a=o(n(15)),s=n(54),l=o(n(16)),c=n(57),u=n(28),d=n(58),h=o(n(59)),p=o(n(29)),f=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.rowSplit=new d.RowSplit(t.converter),t.eolEmitted=!1,t._needEmitEol=void 0,t.headEmitted=!1,t._needEmitHead=void 0,t}return i(n,e),n.prototype.flush=function(){var t=this;if(this.runtime.csvLineBuffer&&this.runtime.csvLineBuffer.length>0){var e=this.runtime.csvLineBuffer;return this.runtime.csvLineBuffer=void 0,this.process(e,!0).then((function(e){return t.runtime.csvLineBuffer&&t.runtime.csvLineBuffer.length>0?a.default.reject(p.default.unclosed_quote(t.runtime.parsedLineNumber,t.runtime.csvLineBuffer.toString())):a.default.resolve(e)}))}return a.default.resolve([])},n.prototype.destroy=function(){return a.default.resolve()},Object.defineProperty(n.prototype,"needEmitEol",{get:function(){return void 0===this._needEmitEol&&(this._needEmitEol=this.converter.listeners("eol").length>0),this._needEmitEol},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"needEmitHead",{get:function(){return void 0===this._needEmitHead&&(this._needEmitHead=this.converter.listeners("header").length>0),this._needEmitHead},enumerable:!0,configurable:!0}),n.prototype.process=function(t,e){var n,i=this;return void 0===e&&(e=!1),n=e?t.toString():s.prepareData(t,this.converter.parseRuntime),a.default.resolve().then((function(){return i.runtime.preRawDataHook?i.runtime.preRawDataHook(n):n})).then((function(t){return t&&t.length>0?i.processCSV(t,e):a.default.resolve([])}))},n.prototype.processCSV=function(t,e){var n=this,i=this.params,o=this.runtime;o.eol||l.default(t,o),this.needEmitEol&&!this.eolEmitted&&o.eol&&(this.converter.emit("eol",o.eol),this.eolEmitted=!0),i.ignoreEmpty&&!o.started&&(t=u.trimLeft(t));var r=c.stringToLines(t,o);return e?(r.lines.push(r.partial),r.partial=""):this.prependLeftBuf(u.bufFromString(r.partial)),r.lines.length>0?(o.preFileLineHook?this.runPreLineHook(r.lines):a.default.resolve(r.lines)).then((function(t){return o.started||n.runtime.headers?n.processCSVBody(t):n.processDataWithHead(t)})):a.default.resolve([])},n.prototype.processDataWithHead=function(t){if(this.params.noheader)this.params.headers?this.runtime.headers=this.params.headers:this.runtime.headers=[];else{for(var e="",n=[];t.length;){var i=e+t.shift(),o=this.rowSplit.parse(i);if(o.closed){n=o.cells,e="";break}e=i+l.default(i,this.runtime)}if(this.prependLeftBuf(u.bufFromString(e)),0===n.length)return[];this.params.headers?this.runtime.headers=this.params.headers:this.runtime.headers=n}return(this.runtime.needProcessIgnoreColumn||this.runtime.needProcessIncludeColumn)&&this.filterHeader(),this.needEmitHead&&!this.headEmitted&&(this.converter.emit("header",this.runtime.headers),this.headEmitted=!0),this.processCSVBody(t)},n.prototype.filterHeader=function(){if(this.runtime.selectedColumns=[],this.runtime.headers){for(var t=this.runtime.headers,e=0;e<t.length;e++)if(this.params.ignoreColumns)if(this.params.ignoreColumns.test(t[e])){if(!this.params.includeColumns||!this.params.includeColumns.test(t[e]))continue;this.runtime.selectedColumns.push(e)}else this.runtime.selectedColumns.push(e);else this.params.includeColumns?this.params.includeColumns.test(t[e])&&this.runtime.selectedColumns.push(e):this.runtime.selectedColumns.push(e);this.runtime.headers=u.filterArray(this.runtime.headers,this.runtime.selectedColumns)}},n.prototype.processCSVBody=function(t){if("line"===this.params.output)return t;var e=this.rowSplit.parseMultiLines(t);return this.prependLeftBuf(u.bufFromString(e.partial)),"csv"===this.params.output?e.rowsCells:h.default(e.rowsCells,this.converter)},n.prototype.prependLeftBuf=function(e){e&&(this.runtime.csvLineBuffer?this.runtime.csvLineBuffer=t.concat([e,this.runtime.csvLineBuffer]):this.runtime.csvLineBuffer=e)},n.prototype.runPreLineHook=function(t){var e=this;return new a.default((function(n,i){!function t(e,n,i,o){if(i>=e.length)o();else if(n.preFileLineHook){var r=e[i],a=n.preFileLineHook(r,n.parsedLineNumber+i);if(i++,a&&a.then)a.then((function(r){e[i-1]=r,t(e,n,i,o)}));else{for(e[i-1]=a;i<e.length;)e[i]=n.preFileLineHook(e[i],n.parsedLineNumber+i),i++;o()}}else o()}(t,e.runtime,0,(function(e){e?i(e):n(t)}))}))},n}(r.Processor);e.ProcessorLocal=f}).call(this,n(3).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Processor=function(t){this.converter=t,this.params=t.parseParam,this.runtime=t.parseRuntime}},function(t,e,n){"use strict";(function(t){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(55));e.prepareData=function(e,n){var i=function(e,n){return n.csvLineBuffer&&n.csvLineBuffer.length>0?t.concat([n.csvLineBuffer,e]):e}(e,n);n.csvLineBuffer=void 0;var r=function(t,e){var n=t.length-1;if(0!=(128&t[n])){for(;128==(192&t[n]);)n--;n--}return n!=t.length-1?(e.csvLineBuffer=t.slice(n+1),t.slice(0,n+1)):t}(i,n).toString("utf8");return!1===n.started?o.default(r):r}}).call(this,n(3).Buffer)},function(t,e,n){"use strict";(function(e){var i=n(56);t.exports=function(t){return"string"==typeof t&&65279===t.charCodeAt(0)?t.slice(1):e.isBuffer(t)&&i(t)&&239===t[0]&&187===t[1]&&191===t[2]?t.slice(3):t}}).call(this,n(3).Buffer)},function(t,e){t.exports=function(t){for(var e=0;e<t.length;)if(9==t[e]||10==t[e]||13==t[e]||32<=t[e]&&t[e]<=126)e+=1;else if(194<=t[e]&&t[e]<=223&&128<=t[e+1]&&t[e+1]<=191)e+=2;else if(224==t[e]&&160<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191||(225<=t[e]&&t[e]<=236||238==t[e]||239==t[e])&&128<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191||237==t[e]&&128<=t[e+1]&&t[e+1]<=159&&128<=t[e+2]&&t[e+2]<=191)e+=3;else{if(!(240==t[e]&&144<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191&&128<=t[e+3]&&t[e+3]<=191||241<=t[e]&&t[e]<=243&&128<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191&&128<=t[e+3]&&t[e+3]<=191||244==t[e]&&128<=t[e+1]&&t[e+1]<=143&&128<=t[e+2]&&t[e+2]<=191&&128<=t[e+3]&&t[e+3]<=191))return!1;e+=4}return!0}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(16));e.stringToLines=function(t,e){var n=o.default(t,e),i=t.split(n);return{lines:i,partial:i.pop()||""}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(16)),r=n(28),a=[",","|","\t",";",":"],s=function(){function t(t){this.conv=t,this.cachedRegExp={},this.delimiterEmitted=!1,this._needEmitDelimiter=void 0,this.quote=t.parseParam.quote,this.trim=t.parseParam.trim,this.escape=t.parseParam.escape}return Object.defineProperty(t.prototype,"needEmitDelimiter",{get:function(){return void 0===this._needEmitDelimiter&&(this._needEmitDelimiter=this.conv.listeners("delimiter").length>0),this._needEmitDelimiter},enumerable:!0,configurable:!0}),t.prototype.parse=function(t){if(0===t.length||this.conv.parseParam.ignoreEmpty&&0===t.trim().length)return{cells:[],closed:!0};var e=this.quote,n=this.trim;this.escape,(this.conv.parseRuntime.delimiter instanceof Array||"auto"===this.conv.parseRuntime.delimiter.toLowerCase())&&(this.conv.parseRuntime.delimiter=this.getDelimiter(t)),this.needEmitDelimiter&&!this.delimiterEmitted&&(this.conv.emit("delimiter",this.conv.parseRuntime.delimiter),this.delimiterEmitted=!0);var i=this.conv.parseRuntime.delimiter,o=t.split(i);if("off"===e){if(n)for(var r=0;r<o.length;r++)o[r]=o[r].trim();return{cells:o,closed:!0}}return this.toCSVRow(o,n,e,i)},t.prototype.toCSVRow=function(t,e,n,i){for(var o=[],a=!1,s="",l=0,c=t.length;l<c;l++){var u=t[l];!a&&e&&(u=r.trimLeft(u));var d=u.length;if(a)this.isQuoteClose(u)?(a=!1,s+=i+(u=u.substr(0,d-1)),s=this.escapeQuote(s),e&&(s=r.trimRight(s)),o.push(s),s=""):s+=i+u;else{if(2===d&&u===this.quote+this.quote){o.push("");continue}if(this.isQuoteOpen(u)){if(u=u.substr(1),this.isQuoteClose(u)){u=u.substring(0,u.lastIndexOf(n)),u=this.escapeQuote(u),o.push(u);continue}if(-1!==u.indexOf(n)){for(var h=0,p="",f=0,g=u;f<g.length;f++){var m=g[f];m===n&&p!==this.escape?(h++,p=""):p=m}if(h%2==1){e&&(u=r.trimRight(u)),o.push(n+u);continue}a=!0,s+=u;continue}a=!0,s+=u;continue}e&&(u=r.trimRight(u)),o.push(u)}}return{cells:o,closed:!a}},t.prototype.getDelimiter=function(t){var e;if("auto"===this.conv.parseParam.delimiter)e=a;else{if(!(this.conv.parseParam.delimiter instanceof Array))return this.conv.parseParam.delimiter;e=this.conv.parseParam.delimiter}var n=0,i=",";return e.forEach((function(e){var o=t.split(e).length;o>n&&(i=e,n=o)})),i},t.prototype.isQuoteOpen=function(t){var e=this.quote,n=this.escape;return t[0]===e&&(t[1]!==e||t[1]===n&&(t[2]===e||2===t.length))},t.prototype.isQuoteClose=function(t){var e=this.quote,n=this.escape;this.conv.parseParam.trim&&(t=r.trimRight(t));for(var i=0,o=t.length-1;t[o]===e||t[o]===n;)o--,i++;return i%2!=0},t.prototype.escapeQuote=function(t){var e="es|"+this.quote+"|"+this.escape;void 0===this.cachedRegExp[e]&&(this.cachedRegExp[e]=new RegExp("\\"+this.escape+"\\"+this.quote,"g"));var n=this.cachedRegExp[e];return t.replace(n,this.quote)},t.prototype.parseMultiLines=function(t){for(var e=[],n="";t.length;){var i=n+t.shift(),a=this.parse(i);0===a.cells.length&&this.conv.parseParam.ignoreEmpty||(a.closed||this.conv.parseParam.alwaysSplitAtEOL?(this.conv.parseRuntime.selectedColumns?e.push(r.filterArray(a.cells,this.conv.parseRuntime.selectedColumns)):e.push(a.cells),n=""):n=i+(o.default(i,this.conv.parseRuntime)||"\n"))}return{rowsCells:e,partial:n}},t}();e.RowSplit=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(29)),r=i(n(60)),a=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/;function s(t,e,n){if(e.parseParam.checkColumn&&e.parseRuntime.headers&&t.length!==e.parseRuntime.headers.length)throw o.default.column_mismatched(e.parseRuntime.parsedLineNumber+n);return function(t,e,n){for(var i=!1,o={},r=0,a=t.length;r<a;r++){var s=t[r];if(!n.parseParam.ignoreEmpty||""!==s){i=!0;var l=e[r];l&&""!==l||(l=e[r]="field"+(r+1));var d=c(l,r,n);if(d){var h=d(s,l,o,t,r);void 0!==h&&u(o,l,h,n,r)}else n.parseParam.checkType&&(s=p(0,l,r,n)(s)),void 0!==s&&u(o,l,s,n,r)}}return i?o:null}(t,e.parseRuntime.headers||[],e)||null}e.default=function(t,e){for(var n=[],i=0,o=t.length;i<o;i++){var r=s(t[i],e,i);r&&n.push(r)}return n};var l={string:g,number:f,omit:function(){}};function c(t,e,n){if(void 0!==n.parseRuntime.columnConv[e])return n.parseRuntime.columnConv[e];var i=n.parseParam.colParser[t];if(void 0===i)return n.parseRuntime.columnConv[e]=null;if("object"==typeof i&&(i=i.cellParser||"string"),"string"==typeof i){i=i.trim().toLowerCase();var o=l[i];return n.parseRuntime.columnConv[e]=o||null}return n.parseRuntime.columnConv[e]="function"==typeof i?i:null}function u(t,e,n,i,o){if(!i.parseRuntime.columnValueSetter[o])if(i.parseParam.flatKeys)i.parseRuntime.columnValueSetter[o]=d;else if(e.indexOf(".")>-1){for(var r=e.split("."),a=!0;r.length>0;)if(0===r.shift().length){a=!1;break}!a||i.parseParam.colParser[e]&&i.parseParam.colParser[e].flat?i.parseRuntime.columnValueSetter[o]=d:i.parseRuntime.columnValueSetter[o]=h}else i.parseRuntime.columnValueSetter[o]=d;!0===i.parseParam.nullObject&&"null"===n&&(n=null),i.parseRuntime.columnValueSetter[o](t,e,n)}function d(t,e,n){t[e]=n}function h(t,e,n){r.default(t,e,n)}function p(t,e,n,i){return i.parseRuntime.headerType[n]?i.parseRuntime.headerType[n]:e.indexOf("number#!")>-1?i.parseRuntime.headerType[n]=f:e.indexOf("string#!")>-1?i.parseRuntime.headerType[n]=g:i.parseParam.checkType?i.parseRuntime.headerType[n]=m:i.parseRuntime.headerType[n]=g}function f(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t){return t.toString()}function m(t){var e=t.trim();return""===e?g(t):a.test(e)?f(t):5===e.length&&"false"===e.toLowerCase()||4===e.length&&"true"===e.toLowerCase()?function(t){var e=t.trim();return 5!==e.length||"false"!==e.toLowerCase()}(t):"{"===e[0]&&"}"===e[e.length-1]||"["===e[0]&&"]"===e[e.length-1]?function(t){try{return JSON.parse(t)}catch(e){return t}}(t):g(t)}},function(t,e,n){var i=n(61);t.exports=function(t,e,n){return null==t?t:i(t,e,n)}},function(t,e,n){var i=n(62),o=n(74),r=n(103),a=n(20),s=n(104);t.exports=function(t,e,n,l){if(!a(t))return t;for(var c=-1,u=(e=o(e,t)).length,d=u-1,h=t;null!=h&&++c<u;){var p=s(e[c]),f=n;if(c!=d){var g=h[p];void 0===(f=l?l(g,p,h):void 0)&&(f=a(g)?g:r(e[c+1])?[]:{})}i(h,p,f),h=h[p]}return t}},function(t,e,n){var i=n(63),o=n(31),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];r.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||i(t,e,n)}},function(t,e,n){var i=n(64);t.exports=function(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var i=n(17),o=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var i=n(66),o=n(70),r=n(20),a=n(72),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!r(t)||o(t))&&(i(t)?h:s).test(a(t))}},function(t,e,n){var i=n(30),o=n(20);t.exports=function(t){if(!o(t))return!1;var e=i(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(0))},function(t,e,n){var i=n(18),o=Object.prototype,r=o.hasOwnProperty,a=o.toString,s=i?i.toStringTag:void 0;t.exports=function(t){var e=r.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var o=a.call(t);return i&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var i=n(71),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},function(t,e,n){var i=n(19)["__core-js_shared__"];t.exports=i},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var i=n(21),o=n(75),r=n(77),a=n(100);t.exports=function(t,e){return i(t)?t:o(t,e)?[t]:r(a(t))}},function(t,e,n){var i=n(21),o=n(22),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!r.test(t)||null!=e&&t in Object(e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,r=n(78)((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,i,r){e.push(i?r.replace(o,"$1"):n||t)})),e}));t.exports=r},function(t,e,n){var i=n(79);t.exports=function(t){var e=i(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var i=n(80);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=t.apply(this,i);return n.cache=r.set(o,a)||r,a};return n.cache=new(o.Cache||i),n}o.Cache=i,t.exports=o},function(t,e,n){var i=n(81),o=n(95),r=n(97),a=n(98),s=n(99);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var i=n(82),o=n(88),r=n(94);t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(r||o),string:new i}}},function(t,e,n){var i=n(83),o=n(84),r=n(85),a=n(86),s=n(87);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var i=n(8);t.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var i=n(8),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var i=n(8),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var i=n(8);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var i=n(89),o=n(90),r=n(91),a=n(92),s=n(93);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var i=n(9),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},function(t,e,n){var i=n(9);t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var i=n(9);t.exports=function(t){return i(this.__data__,t)>-1}},function(t,e,n){var i=n(9);t.exports=function(t,e){var n=this.__data__,o=i(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var i=n(17)(n(19),"Map");t.exports=i},function(t,e,n){var i=n(10);t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var i=n(10);t.exports=function(t){return i(this,t).get(t)}},function(t,e,n){var i=n(10);t.exports=function(t){return i(this,t).has(t)}},function(t,e,n){var i=n(10);t.exports=function(t,e){var n=i(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var i=n(101);t.exports=function(t){return null==t?"":i(t)}},function(t,e,n){var i=n(18),o=n(102),r=n(21),a=n(22),s=i?i.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(r(e))return o(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var i=n(22);t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(15)),r=n(106),a=function(){function t(t){this.converter=t,this.finalResult=[]}return Object.defineProperty(t.prototype,"needEmitLine",{get:function(){return!!this.converter.parseRuntime.subscribe&&!!this.converter.parseRuntime.subscribe.onNext||this.needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needPushDownstream",{get:function(){return void 0===this._needPushDownstream&&(this._needPushDownstream=this.converter.listeners("data").length>0||this.converter.listeners("readable").length>0),this._needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needEmitAll",{get:function(){return!!this.converter.parseRuntime.then&&this.converter.parseParam.needEmitAll},enumerable:!0,configurable:!0}),t.prototype.processResult=function(t){var e=this,n=this.converter.parseRuntime.parsedLineNumber;return this.needPushDownstream&&"array"===this.converter.parseParam.downstreamFormat&&0===n&&s(this.converter,"["+r.EOL),new o.default((function(n,i){e.needEmitLine?function t(e,n,i,o,r){if(i>=e.length)r();else if(n.parseRuntime.subscribe&&n.parseRuntime.subscribe.onNext){var a=n.parseRuntime.subscribe.onNext,l=e[i],c=a(l,n.parseRuntime.parsedLineNumber+i);if(i++,c&&c.then)c.then((function(){!function(e,n,i,o,r,a,l){r&&s(i,l),t(e,i,o,r,a)}(e,0,n,i,o,r,l)}),r);else{for(o&&s(n,l);i<e.length;){var u=e[i];a(u,n.parseRuntime.parsedLineNumber+i),i++,o&&s(n,u)}r()}}else{if(o)for(;i<e.length;)u=e[i++],s(n,u);r()}}(t,e.converter,0,e.needPushDownstream,(function(o){o?i(o):(e.appendFinalResult(t),n())})):(e.appendFinalResult(t),n())}))},t.prototype.appendFinalResult=function(t){this.needEmitAll&&(this.finalResult=this.finalResult.concat(t)),this.converter.parseRuntime.parsedLineNumber+=t.length},t.prototype.processError=function(t){this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onError&&this.converter.parseRuntime.subscribe.onError(t),this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onrejected&&this.converter.parseRuntime.then.onrejected(t)},t.prototype.endProcess=function(){this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onfulfilled&&(this.needEmitAll?this.converter.parseRuntime.then.onfulfilled(this.finalResult):this.converter.parseRuntime.then.onfulfilled([])),this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onCompleted&&this.converter.parseRuntime.subscribe.onCompleted(),this.needPushDownstream&&"array"===this.converter.parseParam.downstreamFormat&&s(this.converter,"]"+r.EOL)},t}();function s(t,e){if("object"!=typeof e||t.options.objectMode)t.push(e);else{var n=JSON.stringify(e);t.push(n+("array"===t.parseParam.downstreamFormat?","+r.EOL:r.EOL),"utf8")}}e.Result=a},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}}])},496:t=>{t.exports=function(){var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(t){return!(!t||!t.Window)&&t instanceof t.Window};var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.init=o,e.getWindow=function(e){return(0,t.default)(e)?e:(e.ownerDocument||e).defaultView||i.window},e.window=e.realWindow=void 0;var n=void 0;e.realWindow=n;var i=void 0;function o(t){e.realWindow=n=t;var o=t.document.createTextNode("");o.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(o)===o&&(t=t.wrap(t)),e.window=i=t}e.window=i,"undefined"!=typeof window&&window&&o(window);var r={};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(t){return!!t&&"object"===a(t)},l=function(t){return"function"==typeof t},c={window:function(n){return n===e.window||(0,t.default)(n)},docFrag:function(t){return s(t)&&11===t.nodeType},object:s,func:l,number:function(t){return"number"==typeof t},bool:function(t){return"boolean"==typeof t},string:function(t){return"string"==typeof t},element:function(t){if(!t||"object"!==a(t))return!1;var n=e.getWindow(t)||e.window;return/object|function/.test(a(n.Element))?t instanceof n.Element:1===t.nodeType&&"string"==typeof t.nodeName},plainObject:function(t){return s(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return s(t)&&void 0!==t.length&&l(t.splice)}};r.default=c;var u={};function d(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function h(t){var e=t.iEvent,n=t.interaction;if("drag"===n.prepared.name){var i=n.prepared.axis;if("x"===i||"y"===i){var o="x"===i?"y":"x";e.page[o]=n.coords.start.page[o],e.client[o]=n.coords.start.client[o],e.delta[o]=0}}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var p={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.draggable=p.draggable,e.map.drag=p,e.methodDict.drag="draggable",i.actions.drag=p.defaults},listeners:{"interactions:before-action-move":d,"interactions:action-resume":d,"interactions:action-move":h,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.buttons,o=n.options.drag;if(o&&o.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(i&n.options.drag.mouseButtons)))return t.action={name:"drag",axis:"start"===o.lockAxis?o.startAxis:o.lockAxis},!1}},draggable:function(t){return r.default.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):r.default.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:d,move:h,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},f=p;u.default=f;var g={};Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var m={init:function(t){var e=t;m.document=e.document,m.DocumentFragment=e.DocumentFragment||v,m.SVGElement=e.SVGElement||v,m.SVGSVGElement=e.SVGSVGElement||v,m.SVGElementInstance=e.SVGElementInstance||v,m.Element=e.Element||v,m.HTMLElement=e.HTMLElement||m.Element,m.Event=e.Event,m.Touch=e.Touch||v,m.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function v(){}var _=m;g.default=_;var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var b={init:function(t){var e=g.default.Element,n=t.navigator||{};b.supportsTouch="ontouchstart"in t||r.default.func(t.DocumentTouch)&&g.default.document instanceof t.DocumentTouch,b.supportsPointerEvent=!1!==n.pointerEnabled&&!!g.default.PointerEvent,b.isIOS=/iP(hone|od|ad)/.test(n.platform),b.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),b.isIe9=/MSIE 9/.test(n.userAgent),b.isOperaMobile="Opera"===n.appName&&b.supportsTouch&&/Presto/.test(n.userAgent),b.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",b.pEventTypes=b.supportsPointerEvent?g.default.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,b.wheelEvent=g.default.document&&"onmousewheel"in g.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},w=b;y.default=w;var k={};function x(t){var e=t.parentNode;if(r.default.docFrag(e)){for(;(e=e.host)&&r.default.docFrag(e););return e}return e}function S(t,n){return e.window!==e.realWindow&&(n=n.replace(/\/deep\//g," ")),t[y.default.prefixedMatchesSelector](n)}Object.defineProperty(k,"__esModule",{value:!0}),k.nodeContains=function(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1},k.closest=function(t,e){for(;r.default.element(t);){if(S(t,e))return t;t=x(t)}return null},k.parentNode=x,k.matchesSelector=S,k.indexOfDeepestElement=function(t){for(var n,i=[],o=0;o<t.length;o++){var r=t[o],a=t[n];if(r&&o!==n)if(a){var s=C(r),l=C(a);if(s!==r.ownerDocument)if(l!==r.ownerDocument)if(s!==l){i=i.length?i:T(a);var c=void 0;if(a instanceof g.default.HTMLElement&&r instanceof g.default.SVGElement&&!(r instanceof g.default.SVGSVGElement)){if(r===l)continue;c=r.ownerSVGElement}else c=r;for(var u=T(c,a.ownerDocument),d=0;u[d]&&u[d]===i[d];)d++;var h=[u[d-1],u[d],i[d]];if(h[0])for(var p=h[0].lastChild;p;){if(p===h[1]){n=o,i=u;break}if(p===h[2])break;p=p.previousSibling}}else f=r,m=a,(parseInt(e.getWindow(f).getComputedStyle(f).zIndex,10)||0)>=(parseInt(e.getWindow(m).getComputedStyle(m).zIndex,10)||0)&&(n=o);else n=o}else n=o}var f,m;return n},k.matchesUpTo=function(t,e,n){for(;r.default.element(t);){if(S(t,e))return!0;if((t=x(t))===n)return S(t,e)}return!1},k.getActualElement=function(t){return t.correspondingUseElement||t},k.getScrollXY=E,k.getElementClientRect=P,k.getElementRect=function(t){var n=P(t);if(!y.default.isIOS7&&n){var i=E(e.getWindow(t));n.left+=i.x,n.right+=i.x,n.top+=i.y,n.bottom+=i.y}return n},k.getPath=function(t){for(var e=[];t;)e.push(t),t=x(t);return e},k.trySelector=function(t){return!!r.default.string(t)&&(g.default.document.querySelector(t),!0)};var C=function(t){return t.parentNode||t.host};function T(t,e){for(var n,i=[],o=t;(n=C(o))&&o!==e&&n!==o.ownerDocument;)i.unshift(o),o=n;return i}function E(t){return{x:(t=t||e.window).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function P(t){var e=t instanceof g.default.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.default=function(t,e){for(var n in e)t[n]=e[n];return t};var D={};function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function M(t,e,n){return"parent"===t?(0,k.parentNode)(n):"self"===t?e.getRect(n):(0,k.closest)(n,t)}Object.defineProperty(D,"__esModule",{value:!0}),D.getStringOptionResult=M,D.resolveRectLike=function(t,e,n,i){var o,a=t;return r.default.string(a)?a=M(a,e,n):r.default.func(a)&&(a=a.apply(void 0,function(t){if(Array.isArray(t))return O(t)}(o=i)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),r.default.element(a)&&(a=(0,k.getElementRect)(a)),a},D.rectToXY=function(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}},D.xywhToTlbr=function(t){return!t||"left"in t&&"top"in t||((t=(0,I.default)({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t},D.tlbrToXywh=function(t){return!t||"x"in t&&"y"in t||((t=(0,I.default)({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t},D.addEdges=function(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top};var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(t,e,n){var i=t.options[n],o=i&&i.origin||t.options.origin,r=(0,D.resolveRectLike)(o,t,e,[t&&e]);return(0,D.rectToXY)(r)||{x:0,y:0}};var B={};function R(t){return t.trim().split(/ +/)}Object.defineProperty(B,"__esModule",{value:!0}),B.default=function t(e,n,i){if(i=i||{},r.default.string(e)&&-1!==e.search(" ")&&(e=R(e)),r.default.array(e))return e.reduce((function(e,o){return(0,I.default)(e,t(o,n,i))}),i);if(r.default.object(e)&&(n=e,e=""),r.default.func(n))i[e]=i[e]||[],i[e].push(n);else if(r.default.array(n))for(var o=0;o<n.length;o++){var a;a=n[o],t(e,a,i)}else if(r.default.object(n))for(var s in n){var l=R(s).map((function(t){return"".concat(e).concat(t)}));t(l,n[s],i)}return i};var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0,L.default=function(t,e){return Math.sqrt(t*t+e*e)};var $={};function N(t,e){for(var n in e){var i=N.prefixedPropREs,o=!1;for(var r in i)if(0===n.indexOf(r)&&i[r].test(n)){o=!0;break}o||"function"==typeof e[n]||(t[n]=e[n])}return t}Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,N.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var F=N;$.default=F;var j={};function H(t){return t instanceof g.default.Event||t instanceof g.default.Touch}function W(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n}function z(t,e){return e=e||{x:0,y:0},y.default.isOperaMobile&&H(t)?(W("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):W("page",t,e),e}function U(t,e){return e=e||{},y.default.isOperaMobile&&H(t)?W("screen",t,e):W("client",t,e),e}function Y(t){var e=[];return r.default.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function V(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var i=t[n];for(var o in e)e[o]+=i[o]}for(var r in e)e[r]/=t.length;return e}Object.defineProperty(j,"__esModule",{value:!0}),j.copyCoords=function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},j.setCoordDeltas=function(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp},j.setCoordVelocity=function(t,e){var n=Math.max(e.timeStamp/1e3,.001);t.page.x=e.page.x/n,t.page.y=e.page.y/n,t.client.x=e.client.x/n,t.client.y=e.client.y/n,t.timeStamp=n},j.setZeroCoords=function(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0},j.isNativePointer=H,j.getXY=W,j.getPageXY=z,j.getClientXY=U,j.getPointerId=function(t){return r.default.number(t.pointerId)?t.pointerId:t.identifier},j.setCoords=function(t,e,n){var i=e.length>1?V(e):e[0];z(i,t.page),U(i,t.client),t.timeStamp=n},j.getTouchPair=Y,j.pointerAverage=V,j.touchBBox=function(t){if(!t.length)return null;var e=Y(t),n=Math.min(e[0].pageX,e[1].pageX),i=Math.min(e[0].pageY,e[1].pageY),o=Math.max(e[0].pageX,e[1].pageX),r=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:i,left:n,top:i,right:o,bottom:r,width:o-n,height:r-i}},j.touchDistance=function(t,e){var n=e+"X",i=e+"Y",o=Y(t),r=o[0][n]-o[1][n],a=o[0][i]-o[1][i];return(0,L.default)(r,a)},j.touchAngle=function(t,e){var n=e+"X",i=e+"Y",o=Y(t),r=o[1][n]-o[0][n],a=o[1][i]-o[0][i];return 180*Math.atan2(a,r)/Math.PI},j.getPointerType=function(t){return r.default.string(t.pointerType)?t.pointerType:r.default.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof g.default.Touch?"touch":"mouse"},j.getEventTargets=function(t){var e=r.default.func(t.composedPath)?t.composedPath():t.path;return[k.getActualElement(e?e[0]:t.target),k.getActualElement(t.currentTarget)]},j.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},j.coordsToEvent=function(t){return{coords:t,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(j,"pointerExtend",{enumerable:!0,get:function(){return $.default}});var X={};function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(X,"__esModule",{value:!0}),X.BaseEvent=void 0;var G=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),q(this,"type",void 0),q(this,"target",void 0),q(this,"currentTarget",void 0),q(this,"interactable",void 0),q(this,"_interaction",void 0),q(this,"timeStamp",void 0),q(this,"immediatePropagationStopped",!1),q(this,"propagationStopped",!1),this._interaction=e}var e;return(e=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();X.BaseEvent=G,Object.defineProperty(G.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.find=K.findIndex=K.from=K.merge=K.remove=K.contains=void 0,K.contains=function(t,e){return-1!==t.indexOf(e)},K.remove=function(t,e){return t.splice(t.indexOf(e),1)};var Q=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.push(i)}return t};K.merge=Q,K.from=function(t){return Q([],t)};var J=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1};K.findIndex=J,K.find=function(t,e){return t[J(t,e)]};var Z={};function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?it(t):e}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Z,"__esModule",{value:!0}),Z.DropEvent=void 0;var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(r,t);var e,n,i,o=(n=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ot(n);if(i){var o=ot(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return nt(this,t)});function r(t,e,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),rt(it(i=o.call(this,e._interaction)),"target",void 0),rt(it(i),"dropzone",void 0),rt(it(i),"dragEvent",void 0),rt(it(i),"relatedTarget",void 0),rt(it(i),"draggable",void 0),rt(it(i),"timeStamp",void 0),rt(it(i),"propagationStopped",!1),rt(it(i),"immediatePropagationStopped",!1);var a="dragleave"===n?t.prev:t.cur,s=a.element,l=a.dropzone;return i.type=n,i.target=s,i.currentTarget=s,i.dropzone=l,i.dragEvent=e,i.relatedTarget=e.target,i.draggable=e.interactable,i.timeStamp=e.timeStamp,i}return(e=[{key:"reject",value:function(){var t=this,e=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&e.cur.dropzone===this.dropzone&&e.cur.element===this.target)if(e.prev.dropzone=this.dropzone,e.prev.element=this.target,e.rejected=!0,e.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=e.activeDrops,i=K.findIndex(n,(function(e){var n=e.dropzone,i=e.element;return n===t.dropzone&&i===t.target}));e.activeDrops.splice(i,1);var o=new r(e,this.dragEvent,"dropdeactivate");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o)}else this.dropzone.fire(new r(e,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(r.prototype,e),r}(X.BaseEvent);Z.DropEvent=at;var st={};function lt(t,e){for(var n=0;n<t.slice().length;n++){var i=t.slice()[n],o=i.dropzone,r=i.element;e.dropzone=o,e.target=r,o.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function ct(t,e){for(var n=function(t,e){for(var n=t.interactables,i=[],o=0;o<n.list.length;o++){var a=n.list[o];if(a.options.drop.enabled){var s=a.options.drop.accept;if(!(r.default.element(s)&&s!==e||r.default.string(s)&&!k.matchesSelector(e,s)||r.default.func(s)&&!s({dropzone:a,draggableElement:e})))for(var l=r.default.string(a.target)?a._context.querySelectorAll(a.target):r.default.array(a.target)?a.target:[a.target],c=0;c<l.length;c++){var u=l[c];u!==e&&i.push({dropzone:a,element:u,rect:a.getRect(u)})}}}return i}(t,e),i=0;i<n.length;i++){var o=n[i];o.rect=o.dropzone.getRect(o.element)}return n}function ut(t,e,n){for(var i=t.dropState,o=t.interactable,r=t.element,a=[],s=0;s<i.activeDrops.length;s++){var l=i.activeDrops[s],c=l.dropzone,u=l.element,d=l.rect;a.push(c.dropCheck(e,n,o,r,u,d)?u:null)}var h=k.indexOfDeepestElement(a);return i.activeDrops[h]||null}function dt(t,e,n){var i=t.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(o.activate=new Z.DropEvent(i,n,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),"dragend"===n.type&&(o.deactivate=new Z.DropEvent(i,n,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(o.leave=new Z.DropEvent(i,n,"dragleave"),n.dragLeave=o.leave.target=i.prev.element,n.prevDropzone=o.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(o.enter=new Z.DropEvent(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),"dragend"===n.type&&i.cur.dropzone&&(o.drop=new Z.DropEvent(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),"dragmove"===n.type&&i.cur.dropzone&&(o.move=new Z.DropEvent(i,n,"dropmove"),o.move.dragmove=n,n.dropzone=i.cur.dropzone)),o}function ht(t,e){var n=t.dropState,i=n.activeDrops,o=n.cur,r=n.prev;e.leave&&r.dropzone.fire(e.leave),e.enter&&o.dropzone.fire(e.enter),e.move&&o.dropzone.fire(e.move),e.drop&&o.dropzone.fire(e.drop),e.deactivate&&lt(i,e.deactivate),n.prev.dropzone=o.dropzone,n.prev.element=o.element}function pt(t,e){var n=t.interaction,i=t.iEvent,o=t.event;if("dragmove"===i.type||"dragend"===i.type){var r=n.dropState;e.dynamicDrop&&(r.activeDrops=ct(e,n.element));var a=i,s=ut(n,a,o);r.rejected=r.rejected&&!!s&&s.dropzone===r.cur.dropzone&&s.element===r.cur.element,r.cur.dropzone=s&&s.dropzone,r.cur.element=s&&s.element,r.events=dt(n,0,a)}}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var ft={id:"actions/drop",install:function(t){var e=t.actions,n=t.interactStatic,i=t.Interactable,o=t.defaults;t.usePlugin(u.default),i.prototype.dropzone=function(t){return function(t,e){if(r.default.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){var n=(0,B.default)(e.listeners),i=Object.keys(n).reduce((function(t,e){return t[/^(enter|leave)/.test(e)?"drag".concat(e):/^(activate|deactivate|move)/.test(e)?"drop".concat(e):e]=n[e],t}),{});t.off(t.options.drop.listeners),t.on(i),t.options.drop.listeners=i}return r.default.func(e.ondrop)&&t.on("drop",e.ondrop),r.default.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),r.default.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),r.default.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),r.default.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),r.default.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:r.default.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return r.default.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}(this,t)},i.prototype.dropCheck=function(t,e,n,i,o,a){return function(t,e,n,i,o,a,s){var l=!1;if(!(s=s||t.getRect(a)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,l,t,a,i,o);var c=t.options.drop.overlap;if("pointer"===c){var u=(0,A.default)(i,o,"drag"),d=j.getPageXY(e);d.x+=u.x,d.y+=u.y;var h=d.x>s.left&&d.x<s.right,p=d.y>s.top&&d.y<s.bottom;l=h&&p}var f=i.getRect(o);if(f&&"center"===c){var g=f.left+f.width/2,m=f.top+f.height/2;l=g>=s.left&&g<=s.right&&m>=s.top&&m<=s.bottom}return f&&r.default.number(c)&&(l=Math.max(0,Math.min(s.right,f.right)-Math.max(s.left,f.left))*Math.max(0,Math.min(s.bottom,f.bottom)-Math.max(s.top,f.top))/(f.width*f.height)>=c),t.options.drop.checker&&(l=t.options.drop.checker(e,n,l,t,a,i,o)),l}(this,t,e,n,i,o,a)},n.dynamicDrop=function(e){return r.default.bool(e)?(t.dynamicDrop=e,n):t.dynamicDrop},(0,I.default)(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,o.actions.drop=ft.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;"drag"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,i=(t.event,t.iEvent);if("drag"===n.prepared.name){var o=n.dropState;o.activeDrops=null,o.events=null,o.activeDrops=ct(e,n.element),o.events=dt(n,0,i),o.events.activate&&(lt(o.activeDrops,o.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:i}))}},"interactions:action-move":pt,"interactions:after-action-move":function(t,e){var n=t.interaction,i=t.iEvent;"drag"===n.prepared.name&&(ht(n,n.dropState.events),e.fire("actions/drop:move",{interaction:n,dragEvent:i}),n.dropState.events={})},"interactions:action-end":function(t,e){if("drag"===t.interaction.prepared.name){var n=t.interaction,i=t.iEvent;pt(t,e),ht(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:i})}},"interactions:stop":function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:ct,getDrop:ut,getDropEvents:dt,fireDropEvents:ht,defaults:{enabled:!1,accept:null,overlap:"pointer"}},gt=ft;st.default=gt;var mt={};function vt(t){var e=t.interaction,n=t.iEvent,i=t.phase;if("gesture"===e.prepared.name){var o=e.pointers.map((function(t){return t.pointer})),a="start"===i,s="end"===i,l=e.interactable.options.deltaSource;if(n.touches=[o[0],o[1]],a)n.distance=j.touchDistance(o,l),n.box=j.touchBBox(o),n.scale=1,n.ds=0,n.angle=j.touchAngle(o,l),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(s){var c=e.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0}else n.distance=j.touchDistance(o,l),n.box=j.touchBBox(o),n.scale=n.distance/e.gesture.startDistance,n.angle=j.touchAngle(o,l),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,r.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0;var _t={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.gesturable=function(t){return r.default.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):r.default.bool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},e.map.gesture=_t,e.methodDict.gesture="gesturable",i.actions.gesture=_t.defaults},listeners:{"interactions:action-start":vt,"interactions:action-move":vt,"interactions:action-end":vt,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},yt=_t;mt.default=yt;var bt={};function wt(t,e,n,i,o,a,s){if(!e)return!1;if(!0===e){var l=r.default.number(a.width)?a.width:a.right-a.left,c=r.default.number(a.height)?a.height:a.bottom-a.top;if(s=Math.min(s,Math.abs(("left"===t||"right"===t?l:c)/2)),l<0&&("left"===t?t="right":"right"===t&&(t="left")),c<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return n.x<(l>=0?a.left:a.right)+s;if("top"===t)return n.y<(c>=0?a.top:a.bottom)+s;if("right"===t)return n.x>(l>=0?a.right:a.left)-s;if("bottom"===t)return n.y>(c>=0?a.bottom:a.top)-s}return!!r.default.element(i)&&(r.default.element(e)?e===i:k.matchesUpTo(i,e,o))}function kt(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var i=e;n.interactable.options.resize.square?("y"===n.resizeAxes?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=n.resizeAxes,"x"===n.resizeAxes?i.delta.y=0:"y"===n.resizeAxes&&(i.delta.x=0))}}Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=void 0;var xt={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,i=t.Interactable,o=t.defaults;xt.cursors=function(t){return t.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),xt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(e){return function(t,e,n){return r.default.object(e)?(t.options.resize.enabled=!1!==e.enabled,t.setPerAction("resize",e),t.setOnEvents("resize",e),r.default.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:null===e.axis&&(t.options.resize.axis=n.defaults.actions.resize.axis),r.default.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:r.default.bool(e.square)&&(t.options.resize.square=e.square),t):r.default.bool(e)?(t.options.resize.enabled=e,t):t.options.resize}(this,e,t)},e.map.resize=xt,e.methodDict.resize="resizable",o.actions.resize=xt.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=e,o=n.rect;n._rects={start:(0,I.default)({},o),corrected:(0,I.default)({},o),previous:(0,I.default)({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}}(t),kt(t)},"interactions:action-move":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=e,o=n.interactable.options.resize.invert,r="reposition"===o||"negate"===o,a=n.rect,s=n._rects,l=s.start,c=s.corrected,u=s.delta,d=s.previous;if((0,I.default)(d,c),r){if((0,I.default)(c,a),"reposition"===o){if(c.top>c.bottom){var h=c.top;c.top=c.bottom,c.bottom=h}if(c.left>c.right){var p=c.left;c.left=c.right,c.right=p}}}else c.top=Math.min(a.top,l.bottom),c.bottom=Math.max(a.bottom,l.top),c.left=Math.min(a.left,l.right),c.right=Math.max(a.right,l.left);for(var f in c.width=c.right-c.left,c.height=c.bottom-c.top,c)u[f]=c[f]-d[f];i.edges=n.prepared.edges,i.rect=c,i.deltaRect=u}}(t),kt(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=e;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.element,o=t.rect,a=t.buttons;if(o){var s=(0,I.default)({},e.coords.cur.page),l=n.options.resize;if(l&&l.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(a&l.mouseButtons))){if(r.default.object(l.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var u in c)c[u]=wt(u,l.edges[u],s,e._latestPointer.eventTarget,i,o,l.margin||xt.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(t.action={name:"resize",edges:c})}else{var d="y"!==l.axis&&s.x>o.right-xt.defaultMargin,h="x"!==l.axis&&s.y>o.bottom-xt.defaultMargin;(d||h)&&(t.action={name:"resize",axes:(d?"x":"")+(h?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,i=t.name,o=xt.cursors,r=null;if(n)r=o[i+n];else if(e){for(var a="",s=["top","bottom","left","right"],l=0;l<s.length;l++){var c=s[l];e[c]&&(a+=c)}r=o[a]}return r},defaultMargin:null},St=xt;bt.default=St;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=void 0;var Tt={id:"actions",install:function(t){t.usePlugin(mt.default),t.usePlugin(bt.default),t.usePlugin(u.default),t.usePlugin(st.default)}};Ct.default=Tt;var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=void 0;var Pt,It,Dt=0,Ot={request:function(t){return Pt(t)},cancel:function(t){return It(t)},init:function(t){if(Pt=t.requestAnimationFrame,It=t.cancelAnimationFrame,!Pt)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var i=e[n];Pt=t["".concat(i,"RequestAnimationFrame")],It=t["".concat(i,"CancelAnimationFrame")]||t["".concat(i,"CancelRequestAnimationFrame")]}Pt=Pt&&Pt.bind(t),It=It&&It.bind(t),Pt||(Pt=function(e){var n=Date.now(),i=Math.max(0,16-(n-Dt)),o=t.setTimeout((function(){e(n+i)}),i);return Dt=n+i,o},It=function(t){return clearTimeout(t)})}};Et.default=Ot;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.getContainer=Bt,Mt.getScroll=Rt,Mt.getScrollSize=function(t){return r.default.window(t)&&(t=window.document.body),{x:t.scrollWidth,y:t.scrollHeight}},Mt.getScrollSizeDelta=function(t,e){var n=t.interaction,i=t.element,o=n&&n.interactable.options[n.prepared.name].autoScroll;if(!o||!o.enabled)return e(),{x:0,y:0};var r=Bt(o.container,n.interactable,i),a=Rt(r);e();var s=Rt(r);return{x:s.x-a.x,y:s.y-a.y}},Mt.default=void 0;var At={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){At.isScrolling=!0,Et.default.cancel(At.i),t.autoScroll=At,At.interaction=t,At.prevTime=At.now(),At.i=Et.default.request(At.scroll)},stop:function(){At.isScrolling=!1,At.interaction&&(At.interaction.autoScroll=null),Et.default.cancel(At.i)},scroll:function(){var t=At.interaction,e=t.interactable,n=t.element,i=t.prepared.name,o=e.options[i].autoScroll,a=Bt(o.container,e,n),s=At.now(),l=(s-At.prevTime)/1e3,c=o.speed*l;if(c>=1){var u={x:At.x*c,y:At.y*c};if(u.x||u.y){var d=Rt(a);r.default.window(a)?a.scrollBy(u.x,u.y):a&&(a.scrollLeft+=u.x,a.scrollTop+=u.y);var h=Rt(a),p={x:h.x-d.x,y:h.y-d.y};(p.x||p.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:p,interaction:t,container:a})}At.prevTime=s}At.isScrolling&&(Et.default.cancel(At.i),At.i=Et.default.request(At.scroll))},check:function(t,e){var n;return null==(n=t.options[e].autoScroll)?void 0:n.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&At.check(e.interactable,e.prepared.name))if(e.simulation)At.x=At.y=0;else{var i,o,a,s,l=e.interactable,c=e.element,u=e.prepared.name,d=l.options[u].autoScroll,h=Bt(d.container,l,c);if(r.default.window(h))s=n.clientX<At.margin,i=n.clientY<At.margin,o=n.clientX>h.innerWidth-At.margin,a=n.clientY>h.innerHeight-At.margin;else{var p=k.getElementClientRect(h);s=n.clientX<p.left+At.margin,i=n.clientY<p.top+At.margin,o=n.clientX>p.right-At.margin,a=n.clientY>p.bottom-At.margin}At.x=o?1:s?-1:0,At.y=a?1:i?-1:0,At.isScrolling||(At.margin=d.margin,At.speed=d.speed,At.start(e))}}};function Bt(t,n,i){return(r.default.string(t)?(0,D.getStringOptionResult)(t,n,i):t)||(0,e.getWindow)(i)}function Rt(t){return r.default.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var Lt={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;t.autoScroll=At,At.now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=At.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,At.stop(),At.interaction&&(At.interaction=null)},"interactions:stop":At.stop,"interactions:action-move":function(t){return At.onInteractionMove(t)}}};Mt.default=Lt;var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.warnOnce=function(t,n){var i=!1;return function(){return i||(e.window.console.warn(n),i=!0),t.apply(this,arguments)}},$t.copyAction=function(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t},$t.sign=void 0,$t.sign=function(t){return t>=0?1:-1};var Nt={};function Ft(t){return r.default.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function jt(t){return r.default.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.default=void 0;var Ht={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(e,n,i,o){var r=function(t,e,n,i,o){var r=t.getRect(i),a={action:null,interactable:t,interaction:n,element:i,rect:r,buttons:e.buttons||{0:1,1:4,3:8,4:16}[e.button]};return o.fire("auto-start:check",a),a.action}(this,n,i,o,t);return this.options.actionChecker?this.options.actionChecker(e,n,r,this,o,i):r},e.prototype.ignoreFrom=(0,$t.warnOnce)((function(t){return this._backCompatOption("ignoreFrom",t)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=(0,$t.warnOnce)((function(t){return this._backCompatOption("allowFrom",t)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=jt,e.prototype.styleCursor=Ft}};Nt.default=Ht;var Wt={};function zt(t,e,n,i,o){return e.testIgnoreAllow(e.options[t.name],n,i)&&e.options[t.name].enabled&&Xt(e,n,t,o)?t:null}function Ut(t,e,n,i,o,r,a){for(var s=0,l=i.length;s<l;s++){var c=i[s],u=o[s],d=c.getAction(e,n,t,u);if(d){var h=zt(d,c,u,r,a);if(h)return{action:h,interactable:c,element:u}}}return{action:null,interactable:null,element:null}}function Yt(t,e,n,i,o){var a=[],s=[],l=i;function c(t){a.push(t),s.push(l)}for(;r.default.element(l);){a=[],s=[],o.interactables.forEachMatch(l,c);var u=Ut(t,e,n,a,s,i,o);if(u.action&&!u.interactable.options[u.action.name].manualStart)return u;l=k.parentNode(l)}return{action:null,interactable:null,element:null}}function Vt(t,e,n){var i=e.action,o=e.interactable,r=e.element;i=i||{name:null},t.interactable=o,t.element=r,(0,$t.copyAction)(t.prepared,i),t.rect=o&&i.name?o.getRect(r):null,Kt(t,n),n.fire("autoStart:prepared",{interaction:t})}function Xt(t,e,n,i){var o=t.options,r=o[n.name].max,a=o[n.name].maxPerElement,s=i.autoStart.maxInteractions,l=0,c=0,u=0;if(!(r&&a&&s))return!1;for(var d=0;d<i.interactions.list.length;d++){var h=i.interactions.list[d],p=h.prepared.name;if(h.interacting()){if(++l>=s)return!1;if(h.interactable===t){if((c+=p===n.name?1:0)>=r)return!1;if(h.element===e&&(u++,p===n.name&&u>=a))return!1}}}return s>0}function qt(t,e){return r.default.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function Gt(t,e,n){var i=n.autoStart.cursorElement;i&&i!==t&&(i.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function Kt(t,e){var n=t.interactable,i=t.element,o=t.prepared;if("mouse"===t.pointerType&&n&&n.options.styleCursor){var a="";if(o.name){var s=n.options[o.name].cursorChecker;a=r.default.func(s)?s(o,n,i,t._interacting):e.actions.map[o.name].getCursor(o)}Gt(t.element,a||"",e)}else e.autoStart.cursorElement&&Gt(e.autoStart.cursorElement,"",e)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=void 0;var Qt={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin(Nt.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,I.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(e){return qt(e,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:Xt,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget;n.interacting()||Vt(n,Yt(n,i,o,r,e),e)},"interactions:move":function(t,e){!function(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||Vt(n,Yt(n,i,o,r,e),e)}(t,e),function(t,e){var n=t.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){e.fire("autoStart:before-start",t);var i=n.interactable,o=n.prepared.name;o&&i&&(i.options[o].manualStart||!Xt(i,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,i,n.element),Kt(n,e)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,i=n.interactable;i&&i.options.styleCursor&&Gt(n.element,"",e)}},maxInteractions:qt,withinInteractionLimit:Xt,validateAction:zt};Wt.default=Qt;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.default=void 0;var Zt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,i=t.eventTarget,o=t.dx,a=t.dy;if("drag"===n.prepared.name){var s=Math.abs(o),l=Math.abs(a),c=n.interactable.options.drag,u=c.startAxis,d=s>l?"x":s<l?"y":"xy";if(n.prepared.axis="start"===c.lockAxis?d[0]:c.lockAxis,"xy"!==d&&"xy"!==u&&u!==d){n.prepared.name=null;for(var h=i,p=function(t){if(t!==n.interactable){var o=n.interactable.options.drag;if(!o.manualStart&&t.testIgnoreAllow(o,h,i)){var r=t.getAction(n.downPointer,n.downEvent,n,h);if(r&&"drag"===r.name&&function(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t}(d,t)&&Wt.default.validateAction(r,t,h,i,e))return t}}};r.default.element(h);){var f=e.interactables.forEachMatch(h,p);if(f){n.prepared.name="drag",n.interactable=f,n.element=h;break}h=(0,k.parentNode)(h)}}}}}};Jt.default=Zt;var te={};function ee(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}Object.defineProperty(te,"__esModule",{value:!0}),te.default=void 0;var ne={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(Wt.default),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=ee(e);n>0&&(e.autoStartHoldTimer=setTimeout((function(){e.start(e.prepared,e.interactable,e.element)}),n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;ee(e)>0&&(e.prepared.name=null)}},getHoldDuration:ee};te.default=ne;var ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=void 0;var oe={id:"auto-start",install:function(t){t.usePlugin(Wt.default),t.usePlugin(te.default),t.usePlugin(Jt.default)}};ie.default=oe;var re={};function ae(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):r.default.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function se(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}function le(t){var n=t.Interactable;n.prototype.preventDefault=ae,n.prototype.checkAndPreventDefault=function(n){return function(t,n,i){var o=t.options.preventDefault;if("never"!==o)if("always"!==o){if(n.events.supportsPassive&&/^touch(start|move)$/.test(i.type)){var a=(0,e.getWindow)(i.target).document,s=n.getDocOptions(a);if(!s||!s.events||!1!==s.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(i.type)||r.default.element(i.target)&&(0,k.matchesSelector)(i.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||i.preventDefault()}else i.preventDefault()}(this,t,n)},t.interactions.docEvents.push({type:"dragstart",listener:function(e){for(var n=0;n<t.interactions.list.length;n++){var i=t.interactions.list[n];if(i.element&&(i.element===e.target||(0,k.nodeContains)(i.element,e.target)))return void i.interactable.checkAndPreventDefault(e)}}})}Object.defineProperty(re,"__esModule",{value:!0}),re.install=le,re.default=void 0;var ce={id:"core/interactablePreventDefault",install:le,listeners:["down","move","up","cancel"].reduce((function(t,e){return t["interactions:".concat(e)]=se,t}),{})};re.default=ce;var ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0,ue.default={};var de,he={};Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0,function(t){t.touchAction="touchAction",t.boxSizing="boxSizing",t.noListeners="noListeners"}(de||(de={})),de.touchAction,de.boxSizing,de.noListeners;he.default={id:"dev-tools",install:function(){}};var pe={};Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=function t(e){var n={};for(var i in e){var o=e[i];r.default.plainObject(o)?n[i]=t(o):r.default.array(o)?n[i]=K.from(o):n[i]=o}return n};var fe={};function ge(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return me(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function ve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(fe,"__esModule",{value:!0}),fe.getRectOffset=be,fe.default=void 0;var _e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ve(this,"states",[]),ve(this,"startOffset",{left:0,right:0,top:0,bottom:0}),ve(this,"startDelta",void 0),ve(this,"result",void 0),ve(this,"endResult",void 0),ve(this,"edges",void 0),ve(this,"interaction",void 0),this.interaction=e,this.result=ye()}var e;return(e=[{key:"start",value:function(t,e){var n=t.phase,i=this.interaction,o=function(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(t){var n=e[t];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(t){return!!t}))}(i);this.prepareStates(o),this.edges=(0,I.default)({},i.edges),this.startOffset=be(i.rect,e),this.startDelta={x:0,y:0};var r=this.fillArg({phase:n,pageCoords:e,preEnd:!1});return this.result=ye(),this.startAll(r),this.result=this.setAll(r)}},{key:"fillArg",value:function(t){var e=this.interaction;return t.interaction=e,t.interactable=e.interactable,t.element=e.element,t.rect=t.rect||e.rect,t.edges=this.edges,t.startOffset=this.startOffset,t}},{key:"startAll",value:function(t){for(var e=0;e<this.states.length;e++){var n=this.states[e];n.methods.start&&(t.state=n,n.methods.start(t))}}},{key:"setAll",value:function(t){var e=t.phase,n=t.preEnd,i=t.skipModifiers,o=t.rect;t.coords=(0,I.default)({},t.pageCoords),t.rect=(0,I.default)({},o);for(var r=i?this.states.slice(i):this.states,a=ye(t.coords,t.rect),s=0;s<r.length;s++){var l,c=r[s],u=c.options,d=(0,I.default)({},t.coords),h=null;null!=(l=c.methods)&&l.set&&this.shouldDo(u,n,e)&&(t.state=c,h=c.methods.set(t),D.addEdges(this.interaction.edges,t.rect,{x:t.coords.x-d.x,y:t.coords.y-d.y})),a.eventProps.push(h)}a.delta.x=t.coords.x-t.pageCoords.x,a.delta.y=t.coords.y-t.pageCoords.y,a.rectDelta.left=t.rect.left-o.left,a.rectDelta.right=t.rect.right-o.right,a.rectDelta.top=t.rect.top-o.top,a.rectDelta.bottom=t.rect.bottom-o.bottom;var p=this.result.coords,f=this.result.rect;if(p&&f){var g=a.rect.left!==f.left||a.rect.right!==f.right||a.rect.top!==f.top||a.rect.bottom!==f.bottom;a.changed=g||p.x!==a.coords.x||p.y!==a.coords.y}return a}},{key:"applyToInteraction",value:function(t){var e=this.interaction,n=t.phase,i=e.coords.cur,o=e.coords.start,r=this.result,a=this.startDelta,s=r.delta;"start"===n&&(0,I.default)(this.startDelta,r.delta);for(var l=0;l<[[o,a],[i,s]].length;l++){var c=ge([[o,a],[i,s]][l],2),u=c[0],d=c[1];u.page.x+=d.x,u.page.y+=d.y,u.client.x+=d.x,u.client.y+=d.y}var h=this.result.rectDelta,p=t.rect||e.rect;p.left+=h.left,p.right+=h.right,p.top+=h.top,p.bottom+=h.bottom,p.width=p.right-p.left,p.height=p.bottom-p.top}},{key:"setAndApply",value:function(t){var e=this.interaction,n=t.phase,i=t.preEnd,o=t.skipModifiers,r=this.setAll(this.fillArg({preEnd:i,phase:n,pageCoords:t.modifiedCoords||e.coords.cur.page}));if(this.result=r,!r.changed&&(!o||o<this.states.length)&&e.interacting())return!1;if(t.modifiedCoords){var a=e.coords.cur.page,s={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};r.coords.x+=s.x,r.coords.y+=s.y,r.delta.x+=s.x,r.delta.y+=s.y}this.applyToInteraction(t)}},{key:"beforeEnd",value:function(t){var e=t.interaction,n=t.event,i=this.states;if(i&&i.length){for(var o=!1,r=0;r<i.length;r++){var a=i[r];t.state=a;var s=a.options,l=a.methods,c=l.beforeEnd&&l.beforeEnd(t);if(c)return this.endResult=c,!1;o=o||!o&&this.shouldDo(s,!0,t.phase,!0)}o&&e.move({event:n,preEnd:!0})}}},{key:"stop",value:function(t){var e=t.interaction;if(this.states&&this.states.length){var n=(0,I.default)({states:this.states,interactable:e.interactable,element:e.element,rect:null},t);this.fillArg(n);for(var i=0;i<this.states.length;i++){var o=this.states[i];n.state=o,o.methods.stop&&o.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(t){this.states=[];for(var e=0;e<t.length;e++){var n=t[e],i=n.options,o=n.methods,r=n.name;this.states.push({options:i,methods:o,index:e,name:r})}return this.states}},{key:"restoreInteractionCoords",value:function(t){var e=t.interaction,n=e.coords,i=e.rect,o=e.modification;if(o.result){for(var r=o.startDelta,a=o.result,s=a.delta,l=a.rectDelta,c=[[n.start,r],[n.cur,s]],u=0;u<c.length;u++){var d=ge(c[u],2),h=d[0],p=d[1];h.page.x-=p.x,h.page.y-=p.y,h.client.x-=p.x,h.client.y-=p.y}i.left-=l.left,i.right-=l.right,i.top-=l.top,i.bottom-=l.bottom}}},{key:"shouldDo",value:function(t,e,n,i){return!(!t||!1===t.enabled||i&&!t.endOnly||t.endOnly&&!e||"start"===n&&!t.setStart)}},{key:"copyFrom",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.edges=t.edges,this.states=t.states.map((function(t){return(0,pe.default)(t)})),this.result=ye((0,I.default)({},t.result.coords),(0,I.default)({},t.result.rect))}},{key:"destroy",value:function(){for(var t in this)this[t]=null}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function ye(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function be(t,e){return t?{left:e.x-t.left,top:e.y-t.top,right:t.right-e.x,bottom:t.bottom-e.y}:{left:0,top:0,right:0,bottom:0}}fe.default=_e;var we={};function ke(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}Object.defineProperty(we,"__esModule",{value:!0}),we.makeModifier=function(t,e){var n=t.defaults,i={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},o=function(t){var o=t||{};for(var r in o.enabled=!1!==o.enabled,n)r in o||(o[r]=n[r]);var a={options:o,methods:i,name:e,enable:function(){return o.enabled=!0,a},disable:function(){return o.enabled=!1,a}};return a};return e&&"string"==typeof e&&(o._defaults=n,o._methods=i),o},we.addEventModifiers=ke,we.default=void 0;var xe={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new fe.default(e)},"interactions:before-action-start":function(t){var e=t.interaction.modification;e.start(t,t.interaction.coords.start.page),t.interaction.edges=e.edges,e.applyToInteraction(t)},"interactions:before-action-move":function(t){return t.interaction.modification.setAndApply(t)},"interactions:before-action-end":function(t){return t.interaction.modification.beforeEnd(t)},"interactions:action-start":ke,"interactions:action-move":ke,"interactions:action-end":ke,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}};we.default=xe;var Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.defaults=void 0,Se.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Ce={};function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pe(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?Ie(t):e}function Ie(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.InteractEvent=void 0;var Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(r,t);var e,n,i,o=(n=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=De(n);if(i){var o=De(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Pe(this,t)});function r(t,e,n,i,a,s,l){var c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),Oe(Ie(c=o.call(this,t)),"target",void 0),Oe(Ie(c),"currentTarget",void 0),Oe(Ie(c),"relatedTarget",null),Oe(Ie(c),"screenX",void 0),Oe(Ie(c),"screenY",void 0),Oe(Ie(c),"button",void 0),Oe(Ie(c),"buttons",void 0),Oe(Ie(c),"ctrlKey",void 0),Oe(Ie(c),"shiftKey",void 0),Oe(Ie(c),"altKey",void 0),Oe(Ie(c),"metaKey",void 0),Oe(Ie(c),"page",void 0),Oe(Ie(c),"client",void 0),Oe(Ie(c),"delta",void 0),Oe(Ie(c),"rect",void 0),Oe(Ie(c),"x0",void 0),Oe(Ie(c),"y0",void 0),Oe(Ie(c),"t0",void 0),Oe(Ie(c),"dt",void 0),Oe(Ie(c),"duration",void 0),Oe(Ie(c),"clientX0",void 0),Oe(Ie(c),"clientY0",void 0),Oe(Ie(c),"velocity",void 0),Oe(Ie(c),"speed",void 0),Oe(Ie(c),"swipe",void 0),Oe(Ie(c),"timeStamp",void 0),Oe(Ie(c),"axes",void 0),Oe(Ie(c),"preEnd",void 0),a=a||t.element;var u=t.interactable,d=(u&&u.options||Se.defaults).deltaSource,h=(0,A.default)(u,a,n),p="start"===i,f="end"===i,g=p?Ie(c):t.prevEvent,m=p?t.coords.start:f?{page:g.page,client:g.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;return c.page=(0,I.default)({},m.page),c.client=(0,I.default)({},m.client),c.rect=(0,I.default)({},t.rect),c.timeStamp=m.timeStamp,f||(c.page.x-=h.x,c.page.y-=h.y,c.client.x-=h.x,c.client.y-=h.y),c.ctrlKey=e.ctrlKey,c.altKey=e.altKey,c.shiftKey=e.shiftKey,c.metaKey=e.metaKey,c.button=e.button,c.buttons=e.buttons,c.target=a,c.currentTarget=a,c.preEnd=s,c.type=l||n+(i||""),c.interactable=u,c.t0=p?t.pointers[t.pointers.length-1].downTime:g.t0,c.x0=t.coords.start.page.x-h.x,c.y0=t.coords.start.page.y-h.y,c.clientX0=t.coords.start.client.x-h.x,c.clientY0=t.coords.start.client.y-h.y,c.delta=p||f?{x:0,y:0}:{x:c[d].x-g[d].x,y:c[d].y-g[d].y},c.dt=t.coords.delta.timeStamp,c.duration=c.timeStamp-c.t0,c.velocity=(0,I.default)({},t.coords.velocity[d]),c.speed=(0,L.default)(c.velocity.x,c.velocity.y),c.swipe=f||"inertiastart"===i?c.getSwipe():null,c}return(e=[{key:"getSwipe",value:function(){var t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,i=202.5<=e&&e<337.5;return{up:i,down:!i&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(r.prototype,e),r}(X.BaseEvent);Ce.InteractEvent=Me,Object.defineProperties(Me.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var Ae={};function Be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.PointerInfo=void 0,Ae.PointerInfo=function t(e,n,i,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,"id",void 0),Be(this,"pointer",void 0),Be(this,"event",void 0),Be(this,"downTime",void 0),Be(this,"downTarget",void 0),this.id=e,this.pointer=n,this.event=i,this.downTime=o,this.downTarget=r};var Re,Le,$e={};function Ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty($e,"__esModule",{value:!0}),Object.defineProperty($e,"PointerInfo",{enumerable:!0,get:function(){return Ae.PointerInfo}}),$e.default=$e.Interaction=$e._ProxyMethods=$e._ProxyValues=void 0,$e._ProxyValues=Re,function(t){t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy=""}(Re||($e._ProxyValues=Re={})),$e._ProxyMethods=Le,function(t){t.start="",t.move="",t.end="",t.stop="",t.interacting=""}(Le||($e._ProxyMethods=Le={}));var Fe=0,je=function(){function t(e){var n=this,i=e.pointerType,o=e.scopeFire;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ne(this,"interactable",null),Ne(this,"element",null),Ne(this,"rect",void 0),Ne(this,"_rects",void 0),Ne(this,"edges",void 0),Ne(this,"_scopeFire",void 0),Ne(this,"prepared",{name:null,axis:null,edges:null}),Ne(this,"pointerType",void 0),Ne(this,"pointers",[]),Ne(this,"downEvent",null),Ne(this,"downPointer",{}),Ne(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Ne(this,"prevEvent",null),Ne(this,"pointerIsDown",!1),Ne(this,"pointerWasMoved",!1),Ne(this,"_interacting",!1),Ne(this,"_ending",!1),Ne(this,"_stopped",!0),Ne(this,"_proxy",null),Ne(this,"simulation",null),Ne(this,"doMove",(0,$t.warnOnce)((function(t){this.move(t)}),"The interaction.doMove() method has been renamed to interaction.move()")),Ne(this,"coords",{start:j.newCoords(),prev:j.newCoords(),cur:j.newCoords(),delta:j.newCoords(),velocity:j.newCoords()}),Ne(this,"_id",Fe++),this._scopeFire=o,this.pointerType=i;var r=this;this._proxy={};var a=function(t){Object.defineProperty(n._proxy,t,{get:function(){return r[t]}})};for(var s in Re)a(s);var l=function(t){Object.defineProperty(n._proxy,t,{value:function(){return r[t].apply(r,arguments)}})};for(var c in Le)l(c);this._scopeFire("interactions:new",{interaction:this})}var e;return(e=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(t,e,n){var i=this.updatePointer(t,e,n,!0),o=this.pointers[i];this._scopeFire("interactions:down",{pointer:t,event:e,eventTarget:n,pointerIndex:i,pointerInfo:o,type:"down",interaction:this})}},{key:"start",value:function(t,e,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===t.name?2:1)||!e.options[t.name].enabled)&&((0,$t.copyAction)(this.prepared,t),this.interactable=e,this.element=n,this.rect=e.getRect(n),this.edges=this.prepared.edges?(0,I.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,e,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,e,n,!1);var i,o,r=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(i=this.coords.cur.client.x-this.coords.start.client.x,o=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,L.default)(i,o)>this.pointerMoveTolerance);var a=this.getPointerIndex(t),s={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:e,type:"move",eventTarget:n,dx:i,dy:o,duplicate:r,interaction:this};r||j.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",s),r||this.simulation||(this.interacting()&&(s.type=null,this.move(s)),this.pointerWasMoved&&j.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||j.setZeroCoords(this.coords.delta),(t=(0,I.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}},{key:"pointerUp",value:function(t,e,n,i){var o=this.getPointerIndex(t);-1===o&&(o=this.updatePointer(t,e,n,!1));var r=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire("interactions:".concat(r),{pointer:t,pointerIndex:o,pointerInfo:this.pointers[o],event:e,eventTarget:n,type:r,curEventTarget:i,interaction:this}),this.simulation||this.end(e),this.removePointer(t,e)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var e;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,!0===e&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var e=j.getPointerId(t);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:K.findIndex(this.pointers,(function(t){return t.id===e}))}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,e,n,i){var o=j.getPointerId(t),r=this.getPointerIndex(t),a=this.pointers[r];return i=!1!==i&&(i||/(down|start)$/i.test(e.type)),a?a.pointer=t:(a=new Ae.PointerInfo(o,t,e,null,null),r=this.pointers.length,this.pointers.push(a)),j.setCoords(this.coords.cur,this.pointers.map((function(t){return t.pointer})),this._now()),j.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),i&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=n,j.pointerExtend(this.downPointer,t),this.interacting()||(j.copyCoords(this.coords.start,this.coords.cur),j.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=!1)),this._updateLatestPointer(t,e,n),this._scopeFire("interactions:update-pointer",{pointer:t,event:e,eventTarget:n,down:i,pointerInfo:a,pointerIndex:r,interaction:this}),r}},{key:"removePointer",value:function(t,e){var n=this.getPointerIndex(t);if(-1!==n){var i=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:t,event:e,eventTarget:null,pointerIndex:n,pointerInfo:i,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(t,e,n){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,e,n,i){return new Ce.InteractEvent(this,t,this.prepared.name,e,this.element,n,i)}},{key:"_fireEvent",value:function(t){this.interactable.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var e=t.event,n=t.phase,i=t.preEnd,o=t.type,r=this.rect;if(r&&"move"===n&&(D.addEdges(this.edges,r,this.coords.delta[this.interactable.options.deltaSource]),r.width=r.right-r.left,r.height=r.bottom-r.top),!1===this._scopeFire("interactions:before-action-".concat(n),t))return!1;var a=t.iEvent=this._createPreparedEvent(e,n,i,o);return this._scopeFire("interactions:action-".concat(n),t),"start"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-".concat(n),t),!0}},{key:"_now",value:function(){return Date.now()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();$e.Interaction=je;var He=je;$e.default=He;var We={};function ze(t){t.pointerIsDown&&(Xe(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}function Ue(t){Ye(t.interaction)}function Ye(t){if(!function(t){return!(!t.offset.pending.x&&!t.offset.pending.y)}(t))return!1;var e=t.offset.pending;return Xe(t.coords.cur,e),Xe(t.coords.delta,e),D.addEdges(t.edges,t.rect,e),e.x=0,e.y=0,!0}function Ve(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function Xe(t,e){var n=t.page,i=t.client,o=e.x,r=e.y;n.x+=o,n.y+=r,i.x+=o,i.y+=r}Object.defineProperty(We,"__esModule",{value:!0}),We.addTotal=ze,We.applyPending=Ye,We.default=void 0,$e._ProxyMethods.offsetBy="";var qe={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(t){t.Interaction.prototype.offsetBy=Ve},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return ze(t.interaction)},"interactions:before-action-start":Ue,"interactions:before-action-move":Ue,"interactions:before-action-end":function(t){var e=t.interaction;if(Ye(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}};We.default=qe;var Ge={};function Ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=Ge.InertiaState=void 0;var Qe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ke(this,"active",!1),Ke(this,"isModified",!1),Ke(this,"smoothEnd",!1),Ke(this,"allowResume",!1),Ke(this,"modification",void 0),Ke(this,"modifierCount",0),Ke(this,"modifierArg",void 0),Ke(this,"startCoords",void 0),Ke(this,"t0",0),Ke(this,"v0",0),Ke(this,"te",0),Ke(this,"targetOffset",void 0),Ke(this,"modifiedOffset",void 0),Ke(this,"currentOffset",void 0),Ke(this,"lambda_v0",0),Ke(this,"one_ve_v0",0),Ke(this,"timeout",void 0),Ke(this,"interaction",void 0),this.interaction=e}var e;return(e=[{key:"start",value:function(t){var e=this.interaction,n=Je(e);if(!n||!n.enabled)return!1;var i=e.coords.velocity.client,o=(0,L.default)(i.x,i.y),r=this.modification||(this.modification=new fe.default(e));if(r.copyFrom(e.modification),this.t0=e._now(),this.allowResume=n.allowResume,this.v0=o,this.currentOffset={x:0,y:0},this.startCoords=e.coords.cur.page,this.modifierArg=r.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-e.coords.cur.timeStamp<50&&o>n.minSpeed&&o>n.endSpeed)this.startInertia();else{if(r.result=r.setAll(this.modifierArg),!r.result.changed)return!1;this.startSmoothEnd()}return e.modification.result.rect=null,e.offsetBy(this.targetOffset),e._doPhase({interaction:e,event:t,phase:"inertiastart"}),e.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),e.modification.result.rect=null,this.active=!0,e.simulation=this,!0}},{key:"startInertia",value:function(){var t=this,e=this.interaction.coords.velocity.client,n=Je(this.interaction),i=n.resistance,o=-Math.log(n.endSpeed/this.v0)/i;this.targetOffset={x:(e.x-o)/i,y:(e.y-o)/i},this.te=o,this.lambda_v0=i/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var r=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},r.result=r.setAll(a),r.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+r.result.delta.x,y:this.targetOffset.y+r.result.delta.y}),this.onNextFrame((function(){return t.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return t.smoothEndTick()}))}},{key:"onNextFrame",value:function(t){var e=this;this.timeout=Et.default.request((function(){e.active&&t()}))}},{key:"inertiaTick",value:function(){var t,e,n,i,o,r=this,a=this.interaction,s=Je(a).resistance,l=(a._now()-this.t0)/1e3;if(l<this.te){var c,u=1-(Math.exp(-s*l)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=this.targetOffset.x,e=this.targetOffset.y,n=this.modifiedOffset.x,i=this.modifiedOffset.y,c={x:Ze(o=u,0,t,n),y:Ze(o,0,e,i)}):c={x:this.targetOffset.x*u,y:this.targetOffset.y*u};var d={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=d.x,this.currentOffset.y+=d.y,a.offsetBy(d),a.move(),this.onNextFrame((function(){return r.inertiaTick()}))}else a.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var t=this,e=this.interaction,n=e._now()-this.t0,i=Je(e).smoothEndDuration;if(n<i){var o={x:tn(n,0,this.targetOffset.x,i),y:tn(n,0,this.targetOffset.y,i)},r={x:o.x-this.currentOffset.x,y:o.y-this.currentOffset.y};this.currentOffset.x+=r.x,this.currentOffset.y+=r.y,e.offsetBy(r),e.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return t.smoothEndTick()}))}else e.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(t){var e=t.pointer,n=t.event,i=t.eventTarget,o=this.interaction;o.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),o.updatePointer(e,n,i,!0),o._doPhase({interaction:o,event:n,phase:"resume"}),(0,j.copyCoords)(o.coords.prev,o.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Et.default.cancel(this.timeout)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function Je(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}function Ze(t,e,n,i){var o=1-t;return o*o*e+2*o*t*n+t*t*i}function tn(t,e,n,i){return-n*(t/=i)*(t-2)+e}Ge.InertiaState=Qe;var en={id:"inertia",before:["modifiers","actions"],install:function(t){var e=t.defaults;t.usePlugin(We.default),t.usePlugin(we.default),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new Qe(e)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null},"interactions:down":function(t){var e=t.interaction,n=t.eventTarget,i=e.inertia;if(i.active)for(var o=n;r.default.element(o);){if(o===e.element){i.resume(t);break}o=k.parentNode(o)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":we.addEventModifiers,"interactions:action-inertiastart":we.addEventModifiers,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};Ge.default=en;var nn={};function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rn(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t.immediatePropagationStopped)break;i(t)}}Object.defineProperty(nn,"__esModule",{value:!0}),nn.Eventable=void 0;var an=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),on(this,"options",void 0),on(this,"types",{}),on(this,"propagationStopped",!1),on(this,"immediatePropagationStopped",!1),on(this,"global",void 0),this.options=(0,I.default)({},e||{})}var e;return(e=[{key:"fire",value:function(t){var e,n=this.global;(e=this.types[t.type])&&rn(t,e),!t.propagationStopped&&n&&(e=n[t.type])&&rn(t,e)}},{key:"on",value:function(t,e){var n=(0,B.default)(t,e);for(t in n)this.types[t]=K.merge(this.types[t]||[],n[t])}},{key:"off",value:function(t,e){var n=(0,B.default)(t,e);for(t in n){var i=this.types[t];if(i&&i.length)for(var o=0;o<n[t].length;o++){var r=n[t][o],a=i.indexOf(r);-1!==a&&i.splice(a,1)}}}},{key:"getRect",value:function(t){return null}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();nn.Eventable=an;var sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.default=function(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(0===t.indexOf(n)&&t.substr(n.length)in e.phases)return!0;return!1};var ln={};Object.defineProperty(ln,"__esModule",{value:!0}),ln.createInteractStatic=function(t){var e=function e(n,i){var o=t.interactables.get(n,i);return o||((o=t.interactables.new(n,i)).events.global=e.globalEvents),o};return e.getPointerAverage=j.pointerAverage,e.getTouchBBox=j.touchBBox,e.getTouchDistance=j.touchDistance,e.getTouchAngle=j.touchAngle,e.getElementRect=k.getElementRect,e.getElementClientRect=k.getElementClientRect,e.matchesSelector=k.matchesSelector,e.closest=k.closest,e.globalEvents={},e.version="1.10.11",e.scope=t,e.use=function(t,e){return this.scope.usePlugin(t,e),this},e.isSet=function(t,e){return!!this.scope.interactables.get(t,e&&e.context)},e.on=(0,$t.warnOnce)((function(t,e,n){if(r.default.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),r.default.array(t)){for(var i=0;i<t.length;i++){var o=t[i];this.on(o,e,n)}return this}if(r.default.object(t)){for(var a in t)this.on(a,t[a],e);return this}return(0,sn.default)(t,this.scope.actions)?this.globalEvents[t]?this.globalEvents[t].push(e):this.globalEvents[t]=[e]:this.scope.events.add(this.scope.document,t,e,{options:n}),this}),"The interact.on() method is being deprecated"),e.off=(0,$t.warnOnce)((function(t,e,n){if(r.default.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),r.default.array(t)){for(var i=0;i<t.length;i++){var o=t[i];this.off(o,e,n)}return this}if(r.default.object(t)){for(var a in t)this.off(a,t[a],e);return this}var s;return(0,sn.default)(t,this.scope.actions)?t in this.globalEvents&&-1!==(s=this.globalEvents[t].indexOf(e))&&this.globalEvents[t].splice(s,1):this.scope.events.remove(this.scope.document,t,e,n),this}),"The interact.off() method is being deprecated"),e.debug=function(){return this.scope},e.supportsTouch=function(){return y.default.supportsTouch},e.supportsPointerEvent=function(){return y.default.supportsPointerEvent},e.stop=function(){for(var t=0;t<this.scope.interactions.list.length;t++)this.scope.interactions.list[t].stop();return this},e.pointerMoveTolerance=function(t){return r.default.number(t)?(this.scope.interactions.pointerMoveTolerance=t,this):this.scope.interactions.pointerMoveTolerance},e.addDocument=function(t,e){this.scope.addDocument(t,e)},e.removeDocument=function(t){this.scope.removeDocument(t)},e};var cn={};function un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(cn,"__esModule",{value:!0}),cn.Interactable=void 0;var dn=function(){function t(n,i,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),un(this,"options",void 0),un(this,"_actions",void 0),un(this,"target",void 0),un(this,"events",new nn.Eventable),un(this,"_context",void 0),un(this,"_win",void 0),un(this,"_doc",void 0),un(this,"_scopeEvents",void 0),un(this,"_rectChecker",void 0),this._actions=i.actions,this.target=n,this._context=i.context||o,this._win=(0,e.getWindow)((0,k.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=r,this.set(i)}var n;return(n=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(t,e){return r.default.func(e.onstart)&&this.on("".concat(t,"start"),e.onstart),r.default.func(e.onmove)&&this.on("".concat(t,"move"),e.onmove),r.default.func(e.onend)&&this.on("".concat(t,"end"),e.onend),r.default.func(e.oninertiastart)&&this.on("".concat(t,"inertiastart"),e.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,e,n){(r.default.array(e)||r.default.object(e))&&this.off(t,e),(r.default.array(n)||r.default.object(n))&&this.on(t,n)}},{key:"setPerAction",value:function(t,e){var n=this._defaults;for(var i in e){var o=i,a=this.options[t],s=e[o];"listeners"===o&&this.updatePerActionListeners(t,a.listeners,s),r.default.array(s)?a[o]=K.from(s):r.default.plainObject(s)?(a[o]=(0,I.default)(a[o]||{},(0,pe.default)(s)),r.default.object(n.perAction[o])&&"enabled"in n.perAction[o]&&(a[o].enabled=!1!==s.enabled)):r.default.bool(s)&&r.default.object(n.perAction[o])?a[o].enabled=s:a[o]=s}}},{key:"getRect",value:function(t){return t=t||(r.default.element(this.target)?this.target:null),r.default.string(this.target)&&(t=t||this._context.querySelector(this.target)),(0,k.getElementRect)(t)}},{key:"rectChecker",value:function(t){var e=this;return r.default.func(t)?(this._rectChecker=t,this.getRect=function(t){var n=(0,I.default)({},e._rectChecker(t));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===t?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(t,e){if((0,k.trySelector)(e)||r.default.object(e)){for(var n in this.options[t]=e,this._actions.map)this.options[n][t]=e;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||(0,k.nodeContains)(this._context,t)}},{key:"testIgnoreAllow",value:function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)}},{key:"testAllow",value:function(t,e,n){return!t||!!r.default.element(n)&&(r.default.string(t)?(0,k.matchesUpTo)(n,t,e):!!r.default.element(t)&&(0,k.nodeContains)(t,n))}},{key:"testIgnore",value:function(t,e,n){return!(!t||!r.default.element(n))&&(r.default.string(t)?(0,k.matchesUpTo)(n,t,e):!!r.default.element(t)&&(0,k.nodeContains)(t,n))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,e,n,i){r.default.object(e)&&!r.default.array(e)&&(i=n,n=null);var o="on"===t?"add":"remove",a=(0,B.default)(e,n);for(var s in a){"wheel"===s&&(s=y.default.wheelEvent);for(var l=0;l<a[s].length;l++){var c=a[s][l];(0,sn.default)(s,this._actions)?this.events[t](s,c):r.default.string(this.target)?this._scopeEvents["".concat(o,"Delegate")](this.target,this._context,s,c,i):this._scopeEvents[o](this.target,s,c,i)}}return this}},{key:"on",value:function(t,e,n){return this._onOff("on",t,e,n)}},{key:"off",value:function(t,e,n){return this._onOff("off",t,e,n)}},{key:"set",value:function(t){var e=this._defaults;for(var n in r.default.object(t)||(t={}),this.options=(0,pe.default)(e.base),this._actions.methodDict){var i=n,o=this._actions.methodDict[i];this.options[i]={},this.setPerAction(i,(0,I.default)((0,I.default)({},e.perAction),e.actions[i])),this[o](t[i])}for(var a in t)r.default.func(this[a])&&this[a](t[a]);return this}},{key:"unset",value:function(){if(r.default.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var e=this._scopeEvents.delegatedEvents[t],n=e.length-1;n>=0;n--){var i=e[n],o=i.selector,a=i.context,s=i.listeners;o===this.target&&a===this._context&&e.splice(n,1);for(var l=s.length-1;l>=0;l--)this._scopeEvents.removeDelegate(this.target,this._context,t,s[l][0],s[l][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,n),t}();cn.Interactable=dn;var hn={};function pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(hn,"__esModule",{value:!0}),hn.InteractableSet=void 0;var fn=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pn(this,"list",[]),pn(this,"selectorMap",{}),pn(this,"scope",void 0),this.scope=e,e.addListeners({"interactable:unset":function(t){var e=t.interactable,i=e.target,o=e._context,a=r.default.string(i)?n.selectorMap[i]:i[n.scope.id],s=K.findIndex(a,(function(t){return t.context===o}));a[s]&&(a[s].context=null,a[s].interactable=null),a.splice(s,1)}})}var e;return(e=[{key:"new",value:function(t,e){e=(0,I.default)(e||{},{actions:this.scope.actions});var n=new this.scope.Interactable(t,e,this.scope.document,this.scope.events),i={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),r.default.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(i)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:t,options:e,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(t,e){var n=e&&e.context||this.scope.document,i=r.default.string(t),o=i?this.selectorMap[t]:t[this.scope.id];if(!o)return null;var a=K.find(o,(function(e){return e.context===n&&(i||e.interactable.inContext(t))}));return a&&a.interactable}},{key:"forEachMatch",value:function(t,e){for(var n=0;n<this.list.length;n++){var i=this.list[n],o=void 0;if((r.default.string(i.target)?r.default.element(t)&&k.matchesSelector(t,i.target):t===i.target)&&i.inContext(t)&&(o=e(i)),void 0!==o)return o}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();hn.InteractableSet=fn;var gn={};function mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _n(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(gn,"__esModule",{value:!0}),gn.default=void 0;var yn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),mn(this,"currentTarget",void 0),mn(this,"originalEvent",void 0),mn(this,"type",void 0),this.originalEvent=e,(0,$.default)(this,e)}var e;return(e=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function bn(t){if(!r.default.object(t))return{capture:!!t,passive:!1};var e=(0,I.default)({},t);return e.capture=!!t.capture,e.passive=!!t.passive,e}var wn={id:"events",install:function(t){var e,n=[],i={},o=[],a={add:s,remove:l,addDelegate:function(t,e,n,r,a){var l=bn(a);if(!i[n]){i[n]=[];for(var d=0;d<o.length;d++){var h=o[d];s(h,n,c),s(h,n,u,!0)}}var p=i[n],f=K.find(p,(function(n){return n.selector===t&&n.context===e}));f||(f={selector:t,context:e,listeners:[]},p.push(f)),f.listeners.push([r,l])},removeDelegate:function(t,e,n,o,r){var a,s=bn(r),d=i[n],h=!1;if(d)for(a=d.length-1;a>=0;a--){var p=d[a];if(p.selector===t&&p.context===e){for(var f=p.listeners,g=f.length-1;g>=0;g--){var m=vn(f[g],2),v=m[0],_=m[1],y=_.capture,b=_.passive;if(v===o&&y===s.capture&&b===s.passive){f.splice(g,1),f.length||(d.splice(a,1),l(e,n,c),l(e,n,u,!0)),h=!0;break}}if(h)break}}},delegateListener:c,delegateUseCapture:u,delegatedEvents:i,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};function s(t,e,i,o){var r=bn(o),s=K.find(n,(function(e){return e.eventTarget===t}));s||(s={eventTarget:t,events:{}},n.push(s)),s.events[e]||(s.events[e]=[]),t.addEventListener&&!K.contains(s.events[e],i)&&(t.addEventListener(e,i,a.supportsOptions?r:r.capture),s.events[e].push(i))}function l(t,e,i,o){var r=bn(o),s=K.findIndex(n,(function(e){return e.eventTarget===t})),c=n[s];if(c&&c.events)if("all"!==e){var u=!1,d=c.events[e];if(d){if("all"===i){for(var h=d.length-1;h>=0;h--)l(t,e,d[h],r);return}for(var p=0;p<d.length;p++)if(d[p]===i){t.removeEventListener(e,i,a.supportsOptions?r:r.capture),d.splice(p,1),0===d.length&&(delete c.events[e],u=!0);break}}u&&!Object.keys(c.events).length&&n.splice(s,1)}else for(e in c.events)c.events.hasOwnProperty(e)&&l(t,e,"all")}function c(t,e){for(var n=bn(e),o=new yn(t),a=i[t.type],s=vn(j.getEventTargets(t),1)[0],l=s;r.default.element(l);){for(var c=0;c<a.length;c++){var u=a[c],d=u.selector,h=u.context;if(k.matchesSelector(l,d)&&k.nodeContains(h,s)&&k.nodeContains(h,l)){var p=u.listeners;o.currentTarget=l;for(var f=0;f<p.length;f++){var g=vn(p[f],2),m=g[0],v=g[1],_=v.capture,y=v.passive;_===n.capture&&y===n.passive&&m(o)}}}l=k.parentNode(l)}}function u(t){return c(t,!0)}return null==(e=t.document)||e.createElement("div").addEventListener("test",null,{get capture(){return a.supportsOptions=!0},get passive(){return a.supportsPassive=!0}}),t.events=a,a}};gn.default=wn;var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.default=void 0;var xn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0;e<xn.methodOrder.length;e++){var n;n=xn.methodOrder[e];var i=xn[n](t);if(i)return i}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,i=t.eventTarget,o=t.scope;if(!/down|start/i.test(n))return null;for(var r=0;r<o.interactions.list.length;r++){var a=o.interactions.list[r],s=i;if(a.simulation&&a.simulation.allowResume&&a.pointerType===e)for(;s;){if(s===a.element)return a;s=k.parentNode(s)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,i=t.pointerType,o=t.eventType,r=t.scope;if("mouse"!==i&&"pen"!==i)return null;for(var a=0;a<r.interactions.list.length;a++){var s=r.interactions.list[a];if(s.pointerType===i){if(s.simulation&&!Sn(s,n))continue;if(s.interacting())return s;e||(e=s)}}if(e)return e;for(var l=0;l<r.interactions.list.length;l++){var c=r.interactions.list[l];if(!(c.pointerType!==i||/down/i.test(o)&&c.simulation))return c}return null},hasPointer:function(t){for(var e=t.pointerId,n=t.scope,i=0;i<n.interactions.list.length;i++){var o=n.interactions.list[i];if(Sn(o,e))return o}return null},idle:function(t){for(var e=t.pointerType,n=t.scope,i=0;i<n.interactions.list.length;i++){var o=n.interactions.list[i];if(1===o.pointers.length){var r=o.interactable;if(r&&(!r.options.gesture||!r.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&e===o.pointerType)return o}return null}};function Sn(t,e){return t.pointers.some((function(t){return t.id===e}))}var Cn=xn;kn.default=Cn;var Tn={};function En(t){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return In(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function On(t,e){return(On=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mn(t,e){return!e||"object"!==En(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function An(t){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.default=void 0;var Bn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Rn(t,e){return function(n){var i=e.interactions.list,o=j.getPointerType(n),r=Pn(j.getEventTargets(n),2),a=r[0],s=r[1],l=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var c=0;c<n.changedTouches.length;c++){var u=n.changedTouches[c],d={pointer:u,pointerId:j.getPointerId(u),pointerType:o,eventType:n.type,eventTarget:a,curEventTarget:s,scope:e},h=Ln(d);l.push([d.pointer,d.eventTarget,d.curEventTarget,h])}}else{var p=!1;if(!y.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var f=0;f<i.length&&!p;f++)p="mouse"!==i[f].pointerType&&i[f].pointerIsDown;p=p||e.now()-e.prevTouchTime<500||0===n.timeStamp}if(!p){var g={pointer:n,pointerId:j.getPointerId(n),pointerType:o,eventType:n.type,curEventTarget:s,eventTarget:a,scope:e},m=Ln(g);l.push([g.pointer,g.eventTarget,g.curEventTarget,m])}}for(var v=0;v<l.length;v++){var _=Pn(l[v],4),b=_[0],w=_[1],k=_[2];_[3][t](b,n,w,k)}}}function Ln(t){var e=t.pointerType,n=t.scope,i={interaction:kn.default.search(t),searchDetails:t};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:e})}function $n(t,e){var n=t.doc,i=t.scope,o=t.options,r=i.interactions.docEvents,a=i.events,s=a[e];for(var l in i.browser.isIOS&&!o.events&&(o.events={passive:!1}),a.delegatedEvents)s(n,l,a.delegateListener),s(n,l,a.delegateUseCapture,!0);for(var c=o&&o.events,u=0;u<r.length;u++){var d=r[u];s(n,d.type,d.listener,c)}}var Nn={id:"core/interactions",install:function(t){for(var e={},n=0;n<Bn.length;n++){var i=Bn[n];e[i]=Rn(i,t)}var o,r=y.default.pEventTypes;function a(){for(var e=0;e<t.interactions.list.length;e++){var n=t.interactions.list[e];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var i=function(){var e=n.pointers[o];t.documents.some((function(t){var n=t.doc;return(0,k.nodeContains)(n,e.downTarget)}))||n.removePointer(e.pointer,e.event)},o=0;o<n.pointers.length;o++)i()}}(o=g.default.PointerEvent?[{type:r.down,listener:a},{type:r.down,listener:e.pointerDown},{type:r.move,listener:e.pointerMove},{type:r.up,listener:e.pointerUp},{type:r.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:a},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(e){for(var n=0;n<t.interactions.list.length;n++)t.interactions.list[n].documentBlur(e)}}),t.prevTouchTime=0,t.Interaction=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&On(t,e)}(a,e);var n,i,o,r=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=An(i);if(o){var n=An(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Mn(this,t)});function a(){return Dn(this,a),r.apply(this,arguments)}return(n=[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(e){t.interactions.pointerMoveTolerance=e}},{key:"_now",value:function(){return t.now()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(a.prototype,n),a}($e.default),t.interactions={list:[],new:function(e){e.scopeFire=function(e,n){return t.fire(e,n)};var n=new t.Interaction(e);return t.interactions.list.push(n),n},listeners:e,docEvents:o,pointerMoveTolerance:1},t.usePlugin(re.default)},listeners:{"scope:add-document":function(t){return $n(t,"add")},"scope:remove-document":function(t){return $n(t,"remove")},"interactable:unset":function(t,e){for(var n=t.interactable,i=e.interactions.list.length-1;i>=0;i--){var o=e.interactions.list[i];o.interactable===n&&(o.stop(),e.fire("interactions:destroy",{interaction:o}),o.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(i,1))}}},onDocSignal:$n,doOnInteractions:Rn,methodNames:Bn};Tn.default=Nn;var Fn={};function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hn(t,e,n){return(Hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Un(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Wn(t,e){return(Wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zn(t,e){return!e||"object"!==jn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Un(t){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Xn(t,e,n){return e&&Vn(t.prototype,e),n&&Vn(t,n),t}function qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.initScope=Kn,Fn.Scope=void 0;var Gn=function(){function t(){var e=this;Yn(this,t),qn(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),qn(this,"isInitialized",!1),qn(this,"listenerMaps",[]),qn(this,"browser",y.default),qn(this,"defaults",(0,pe.default)(Se.defaults)),qn(this,"Eventable",nn.Eventable),qn(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),qn(this,"interactStatic",(0,ln.createInteractStatic)(this)),qn(this,"InteractEvent",Ce.InteractEvent),qn(this,"Interactable",void 0),qn(this,"interactables",new hn.InteractableSet(this)),qn(this,"_win",void 0),qn(this,"document",void 0),qn(this,"window",void 0),qn(this,"documents",[]),qn(this,"_plugins",{list:[],map:{}}),qn(this,"onWindowUnload",(function(t){return e.removeDocument(t.target)}));var n=this;this.Interactable=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wn(t,e)}(r,t);var e,i,o=(e=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Un(e);if(i){var o=Un(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return zn(this,t)});function r(){return Yn(this,r),o.apply(this,arguments)}return Xn(r,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(t){return Hn(Un(r.prototype),"set",this).call(this,t),n.fire("interactable:set",{options:t,interactable:this}),this}},{key:"unset",value:function(){Hn(Un(r.prototype),"unset",this).call(this),n.interactables.list.splice(n.interactables.list.indexOf(this),1),n.fire("interactable:unset",{interactable:this})}}]),r}(cn.Interactable)}return Xn(t,[{key:"addListeners",value:function(t,e){this.listenerMaps.push({id:e,map:t})}},{key:"fire",value:function(t,e){for(var n=0;n<this.listenerMaps.length;n++){var i=this.listenerMaps[n].map[t];if(i&&!1===i(e,this,t))return!1}}},{key:"init",value:function(t){return this.isInitialized?this:Kn(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||-1!==this._plugins.list.indexOf(t)}},{key:"usePlugin",value:function(t,e){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){for(var n=0,i=this.listenerMaps.length,o=t.before.reduce((function(t,e){return t[e]=!0,t[Qn(e)]=!0,t}),{});n<i;n++){var r=this.listenerMaps[n].id;if(o[r]||o[Qn(r)])break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,n){if(-1!==this.getDocIndex(t))return!1;var i=e.getWindow(t);n=n?(0,I.default)({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:i,scope:this,options:n})}},{key:"removeDocument",value:function(t){var n=this.getDocIndex(t),i=e.getWindow(t),o=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:i,scope:this,options:o})}},{key:"getDocIndex",value:function(t){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return-1}},{key:"getDocOptions",value:function(t){var e=this.getDocIndex(t);return-1===e?null:this.documents[e].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();function Kn(t,n){return t.isInitialized=!0,r.default.window(n)&&e.init(n),g.default.init(n),y.default.init(n),Et.default.init(n),t.window=n,t.document=n.document,t.usePlugin(Tn.default),t.usePlugin(gn.default),t}function Qn(t){return t&&t.replace(/\/.*$/,"")}Fn.Scope=Gn;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.default=void 0;var Zn=new Fn.Scope,ti=Zn.interactStatic;Jn.default=ti;var ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0;Zn.init(ei);var ni={};Object.defineProperty(ni,"__esModule",{value:!0}),ni.default=void 0,ni.default=function(){};var ii={};Object.defineProperty(ii,"__esModule",{value:!0}),ii.default=void 0,ii.default=function(){};var oi={};function ri(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ai(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ai(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ai(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(oi,"__esModule",{value:!0}),oi.default=void 0,oi.default=function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(e){var n=ri(e,2),i=n[0],o=n[1];return i in t||o in t})),n=function(n,i){for(var o=t.range,r=t.limits,a=void 0===r?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:r,s=t.offset,l=void 0===s?{x:0,y:0}:s,c={range:o,grid:t,x:null,y:null},u=0;u<e.length;u++){var d=ri(e[u],2),h=d[0],p=d[1],f=Math.round((n-l.x)/t[h]),g=Math.round((i-l.y)/t[p]);c[h]=Math.max(a.left,Math.min(a.right,f*t[h]+l.x)),c[p]=Math.max(a.top,Math.min(a.bottom,g*t[p]+l.y))}return c};return n.grid=t,n.coordFields=e,n};var si={};Object.defineProperty(si,"__esModule",{value:!0}),Object.defineProperty(si,"edgeTarget",{enumerable:!0,get:function(){return ni.default}}),Object.defineProperty(si,"elements",{enumerable:!0,get:function(){return ii.default}}),Object.defineProperty(si,"grid",{enumerable:!0,get:function(){return oi.default}});var li={};Object.defineProperty(li,"__esModule",{value:!0}),li.default=void 0;var ci={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=(0,I.default)(e.snappers||{},si),e.createSnapGrid=e.snappers.grid}};li.default=ci;var ui={};function di(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?di(Object(n),!0).forEach((function(e){pi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(ui,"__esModule",{value:!0}),ui.aspectRatio=ui.default=void 0;var fi={start:function(t){var e=t.state,n=t.rect,i=t.edges,o=t.pageCoords,r=e.options.ratio,a=e.options,s=a.equalDelta,l=a.modifiers;"preserve"===r&&(r=n.width/n.height),e.startCoords=(0,I.default)({},o),e.startRect=(0,I.default)({},n),e.ratio=r,e.equalDelta=s;var c=e.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(e.xIsPrimaryAxis=!(!i.left&&!i.right),e.equalDelta)e.edgeSign=(c.left?1:-1)*(c.top?1:-1);else{var u=e.xIsPrimaryAxis?c.top:c.left;e.edgeSign=u?-1:1}if((0,I.default)(t.edges,c),l&&l.length){var d=new fe.default(t.interaction);d.copyFrom(t.interaction.modification),d.prepareStates(l),e.subModification=d,d.startAll(hi({},t))}},set:function(t){var e=t.state,n=t.rect,i=t.coords,o=(0,I.default)({},i),r=e.equalDelta?gi:mi;if(r(e,e.xIsPrimaryAxis,i,n),!e.subModification)return null;var a=(0,I.default)({},n);(0,D.addEdges)(e.linkedEdges,a,{x:i.x-o.x,y:i.y-o.y});var s=e.subModification.setAll(hi(hi({},t),{},{rect:a,edges:e.linkedEdges,pageCoords:i,prevCoords:i,prevRect:a})),l=s.delta;return s.changed&&(r(e,Math.abs(l.x)>Math.abs(l.y),s.coords,s.rect),(0,I.default)(i,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function gi(t,e,n){var i=t.startCoords,o=t.edgeSign;e?n.y=i.y+(n.x-i.x)*o:n.x=i.x+(n.y-i.y)*o}function mi(t,e,n,i){var o=t.startRect,r=t.startCoords,a=t.ratio,s=t.edgeSign;if(e){var l=i.width/a;n.y=r.y+(l-o.height)*s}else{var c=i.height*a;n.x=r.x+(c-o.width)*s}}ui.aspectRatio=fi;var vi=(0,we.makeModifier)(fi,"aspectRatio");ui.default=vi;var _i={};Object.defineProperty(_i,"__esModule",{value:!0}),_i.default=void 0;var yi=function(){};yi._defaults={};var bi=yi;_i.default=bi;var wi={};Object.defineProperty(wi,"__esModule",{value:!0}),Object.defineProperty(wi,"default",{enumerable:!0,get:function(){return _i.default}});var ki={};function xi(t,e,n){return r.default.func(t)?D.resolveRectLike(t,e.interactable,e.element,[n.x,n.y,e]):D.resolveRectLike(t,e.interactable,e.element)}Object.defineProperty(ki,"__esModule",{value:!0}),ki.getRestrictionRect=xi,ki.restrict=ki.default=void 0;var Si={start:function(t){var e=t.rect,n=t.startOffset,i=t.state,o=t.interaction,r=t.pageCoords,a=i.options,s=a.elementRect,l=(0,I.default)({left:0,top:0,right:0,bottom:0},a.offset||{});if(e&&s){var c=xi(a.restriction,o,r);if(c){var u=c.right-c.left-e.width,d=c.bottom-c.top-e.height;u<0&&(l.left+=u,l.right+=u),d<0&&(l.top+=d,l.bottom+=d)}l.left+=n.left-e.width*s.left,l.top+=n.top-e.height*s.top,l.right+=n.right-e.width*(1-s.right),l.bottom+=n.bottom-e.height*(1-s.bottom)}i.offset=l},set:function(t){var e=t.coords,n=t.interaction,i=t.state,o=i.options,r=i.offset,a=xi(o.restriction,n,e);if(a){var s=D.xywhToTlbr(a);e.x=Math.max(Math.min(s.right-r.right,e.x),s.left+r.left),e.y=Math.max(Math.min(s.bottom-r.bottom,e.y),s.top+r.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};ki.restrict=Si;var Ci=(0,we.makeModifier)(Si,"restrict");ki.default=Ci;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.restrictEdges=Ti.default=void 0;var Ei={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Pi={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Ii(t,e){for(var n=["top","left","bottom","right"],i=0;i<n.length;i++){var o=n[i];o in t||(t[o]=e[o])}return t}var Di={noInner:Ei,noOuter:Pi,start:function(t){var e,n=t.interaction,i=t.startOffset,o=t.state,r=o.options;if(r){var a=(0,ki.getRestrictionRect)(r.offset,n,n.coords.start.page);e=D.rectToXY(a)}e=e||{x:0,y:0},o.offset={top:e.y+i.top,left:e.x+i.left,bottom:e.y-i.bottom,right:e.x-i.right}},set:function(t){var e=t.coords,n=t.edges,i=t.interaction,o=t.state,r=o.offset,a=o.options;if(n){var s=(0,I.default)({},e),l=(0,ki.getRestrictionRect)(a.inner,i,s)||{},c=(0,ki.getRestrictionRect)(a.outer,i,s)||{};Ii(l,Ei),Ii(c,Pi),n.top?e.y=Math.min(Math.max(c.top+r.top,s.y),l.top+r.top):n.bottom&&(e.y=Math.max(Math.min(c.bottom+r.bottom,s.y),l.bottom+r.bottom)),n.left?e.x=Math.min(Math.max(c.left+r.left,s.x),l.left+r.left):n.right&&(e.x=Math.max(Math.min(c.right+r.right,s.x),l.right+r.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Ti.restrictEdges=Di;var Oi=(0,we.makeModifier)(Di,"restrictEdges");Ti.default=Oi;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.restrictRect=Mi.default=void 0;var Ai=(0,I.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},ki.restrict.defaults),Bi={start:ki.restrict.start,set:ki.restrict.set,defaults:Ai};Mi.restrictRect=Bi;var Ri=(0,we.makeModifier)(Bi,"restrictRect");Mi.default=Ri;var Li={};Object.defineProperty(Li,"__esModule",{value:!0}),Li.restrictSize=Li.default=void 0;var $i={width:-1/0,height:-1/0},Ni={width:1/0,height:1/0},Fi={start:function(t){return Ti.restrictEdges.start(t)},set:function(t){var e=t.interaction,n=t.state,i=t.rect,o=t.edges,r=n.options;if(o){var a=D.tlbrToXywh((0,ki.getRestrictionRect)(r.min,e,t.coords))||$i,s=D.tlbrToXywh((0,ki.getRestrictionRect)(r.max,e,t.coords))||Ni;n.options={endOnly:r.endOnly,inner:(0,I.default)({},Ti.restrictEdges.noInner),outer:(0,I.default)({},Ti.restrictEdges.noOuter)},o.top?(n.options.inner.top=i.bottom-a.height,n.options.outer.top=i.bottom-s.height):o.bottom&&(n.options.inner.bottom=i.top+a.height,n.options.outer.bottom=i.top+s.height),o.left?(n.options.inner.left=i.right-a.width,n.options.outer.left=i.right-s.width):o.right&&(n.options.inner.right=i.left+a.width,n.options.outer.right=i.left+s.width),Ti.restrictEdges.set(t),n.options=r}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Li.restrictSize=Fi;var ji=(0,we.makeModifier)(Fi,"restrictSize");Li.default=ji;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0}),Object.defineProperty(Hi,"default",{enumerable:!0,get:function(){return _i.default}});var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.snap=Wi.default=void 0;var zi={start:function(t){var e,n=t.interaction,i=t.interactable,o=t.element,r=t.rect,a=t.state,s=t.startOffset,l=a.options,c=l.offsetWithOrigin?function(t){var e=t.interaction.element;return(0,D.rectToXY)((0,D.resolveRectLike)(t.state.options.origin,null,null,[e]))||(0,A.default)(t.interactable,e,t.interaction.prepared.name)}(t):{x:0,y:0};if("startCoords"===l.offset)e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var u=(0,D.resolveRectLike)(l.offset,i,o,[n]);(e=(0,D.rectToXY)(u)||{x:0,y:0}).x+=c.x,e.y+=c.y}var d=l.relativePoints;a.offsets=r&&d&&d.length?d.map((function(t,n){return{index:n,relativePoint:t,x:s.left-r.width*t.x+e.x,y:s.top-r.height*t.y+e.y}})):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,n=t.coords,i=t.state,o=i.options,a=i.offsets,s=(0,A.default)(e.interactable,e.element,e.prepared.name),l=(0,I.default)({},n),c=[];o.offsetWithOrigin||(l.x-=s.x,l.y-=s.y);for(var u=0;u<a.length;u++)for(var d=a[u],h=l.x-d.x,p=l.y-d.y,f=0,g=o.targets.length;f<g;f++){var m,v=o.targets[f];(m=r.default.func(v)?v(h,p,e._proxy,d,f):v)&&c.push({x:(r.default.number(m.x)?m.x:h)+d.x,y:(r.default.number(m.y)?m.y:p)+d.y,range:r.default.number(m.range)?m.range:o.range,source:v,index:f,offset:d})}for(var _={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},y=0;y<c.length;y++){var b=c[y],w=b.range,k=b.x-l.x,x=b.y-l.y,S=(0,L.default)(k,x),C=S<=w;w===1/0&&_.inRange&&_.range!==1/0&&(C=!1),_.target&&!(C?_.inRange&&w!==1/0?S/w<_.distance/_.range:w===1/0&&_.range!==1/0||S<_.distance:!_.inRange&&S<_.distance)||(_.target=b,_.distance=S,_.range=w,_.inRange=C,_.delta.x=k,_.delta.y=x)}return _.inRange&&(n.x=_.target.x,n.y=_.target.y),i.closest=_,_},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Wi.snap=zi;var Ui=(0,we.makeModifier)(zi,"snap");Wi.default=Ui;var Yi={};function Vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.snapSize=Yi.default=void 0;var Xi={start:function(t){var e=t.state,n=t.edges,i=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],Wi.snap.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e,n=t.interaction,i=t.state,o=t.coords,a=i.options,s=i.offsets,l={x:o.x-s[0].x,y:o.y-s[0].y};i.options=(0,I.default)({},a),i.options.targets=[];for(var c=0;c<(a.targets||[]).length;c++){var u=(a.targets||[])[c],d=void 0;if(d=r.default.func(u)?u(l.x,l.y,n):u){for(var h=0;h<i.targetFields.length;h++){var p=(2,function(t){if(Array.isArray(t))return t}(e=i.targetFields[h])||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),2!==n.length);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}(e)||function(t,e){if(t){if("string"==typeof t)return Vi(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vi(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],g=p[1];if(f in d||g in d){d.x=d[f],d.y=d[g];break}}i.options.targets.push(d)}}var m=Wi.snap.set(t);return i.options=a,m},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Yi.snapSize=Xi;var qi=(0,we.makeModifier)(Xi,"snapSize");Yi.default=qi;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.snapEdges=Gi.default=void 0;var Ki={start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],Yi.snapSize.start(t)):null},set:Yi.snapSize.set,defaults:(0,I.default)((0,pe.default)(Yi.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Gi.snapEdges=Ki;var Qi=(0,we.makeModifier)(Ki,"snapEdges");Gi.default=Qi;var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0}),Object.defineProperty(Ji,"default",{enumerable:!0,get:function(){return _i.default}});var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0}),Object.defineProperty(Zi,"default",{enumerable:!0,get:function(){return _i.default}});var to={};Object.defineProperty(to,"__esModule",{value:!0}),to.default=void 0;var eo={aspectRatio:ui.default,restrictEdges:Ti.default,restrict:ki.default,restrictRect:Mi.default,restrictSize:Li.default,snapEdges:Gi.default,snap:Wi.default,snapSize:Yi.default,spring:Ji.default,avoid:wi.default,transform:Zi.default,rubberband:Hi.default};to.default=eo;var no={};Object.defineProperty(no,"__esModule",{value:!0}),no.default=void 0;var io={id:"modifiers",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(we.default),t.usePlugin(li.default),e.modifiers=to.default,to.default){var i=to.default[n],o=i._defaults,r=i._methods;o._methods=r,t.defaults.perAction[n]=o}}};no.default=io;var oo={};function ro(t){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ao(t,e){return(ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function so(t,e){return!e||"object"!==ro(e)&&"function"!=typeof e?lo(t):e}function lo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function co(t){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(oo,"__esModule",{value:!0}),oo.PointerEvent=oo.default=void 0;var ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ao(t,e)}(r,t);var e,n,i,o=(n=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=co(n);if(i){var o=co(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return so(this,t)});function r(t,e,n,i,a,s){var l;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),uo(lo(l=o.call(this,a)),"type",void 0),uo(lo(l),"originalEvent",void 0),uo(lo(l),"pointerId",void 0),uo(lo(l),"pointerType",void 0),uo(lo(l),"double",void 0),uo(lo(l),"pageX",void 0),uo(lo(l),"pageY",void 0),uo(lo(l),"clientX",void 0),uo(lo(l),"clientY",void 0),uo(lo(l),"dt",void 0),uo(lo(l),"eventable",void 0),j.pointerExtend(lo(l),n),n!==e&&j.pointerExtend(lo(l),e),l.timeStamp=s,l.originalEvent=n,l.type=t,l.pointerId=j.getPointerId(e),l.pointerType=j.getPointerType(e),l.target=i,l.currentTarget=null,"tap"===t){var c=a.getPointerIndex(e);l.dt=l.timeStamp-a.pointers[c].downTime;var u=l.timeStamp-a.tapTime;l.double=!!(a.prevTap&&"doubletap"!==a.prevTap.type&&a.prevTap.target===l.target&&u<500)}else"doubletap"===t&&(l.dt=e.timeStamp-a.tapTime);return l}return(e=[{key:"_subtractOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this}},{key:"_addOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(r.prototype,e),r}(X.BaseEvent);oo.PointerEvent=oo.default=ho;var po={};Object.defineProperty(po,"__esModule",{value:!0}),po.default=void 0;var fo={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=fo,t.defaults.actions.pointerEvents=fo.defaults,(0,I.default)(t.actions.phaselessTypes,fo.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,n=t.pointerInfo;!e&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget;t.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&vo(t),go({interaction:n,pointer:i,event:o,eventTarget:r,type:"move"},e))},"interactions:down":function(t,e){!function(t,e){for(var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget,a=t.pointerIndex,s=n.pointers[a].hold,l=k.getPath(r),c={interaction:n,pointer:i,event:o,eventTarget:r,type:"hold",targets:[],path:l,node:null},u=0;u<l.length;u++){var d=l[u];c.node=d,e.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var h=1/0,p=0;p<c.targets.length;p++){var f=c.targets[p].eventable.options.holdDuration;f<h&&(h=f)}s.duration=h,s.timeout=setTimeout((function(){go({interaction:n,eventTarget:r,pointer:i,event:o,type:"hold"},e)}),h)}}(t,e),go(t,e)},"interactions:up":function(t,e){vo(t),go(t,e),function(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget;n.pointerWasMoved||go({interaction:n,eventTarget:r,pointer:i,event:o,type:"tap"},e)}(t,e)},"interactions:cancel":function(t,e){vo(t),go(t,e)}},PointerEvent:oo.PointerEvent,fire:go,collectEventTargets:mo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function go(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget,a=t.type,s=t.targets,l=void 0===s?mo(t,e):s,c=new oo.PointerEvent(a,i,o,r,n,e.now());e.fire("pointerEvents:new",{pointerEvent:c});for(var u={interaction:n,pointer:i,event:o,eventTarget:r,targets:l,type:a,pointerEvent:c},d=0;d<l.length;d++){var h=l[d];for(var p in h.props||{})c[p]=h.props[p];var f=(0,A.default)(h.eventable,h.node);if(c._subtractOrigin(f),c.eventable=h.eventable,c.currentTarget=h.node,h.eventable.fire(c),c._addOrigin(f),c.immediatePropagationStopped||c.propagationStopped&&d+1<l.length&&l[d+1].node!==c.currentTarget)break}if(e.fire("pointerEvents:fired",u),"tap"===a){var g=c.double?go({interaction:n,pointer:i,event:o,eventTarget:r,type:"doubletap"},e):c;n.prevTap=g,n.tapTime=g.timeStamp}return c}function mo(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget,a=t.type,s=n.getPointerIndex(i),l=n.pointers[s];if("tap"===a&&(n.pointerWasMoved||!l||l.downTarget!==r))return[];for(var c=k.getPath(r),u={interaction:n,pointer:i,event:o,eventTarget:r,type:a,path:c,targets:[],node:null},d=0;d<c.length;d++){var h=c[d];u.node=h,e.fire("pointerEvents:collect-targets",u)}return"hold"===a&&(u.targets=u.targets.filter((function(t){var e;return t.eventable.options.holdDuration===(null==(e=n.pointers[s])?void 0:e.hold.duration)}))),u.targets}function vo(t){var e=t.interaction,n=t.pointerIndex,i=e.pointers[n].hold;i&&i.timeout&&(clearTimeout(i.timeout),i.timeout=null)}var _o=fo;po.default=_o;var yo={};function bo(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}Object.defineProperty(yo,"__esModule",{value:!0}),yo.default=void 0;var wo={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(po.default);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(t,e){return t["pointerEvents:".concat(e)]=bo,t}),{"pointerEvents:new":function(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,i=t.pointerEvent,o=t.eventTarget,r=t.targets;if("hold"===i.type&&r.length){var a=r[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout((function(){e.pointerEvents.fire({interaction:n,eventTarget:o,type:"hold",pointer:i,event:i},e)}),a))}}})};yo.default=wo;var ko={};function xo(t){return(0,I.default)(this.events.options,t),this}Object.defineProperty(ko,"__esModule",{value:!0}),ko.default=void 0;var So={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=xo;var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(t,e){var i=n.call(this,t,e);return i===this&&(this.events.options[t]=e),i}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,i=t.node,o=t.type,r=t.eventTarget;e.interactables.forEachMatch(i,(function(t){var e=t.events,a=e.options;e.types[o]&&e.types[o].length&&t.testIgnoreAllow(a,i,r)&&n.push({node:i,eventable:e,props:{interactable:t}})}))},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}},"interactable:set":function(t,e){var n=t.interactable,i=t.options;(0,I.default)(n.events.options,e.pointerEvents.defaults),(0,I.default)(n.events.options,i.pointerEvents||{})}}};ko.default=So;var Co={};Object.defineProperty(Co,"__esModule",{value:!0}),Co.default=void 0;var To={id:"pointer-events",install:function(t){t.usePlugin(po),t.usePlugin(yo.default),t.usePlugin(ko.default)}};Co.default=To;var Eo={};function Po(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(e){return function(t,e,n){for(var i=r.default.string(t.target)?K.from(t._context.querySelectorAll(t.target)):[t.target],o=n.window.Promise,a=o?[]:null,s=function(){var r=i[l],s=t.getRect(r);if(!s)return"break";var c=K.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===t&&n.element===r&&n.prepared.name===e.name})),u=void 0;if(c)c.move(),a&&(u=c._reflowPromise||new o((function(t){c._reflowResolve=t})));else{var d=(0,D.tlbrToXywh)(s),h={page:{x:d.x,y:d.y},client:{x:d.x,y:d.y},timeStamp:n.now()},p=j.coordsToEvent(h);u=function(t,e,n,i,o){var r=t.interactions.new({pointerType:"reflow"}),a={interaction:r,event:o,pointer:o,eventTarget:n,phase:"reflow"};r.interactable=e,r.element=n,r.prevEvent=o,r.updatePointer(o,o,n,!0),j.setZeroCoords(r.coords.delta),(0,$t.copyAction)(r.prepared,i),r._doPhase(a);var s=t.window.Promise,l=s?new s((function(t){r._reflowResolve=t})):void 0;return r._reflowPromise=l,r.start(i,e,n),r._interacting?(r.move(a),r.end(o)):(r.stop(),r._reflowResolve()),r.removePointer(o,o),l}(n,t,r,e,p)}a&&a.push(u)},l=0;l<i.length&&"break"!==s();l++);return a&&o.all(a).then((function(){return t}))}(this,e,t)}}Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.install=Po,Eo.default=void 0;var Io={id:"reflow",install:Po,listeners:{"interactions:stop":function(t,e){var n=t.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),K.remove(e.interactions.list,n))}}};Eo.default=Io;var Do={exports:{}};function Oo(t){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Do.exports,"__esModule",{value:!0}),Do.exports.default=void 0,Jn.default.use(re.default),Jn.default.use(We.default),Jn.default.use(Co.default),Jn.default.use(Ge.default),Jn.default.use(no.default),Jn.default.use(ie.default),Jn.default.use(Ct.default),Jn.default.use(Mt.default),Jn.default.use(Eo.default);var Mo=Jn.default;if(Do.exports.default=Mo,"object"===Oo(Do)&&Do)try{Do.exports=Jn.default}catch(t){}Jn.default.default=Jn.default,Do=Do.exports;var Ao={exports:{}};function Bo(t){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ao.exports,"__esModule",{value:!0}),Ao.exports.default=void 0;var Ro=Do.default;if(Ao.exports.default=Ro,"object"===Bo(Ao)&&Ao)try{Ao.exports=Do.default}catch(t){}return Do.default.default=Do.default,Ao.exports}()},555:(t,e,n)=>{var i,o,r;o=[n(755)],void 0===(r="function"==typeof(i=function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,n,i=0,o=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{(i=t._data(o,"events"))&&i.remove&&t(o).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var o,r,a,s={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr.pseudos[c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},o=t[l][e],r=t[l][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,(function(e,i){t.isFunction(i)?s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}():s[e]=i})),r.prototype=t.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},s,{constructor:r,namespace:l,widgetName:e,widgetFullName:c}),o?(t.each(o._childConstructors,(function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,r,n._proto)})),delete o._childConstructors):n._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,i,r=o.call(arguments,1),a=0,s=r.length;a<s;a++)for(n in r[a])i=r[a][n],r[a].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var a="string"==typeof r,s=o.call(arguments,1),l=this;return a?this.length||"instance"!==r?this.each((function(){var n,o=t.data(this,i);return"instance"===r?(l=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s))!==o&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")})):l=void 0:(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each((function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,n){e._removeClass(n,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(o=a[e]=t.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,o;for(n in e)o=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&o&&o.length&&(i=t(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function o(o,r){var a,s;for(s=0;s<o.length;s++)a=i.classesElementLookup[o[s]]||t(),a=e.add?t(t.uniqueSort(a.get().concat(e.element.get()))):t(a.not(e.element).get()),i.classesElementLookup[o[s]]=a,n.push(o[s]),r&&e.classes[o[s]]&&n.push(e.classes[o[s]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&o(e.keys.match(/\S+/g)||[],!0),e.extra&&o(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,(function(i,o){-1!==t.inArray(e.target,o)&&(n.classesElementLookup[i]=t(o.not(e.target).get()))}))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof t||null===t,r={extra:o?e:n,keys:o?t:e,element:o?this.element:t,add:i};return r.element.toggleClass(this._classes(r),i),this},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,(function(i,a){function s(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.on(c,u,s):n.on(c,s)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout((function(){return("string"==typeof t?n[t]:t).apply(n,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var o,r,a=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){var a;"string"==typeof o&&(o={effect:o});var s=o?!0===o||"number"==typeof o?n:o.effect||n:e;"number"==typeof(o=o||{})&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&t.effects&&t.effects.effect[s]?i[e](o):s!==e&&i[s]?i[s](o.duration,o.easing,r):i.queue((function(n){t(this)[e](),r&&r.call(i[0]),n()}))}})),t.widget,function(){var e,n=Math.max,i=Math.abs,o=/left|center|right/,r=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,c=t.fn.position;function u(t,e,n){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?n/100:1)]}function d(e,n){return parseInt(t.css(e,n),10)||0}function h(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,o=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=o.children()[0];return t("body").append(o),n=r.offsetWidth,o.css("overflow","scroll"),n===(i=r.offsetWidth)&&(i=o[0].clientWidth),o.remove(),e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:i||o?{left:0,top:0}:t(e).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return c.apply(this,arguments);e=t.extend({},e);var l,p,f,g,m,v,_=t(e.of),y=t.position.getWithinInfo(e.within),b=t.position.getScrollInfo(y),w=(e.collision||"flip").split(" "),k={};return v=h(_),_[0].preventDefault&&(e.at="left top"),p=v.width,f=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],(function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=o.test(i[0])?i.concat(["center"]):r.test(i[0])?["center"].concat(i):["center","center"]),i[0]=o.test(i[0])?i[0]:"center",i[1]=r.test(i[1])?i[1]:"center",t=a.exec(i[0]),n=a.exec(i[1]),k[this]=[t?t[0]:0,n?n[0]:0],e[this]=[s.exec(i[0])[0],s.exec(i[1])[0]]})),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?m.left+=p:"center"===e.at[0]&&(m.left+=p/2),"bottom"===e.at[1]?m.top+=f:"center"===e.at[1]&&(m.top+=f/2),l=u(k.at,p,f),m.left+=l[0],m.top+=l[1],this.each((function(){var o,r,a=t(this),s=a.outerWidth(),c=a.outerHeight(),h=d(this,"marginLeft"),v=d(this,"marginTop"),x=s+h+d(this,"marginRight")+b.width,S=c+v+d(this,"marginBottom")+b.height,C=t.extend({},m),T=u(k.my,a.outerWidth(),a.outerHeight());"right"===e.my[0]?C.left-=s:"center"===e.my[0]&&(C.left-=s/2),"bottom"===e.my[1]?C.top-=c:"center"===e.my[1]&&(C.top-=c/2),C.left+=T[0],C.top+=T[1],o={marginLeft:h,marginTop:v},t.each(["left","top"],(function(n,i){t.ui.position[w[n]]&&t.ui.position[w[n]][i](C,{targetWidth:p,targetHeight:f,elemWidth:s,elemHeight:c,collisionPosition:o,collisionWidth:x,collisionHeight:S,offset:[l[0]+T[0],l[1]+T[1]],my:e.my,at:e.at,within:y,elem:a})})),e.using&&(r=function(t){var o=g.left-C.left,r=o+p-s,l=g.top-C.top,u=l+f-c,d={target:{element:_,left:g.left,top:g.top,width:p,height:f},element:{element:a,left:C.left,top:C.top,width:s,height:c},horizontal:r<0?"left":o>0?"right":"center",vertical:u<0?"top":l>0?"bottom":"middle"};p<s&&i(o+r)<p&&(d.horizontal="center"),f<c&&i(l+u)<f&&(d.vertical="middle"),n(i(o),i(r))>n(i(l),i(u))?d.important="horizontal":d.important="vertical",e.using.call(this,t,d)}),a.offset(t.extend(C,{using:r}))}))},t.ui.position={fit:{left:function(t,e){var i,o=e.within,r=o.isWindow?o.scrollLeft:o.offset.left,a=o.width,s=t.left-e.collisionPosition.marginLeft,l=r-s,c=s+e.collisionWidth-a-r;e.collisionWidth>a?l>0&&c<=0?(i=t.left+l+e.collisionWidth-a-r,t.left+=l-i):t.left=c>0&&l<=0?r:l>c?r+a-e.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=n(t.left-s,t.left)},top:function(t,e){var i,o=e.within,r=o.isWindow?o.scrollTop:o.offset.top,a=e.within.height,s=t.top-e.collisionPosition.marginTop,l=r-s,c=s+e.collisionHeight-a-r;e.collisionHeight>a?l>0&&c<=0?(i=t.top+l+e.collisionHeight-a-r,t.top+=l-i):t.top=c>0&&l<=0?r:l>c?r+a-e.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=n(t.top-s,t.top)}},flip:{left:function(t,e){var n,o,r=e.within,a=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,d=c+e.collisionWidth-s-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];u<0?((n=t.left+h+p+f+e.collisionWidth-s-a)<0||n<i(u))&&(t.left+=h+p+f):d>0&&((o=t.left-e.collisionPosition.marginLeft+h+p+f-l)>0||i(o)<d)&&(t.left+=h+p+f)},top:function(t,e){var n,o,r=e.within,a=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,d=c+e.collisionHeight-s-l,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];u<0?((o=t.top+h+p+f+e.collisionHeight-s-a)<0||o<i(u))&&(t.top+=h+p+f):d>0&&((n=t.top-e.collisionPosition.marginTop+h+p+f-l)>0||i(n)<d)&&(t.top+=h+p+f)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr.pseudos,{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(n){return!!t.data(n,e)}})):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(n+".ui-disableSelection",(function(t){t.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(e,n){var i,o,r,a,s,l=e.nodeName.toLowerCase();return"area"===l?(o=(i=e.parentNode).name,!(!e.href||!o||"map"!==i.nodeName.toLowerCase())&&(r=t("img[usemap='#"+o+"']")).length>0&&r.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(a=!e.disabled)&&(s=t(e).closest("fieldset")[0])&&(a=!s.disabled):a="a"===l&&e.href||n,a&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr.pseudos,{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout((function(){var n=e.data("ui-form-reset-instances");t.each(n,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],(function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function a(e,n,o,r){return t.each(i,(function(){n-=parseFloat(t.css(e,"padding"+this))||0,o&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)})),n}t.fn["inner"+n]=function(e){return void 0===e?r["inner"+n].call(this):this.each((function(){t(this).css(o,a(this,e)+"px")}))},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?r["outer"+n].call(this,e):this.each((function(){t(this).css(o,a(this,e,!0,i)+"px")}))}})),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=(a=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(a,"\\$1")}),t.fn.labels=function(){var e,n,i,o,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),(i=this.attr("id"))&&(r=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",o=o.add(r.find(n).addBack(n))),this.pushStack(o))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter((function(){var e=t(this);return(!i||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==n&&r.length?r:t(this[0].ownerDocument||document)},t.extend(t.expr.pseudos,{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:(r=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++r)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var r,a,s=!1;t(document).on("mouseup",(function(){s=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,s=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var o,r=t.ui[e].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(t,e,n,i){var o,r=t.plugins[e];if(r&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,n)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",e)&&n._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),o=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options,r=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(n=t(o.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=o.containment:this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,o,r,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-a.grid[1]:o+a.grid[1]:o,r=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-a.grid[0]:r+a.grid[0]:r),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var o=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each((function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,o))}))},stop:function(e,n,i){var o=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,(function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))}))},drag:function(e,n,i){t.each(i.sortables,(function(){var o=!1,r=this;r.positionAbs=i.positionAbs,r.helperProportions=i.helperProportions,r.offset.click=i.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,t.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(o=!1),o}))),o?(r.isOver||(r.isOver=1,i._parent=n.helper.parent(),r.currentItem=n.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return n.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=i.offset.click.top,r.offset.click.left=i.offset.click.left,r.offset.parent.left-=i.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=i.offset.parent.top-r.offset.parent.top,i._trigger("toSortable",e),i.dropped=r.element,t.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,r.fromOutside=i),r.currentItem&&(r._mouseDrag(e),n.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var o=t("body"),r=i.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(e,n,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var o=t(n.helper),r=i.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(e,n,i){var o=i.options;o._opacity&&t(n.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var o=i.options,r=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<o.scrollSensitivity?a.scrollTop=r=a.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(a.scrollTop=r=a.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<o.scrollSensitivity?a.scrollLeft=r=a.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(a.scrollLeft=r=a.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(s).scrollTop()<o.scrollSensitivity?r=t(s).scrollTop(t(s).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<o.scrollSensitivity&&(r=t(s).scrollTop(t(s).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(s).scrollLeft()<o.scrollSensitivity?r=t(s).scrollLeft(t(s).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<o.scrollSensitivity&&(r=t(s).scrollLeft(t(s).scrollLeft()+o.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})}))},drag:function(e,n,i){var o,r,a,s,l,c,u,d,h,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,_=n.offset.top,y=_+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)c=(l=i.snapElements[h].left-i.margins.left)+i.snapElements[h].width,d=(u=i.snapElements[h].top-i.margins.top)+i.snapElements[h].height,v<l-g||m>c+g||y<u-g||_>d+g||!t.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(u-y)<=g,r=Math.abs(d-_)<=g,a=Math.abs(l-v)<=g,s=Math.abs(c-m)<=g,o&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=o||r||a||s,"outer"!==f.snapMode&&(o=Math.abs(u-_)<=g,r=Math.abs(d-y)<=g,a=Math.abs(l-m)<=g,s=Math.abs(c-v)<=g,o&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(o||r||a||s||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=o||r||a||s||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var o,r=i.options,a=t.makeArray(t(r.stack)).sort((function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)}));a.length&&(o=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each((function(e){t(this).css("zIndex",o+e)})),this.css("zIndex",o+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var o=t(n.helper),r=i.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(e,n,i){var o=i.options;o._zIndex&&t(n.helper).css("zIndex",o._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,o=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&l(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return o=!0,!1})),!o&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var l=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,o){if(!n.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=r+e.helperProportions.width,l=a+e.helperProportions.height,c=n.offset.left,u=n.offset.top,d=c+n.proportions().width,h=u+n.proportions().height;switch(i){case"fit":return c<=r&&s<=d&&u<=a&&l<=h;case"intersect":return c<r+e.helperProportions.width/2&&s-e.helperProportions.width/2<d&&u<a+e.helperProportions.height/2&&l-e.helperProportions.height/2<h;case"pointer":return t(o.pageY,u,n.proportions().height)&&t(o.pageX,c,n.proportions().width);case"touch":return(a>=u&&a<=h||l>=u&&l<=h||a<u&&l>h)&&(r>=c&&r<=d||s>=c&&s<=d||r<c&&s>d);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,o,r=t.ui.ddmanager.droppables[e.options.scope]||[],a=n?n.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<r.length;i++)if(!(r[i].options.disabled||e&&!r[i].accept.call(r[i].element[0],e.currentItem||e.element))){for(o=0;o<s.length;o++)if(s[o]===r[i].element[0]){r[i].proportions().height=0;continue t}r[i].visible="none"!==r[i].element.css("display"),r[i].visible&&("mousedown"===a&&r[i]._activate.call(r[i],n),r[i].offset=r[i].element.offset(),r[i].proportions({width:r[i].element[0].offsetWidth,height:r[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&l(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",(function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}))},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,o,r,a=l(e,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(o=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter((function(){return t(this).droppable("instance").options.scope===o}))).length&&((i=t(r[0]).droppable("instance")).greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}}))},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return e[i]>0||(e[i]=1,o=e[i]>0,e[i]=0,o)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",(function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())})).on("mouseleave",(function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,o,r,a=this.options,s=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)o="ui-resizable-"+(e=t.trim(i[n])),r=t("<div>"),this._addClass(r,"ui-resizable-handle "+o),r.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(r);this._renderAxis=function(e){var n,i,o,r;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(o,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")})),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,o=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var n,i,o,r=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),r.containment&&(n+=t(r.containment).scrollLeft()||0,i+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,o=this.originalMousePosition,r=this.axis,a=e.pageX-o.left||0,s=e.pageY-o.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,o,r,a,s,l,c=this.options,u=this;return this._helper&&(o=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,r=i?0:u.sizeDiff.width,a={width:u.helper.width()-r,height:u.helper.height()-o},s=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(a,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,o,r,a=this.options;r={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,i=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),i>r.minHeight&&(r.minHeight=i),n<r.maxWidth&&(r.maxWidth=n),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return r&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&c&&(t.left=s-e.minWidth),i&&c&&(t.left=s-e.maxWidth),a&&u&&(t.top=l-e.minHeight),o&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(o[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,o=n._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),a=r&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,s=r?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};o&&o.length&&t(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,o,r,a,s,l=t(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=t(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each((function(t,i){n[t]=l._num(e.css("padding"+i))})),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,o=l.containerSize.height,r=l.containerSize.width,a=l._hasScroll(h,"left")?h.scrollWidth:r,s=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:i.left,top:i.top,width:a,height:s}))},resize:function(e){var n,i,o,r,a=t(this).resizable("instance"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||e.shiftKey,d={top:0,left:0},h=a.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),u&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),o=a.containerElement.get(0)===a.element.parent().get(0),r=/relative|absolute/.test(a.containerElement.css("position")),o&&r?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,u&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,u&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,o=e.containerPosition,r=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,c=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(r.css("position"))&&t(this).css({left:s.left-o.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(r.css("position"))&&t(this).css({left:s.left-o.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each((function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})}))},resize:function(e,n){var i=t(this).resizable("instance"),o=i.options,r=i.originalSize,a=i.originalPosition,s={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};t(o.alsoResize).each((function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),o={},r=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,(function(t,e){var n=(i[e]||0)+(s[e]||0);n&&n>=0&&(o[e]=n||null)})),e.css(o)}))},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,o=n.size,r=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((o.width-r.width)/c)*c,h=Math.round((o.height-r.height)/u)*u,p=r.width+d,f=r.height+h,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,_=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),_&&(f+=u),g&&(p-=c),m&&(f-=u),/^(se|s|e)$/.test(s)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.top=a.top-h):/^(sw)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.left=a.left-d):((f-u<=0||p-c<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=a.top-h):(f=u-e.height,n.size.height=f,n.position.top=a.top+r.height-f),p-c>0?(n.size.width=p,n.position.left=a.left-d):(p=c-e.width,n.size.width=p,n.position.left=a.left+r.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each((function(){var n=t(this),i=n.offset(),o={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:o.left,top:o.top,right:o.left+n.outerWidth(),bottom:o.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))})),t(e.target).parents().addBack().each((function(){var i,o=t.data(this,"selectable-item");if(o)return i=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),n._removeClass(o.$element,i?"ui-unselecting":"ui-selected")._addClass(o.$element,i?"ui-selecting":"ui-unselecting"),o.unselecting=!i,o.selecting=i,o.selected=i,i?n._trigger("selecting",e,{selecting:o.element}):n._trigger("unselecting",e,{unselecting:o.element}),!1})))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,o=this.options,r=this.opos[0],a=this.opos[1],s=e.pageX,l=e.pageY;return r>s&&(n=s,s=r,r=n),a>l&&(n=l,l=a,a=n),this.helper.css({left:r,top:a,width:s-r,height:l-a}),this.selectees.each((function(){var n=t.data(this,"selectable-item"),c=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===o.tolerance?c=!(u.left>s||u.right<r||u.top>l||u.bottom<a):"fit"===o.tolerance&&(c=u.left>r&&u.right<s&&u.top>a&&u.bottom<l),c?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))})),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each((function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})})),t(".ui-selecting",this.element[0]).each((function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})})),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,o=!1,r=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,r.widgetName+"-item")===r)return i=t(this),!1})),t.data(e.target,r.widgetName+"-item")===r&&(i=t(e.target)),!i||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each((function(){this===e.target&&(o=!0)})),!o)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,n,i){var o,r,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(r)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,o,r,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(o=(i=this.items[n]).item[0],(r=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,a={};r&&"x"!==r||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){i._clear(e)}))}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each((function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))})),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each((function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")})),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,a=r+t.width,s=t.top,l=s+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>s&&i+c<l,h="y"===this.options.axis||e+u>r&&e+u<a,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:r<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!o)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,o,r,a=[],s=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(i=(o=t(l[n],this.document[0])).length-1;i>=0;i--)(r=t.data(o[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&s.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function c(){a.push(this)}for(s.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(c);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,o,r,a,s,l,c,u=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=(o=t(h[n],this.document[0])).length-1;i>=0;i--)(r=t.data(o[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&(d.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(n=d.length-1;n>=0;n--)for(a=d[n][1],i=0,c=(s=d[n][0]).length;i<c;i++)(l=t(s[i])).data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,o,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+i+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===i?e._createTrPlaceholder(e.currentItem,o):"img"===i&&o.attr("src",e.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(t,o){n&&!i.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each((function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(e){var n,i,o,r,a,s,l,c,u,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,r=null,a=(u=h.floating||this._isFloating(this.currentItem))?"left":"top",s=u?"width":"height",d=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],c=!1,e[d]-l>this.items[i][s]/2&&(c=!0),Math.abs(e[d]-l)<o&&(o=Math.abs(e[d]-l),r=this.items[i],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],n=t(o.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(e){var n,i,o=this.options,r=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay((function(){o===this.counter&&this.refreshPositions(!i)}))},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function o(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(i.push((function(t){this._trigger("remove",t,this._uiHash())})),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(o("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(o("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,o=this.headers.index(e.target),r=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:r=this.headers[(o+1)%i];break;case n.LEFT:case n.UP:r=this.headers[(o-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:r=this.headers[0];break;case n.END:r=this.headers[i-1]}r&&(t(e.target).attr("tabIndex",-1),t(r).attr("tabIndex",0),t(r).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,o=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),o=i.uniqueId().attr("id");e.attr("aria-controls",o),i.attr("aria-labelledby",n)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=o.height(),this.element.siblings(":visible").each((function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))})),this.headers.each((function(){e-=t(this).outerHeight(!0)})),this.headers.next().each((function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each((function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()})).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),(function(t,e){n[e]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,o=this.options,r=this.active,a=t(e.currentTarget),s=a[0]===r[0],l=s&&o.collapsible,c=l?t():a.next(),u=r.next(),d={oldHeader:r,oldPanel:u,newHeader:l?t():a,newPanel:c};e.preventDefault(),s&&!o.collapsible||!1===this._trigger("beforeActivate",e,d)||(o.active=!l&&this.headers.index(a),this.active=s?t():a,this._toggle(d),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),o.icons&&(n=r.children(".ui-accordion-header-icon"),this._removeClass(n,null,o.icons.activeHeader)._addClass(n,null,o.icons.header)),s||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),o.icons&&(i=a.children(".ui-accordion-header-icon"),this._removeClass(i,null,o.icons.header)._addClass(i,null,o.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter((function(){return 0===parseInt(t(this).attr("tabIndex"),10)})).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,o,r,a=this,s=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=c&&u.down||u,h=function(){a._toggleComplete(n)};return"number"==typeof d&&(r=d),"string"==typeof d&&(o=d),o=o||d.easing||u.easing,r=r||d.duration||u.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:r,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:o,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,r,o,h):t.animate(this.showProps,r,o,h)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay((function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each((function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()}))},_keydown:function(e){var n,i,o,r,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",r=!1,o=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),o===i?r=!0:o=i+o,n=this._filterMenuItems(o),(n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(o=String.fromCharCode(e.keyCode),n=this._filterMenuItems(o)),n.length?(this.focus(e,n),this.previousFilter=o,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,o,r=this,a=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);r._addClass(i,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))})),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(e=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var e=t(this);r._isDivider(e)&&r._addClass(e,"ui-menu-divider","ui-widget-content")})),o=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,o;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,o,r,a,s;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-n-i,r=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),o<0?this.activeMenu.scrollTop(r+o):o+s>a&&this.activeMenu.scrollTop(r+o-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(t)}),this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay((function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i}),this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay((function(){this.focus(t,e)})))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,o;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=t(this)).offset().top-i-o<0})),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,o;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=t(this)).offset().top-i+o>0})),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))}))}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,a="input"===o;this.isMultiLine=r||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[r||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var r=t.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case r.UP:e=!0,this._keyEvent("previous",o);break;case r.DOWN:e=!0,this._keyEvent("next",o);break;case r.ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var o=t.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(e,n){var i,o;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){t(e.target).trigger(e.originalEvent)}));o=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:o})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(o.value),(i=n.item.attr("aria-label")||o.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=o,this._delay((function(){this.previous=o,this.selectedItem=i}))),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,o){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay((function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))}),this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy((function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,(function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})}))},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,(function(t,n){i._renderItemData(e,n)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,(function(t){return i.test(t.label||t.value||t)}))}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete;var c,u,d=/ui-corner-([a-z]){2,6}/g;function h(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=p(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function p(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,(function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",n,f)}function f(){t.datepicker._isDisabledDatepicker(c.inline?c.dpDiv.parent()[0]:c.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function g(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}function m(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,(function(i,o){var r,a={};if(o)return"controlgroupLabel"===i?((r=e.element.find(o)).each((function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),e._addClass(r,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(r.get()))):void(t.fn[i]&&(a=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(o).each((function(){var o=t(this),r=o[i]("instance"),s=t.widget.extend({},a);if("button"!==i||!o.parent(".ui-spinner").length){r||(r=o[i]()[i]("instance")),r&&(s.classes=e._resolveClassesValues(s.classes,r)),o[i](s);var l=o[i]("widget");t.data(l[0],"ui-controlgroup-data",r||o[i]("instance")),n.push(l[0])}}))))})),this.childWidgets=t(t.uniqueSort(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each((function(){var n=t(this).data("ui-controlgroup-data");n&&n[e]&&n[e]()}))},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,(function(o){var r=n.options.classes[o]||"";r=t.trim(r.replace(d,"")),i[o]=(r+" "+e[o]).replace(/\s+/g," ")})),i},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],(function(t,i){var o=e[i]().data("ui-controlgroup-data");if(o&&n["_"+o.widgetName+"Options"]){var r=n["_"+o.widgetName+"Options"](1===e.length?"only":i);r.classes=n._resolveClassesValues(r.classes,o),o.element[o.widgetName](r)}else n._updateCornerClass(e[i](),i)})),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,o=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each((function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML})),this.originalLabel&&(o.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(o.disabled=e),o},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter((function(){return 0===t(this).form().length}))).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each((function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,o=i?this.options.iconPosition:n,r="top"===o||"bottom"===o;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(o),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(o))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(h.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return g(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,o,r;o="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(r=this._newInst(t(e),o)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,r):o&&this._inlineDatepicker(e,r)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?p(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,o,r,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(o=this._get(n,"buttonText"),r=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:o,title:o}):o)),e[s?"before":"after"](n.trigger),n.trigger.on("click",(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1})))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,o,r=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=0,i=0,o=0;o<t.length;o++)t[o].length>n&&(n=t[o].length,i=o);return i},r.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,o,r){var a,s,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",d)),g(d.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var n,i=t(e),o=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(o.append.remove(),o.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),c===o&&(c=null))},_enableDatepicker:function(e){var n,i,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,r.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})))},_disableDatepicker:function(e){var n,i,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,r.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var o,r,a,s,l=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):l?"all"===n?t.extend({},l.settings):this._get(l,n):null;o=n||{},"string"==typeof n&&((o={})[n]=i),l&&(this._curInst===l&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(l,"min"),s=this._getMinMaxDate(l,"max"),g(l.settings,o),null!==a&&void 0!==o.dateFormat&&void 0===o.minDate&&(l.settings.minDate=this._formatDate(l,a)),null!==s&&void 0!==o.dateFormat&&void 0===o.maxDate&&(l.settings.maxDate=this._formatDate(l,s)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,r),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,o,r=t.datepicker._getInst(e.target),a=!0,s=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return(o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv))[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,o[0]),(n=t.datepicker._get(r,"onSelect"))?(i=t.datepicker._formatDate(r),n.apply(r.input?r.input[0]:null,[i,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,o=t.datepicker._getInst(e.target);if(t.datepicker._get(o,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,o,r,a,s,l;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(o=(i=t.datepicker._get(n,"beforeShow"))?i.apply(e,[e,n]):{})&&(g(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each((function(){return!(r|="fixed"===t(this).css("position"))})),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),a=t.datepicker._checkOffset(n,a,r),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(s=t.datepicker._get(n,"showAnim"),l=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[s]?n.dpDiv.show(s,t.datepicker._get(n,"showOptions"),l):n.dpDiv[s||"show"](s?l:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,c=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),o=i[1],r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&f.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout((function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null}),0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var o=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?o-a:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+o>l&&l>o?Math.abs(n.left+o-l):0),n.top-=Math.min(n.top,n.top+r>c&&c>r?Math.abs(r+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),o=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.pseudos.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,o,r,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),o=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[n]||t.effects[n])?a.dpDiv.hide(n,t.datepicker._get(a,"showOptions"),i,o):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,o),n||o(),this._datepickerShowing=!1,(r=this._get(a,"onClose"))&&r.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var o=t(e),r=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(r,n+("M"===i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(e){var n,i=t(e),o=this._getInst(i[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(n=new Date,o.selectedDay=n.getDate(),o.drawMonth=o.selectedMonth=n.getMonth(),o.drawYear=o.selectedYear=n.getFullYear()),this._notifyChange(o),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var o=t(e),r=this._getInst(o[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(o)},_selectDay:function(e,n,i,o){var r,a=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((r=this._getInst(a[0])).selectedDay=r.currentDay=t("a",o).html(),r.selectedMonth=r.currentMonth=n,r.selectedYear=r.currentYear=i,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,o=t(e),r=this._getInst(o[0]);n=null!=n?n:this._formatDate(r),r.input&&r.input.val(n),this._updateAlternate(r),(i=this._get(r,"onSelect"))?i.apply(r.input?r.input[0]:null,[n,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,o,r=this._get(e,"altField");r&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),o=this.formatDate(n,i,this._getFormatConfig(e)),t(r).val(o))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var o,r,a,s,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,_=-1,y=!1,b=function(t){var n=o+1<e.length&&e.charAt(o+1)===t;return n&&o++,n},w=function(t){var e=b(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),r=n.substring(l).match(o);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},k=function(e,i,o){var r=-1,a=t.map(b(e)?o:i,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)}));if(t.each(a,(function(t,e){var i=e[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return r=e[0],l+=i.length,!1})),-1!==r)return r+1;throw"Unknown name at position "+l},x=function(){if(n.charAt(l)!==e.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<e.length;o++)if(y)"'"!==e.charAt(o)||b("'")?x():y=!1;else switch(e.charAt(o)){case"d":v=w("d");break;case"D":k("D",d,h);break;case"o":_=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":g=(s=new Date(w("@"))).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":g=(s=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":b("'")?x():y=!0;break;default:x()}if(l<n.length&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=u?0:-100)),_>-1)for(m=1,v=_;!(v<=(r=this._getDaysInMonth(g,m-1)));)m++,v-=r;if((s=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,o=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,r=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},c=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},u=function(t,e,n,i){return l(t)?i[e]:n[e]},d="",h=!1;if(e)for(i=0;i<t.length;i++)if(h)"'"!==t.charAt(i)||l("'")?d+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":d+=c("d",e.getDate(),2);break;case"D":d+=u("D",e.getDay(),o,r);break;case"o":d+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",e.getMonth()+1,2);break;case"M":d+=u("M",e.getMonth(),a,s);break;case"y":d+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=t.charAt(i)}return d},_possibleChars:function(t){var e,n="",i=!1,o=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||o("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":o("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,a=this._getFormatConfig(t);try{r=this.parseDate(n,i,a)||o}catch(t){i=e?"":i}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=i?r.getDate():0,t.currentMonth=i?r.getMonth():0,t.currentYear=i?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var o=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=i.getFullYear(),r=i.getMonth(),a=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(o,r));break;case"y":case"Y":o+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(o,r))}l=s.exec(n)}return new Date(o,r,a)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(o=o&&"Invalid Date"===o.toString()?i:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,o=t.selectedMonth,r=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e,n,i,o,r,a,s,l,c,u,d,h,p,f,g,m,v,_,y,b,w,k,x,S,C,T,E,P,I,D,O,M,A,B,R,L,$,N,F,j=new Date,H=this._daylightSavingAdjust(new Date(j.getFullYear(),j.getMonth(),j.getDate())),W=this._get(t,"isRTL"),z=this._get(t,"showButtonPanel"),U=this._get(t,"hideIfNoPrevNext"),Y=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),X=this._get(t,"showCurrentAtPos"),q=this._get(t,"stepMonths"),G=1!==V[0]||1!==V[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-X,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-V[0]*V[1]+1,J.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,n=this._get(t,"prevText"),n=Y?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z-q,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>",o=this._get(t,"nextText"),o=Y?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,Z+q,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?K:H,a=Y?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),b="",k=0;k<V[0];k++){for(x="",this.maxRows=4,S=0;S<V[1];S++){if(C=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),T=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",V[1]>1)switch(S){case 0:E+=" ui-datepicker-group-first",T=" ui-corner-"+(W?"right":"left");break;case V[1]-1:E+=" ui-datepicker-group-last",T=" ui-corner-"+(W?"left":"right");break;default:E+=" ui-datepicker-group-middle",T=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===k?W?r:i:"")+(/all|right/.test(T)&&0===k?W?i:r:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,k>0||S>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)P+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[I=(w+u)%7]+"'>"+p[I]+"</span></th>";for(E+=P+"</tr></thead><tbody>",D=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,D)),O=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,M=Math.ceil((O+D)/7),A=G&&this.maxRows>M?this.maxRows:M,this.maxRows=A,B=this._daylightSavingAdjust(new Date(tt,Z,1-O)),R=0;R<A;R++){for(E+="<tr>",L=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(B)+"</td>":"",w=0;w<7;w++)$=m?m.apply(t.input?t.input[0]:null,[B]):[!0,""],F=(N=B.getMonth()!==Z)&&!_||!$[0]||Q&&B<Q||J&&B>J,L+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(B.getTime()===C.getTime()&&Z===t.selectedMonth&&t._keyEvent||y.getTime()===B.getTime()&&y.getTime()===C.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!v?"":" "+$[1]+(B.getTime()===K.getTime()?" "+this._currentClass:"")+(B.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(N&&!v||!$[2]?"":" title='"+$[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+B.getMonth()+"' data-year='"+B.getFullYear()+"'")+">"+(N&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+B.getDate()+"</span>":"<a class='ui-state-default"+(B.getTime()===H.getTime()?" ui-state-highlight":"")+(B.getTime()===K.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+B.getDate()+"</a>")+"</td>",B.setDate(B.getDate()+1),B=this._daylightSavingAdjust(B);E+=L+"</tr>"}++Z>11&&(Z=0,tt++),x+=E+="</tbody></table>"+(G?"</div>"+(V[0]>0&&S===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=x}return b+=c,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,n,i,o,r,a,s){var l,c,u,d,h,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(r||!m)b+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=i&&i.getFullYear()===n,c=o&&o.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=o.getMonth())&&(b+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+s[u]+"</option>");b+="</select>"}if(_||(y+=b+(!r&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e})(d[0]),g=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=o?Math.min(g,o.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),_&&(y+=(!r&&m&&v?"":"&#xa0;")+b),y+"</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),o=t.selectedMonth+("M"===n?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(i,o))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,o,r)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),o=n&&e<n?n:e;return i&&o>i?i:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(n,i+(e<0?e:o[0]*o[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var n,i,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)})):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new h,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){n._trigger("close",e)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,o=this.uiDialog.siblings(".ui-front:visible").map((function(){return+t(this).css("z-index")})).get(),r=Math.max.apply(null,o);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){e._focusTabbable(),e._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),o=n.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay((function(){o.trigger("focus")})),e.preventDefault()):(this._delay((function(){i.trigger("focus")})),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,(function(n,i){var o,r;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),o=i.click,r={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(r).appendTo(e.uiButtonSet).on("click",(function(){o.apply(e.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",n,i(o))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(o,r){var a=r.offset.left-e.document.scrollLeft(),s=r.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",o,i(r))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,o=this.uiDialog.css("position"),r="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:r,start:function(n,i){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",n,a(i))},resize:function(t,n){e._trigger("resize",t,a(n))},stop:function(i,o){var r=e.uiDialog.offset(),s=r.left-e.document.scrollLeft(),l=r.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,a(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,o={};t.each(e,(function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(o[t]=e)})),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,n){var i,o,r=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=r.is(":data(ui-draggable)"))&&!n&&r.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((o=r.is(":data(ui-resizable)"))&&!n&&r.resizable("destroy"),o&&"string"==typeof n&&r.resizable("option","handles",n),o||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay((function(){e=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){n._rendered||n._refreshMenu()}))},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,o="";t.each(n,(function(n,r){var a;r.optgroup!==o&&(a=t("<li>",{text:r.optgroup}),i._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(r.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),o=r.optgroup),i._renderItemData(e,r)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),o=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(o,n.label),i.append(o).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,o=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),o+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](o).eq(-1):n[t+"All"](o).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each((function(e,o){i.push(n._parseOption(t(o),e))})),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,o=this.element.find(".ui-slider-handle"),r=[];for(n=i.values&&i.values.length||1,o.length>n&&(o.slice(n).remove(),o=o.slice(0,n)),e=o.length;e<n;e++)r.push("<span tabindex='0'></span>");this.handles=o.add(t(r.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)}))},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,o,r,a,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),o=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var n=Math.abs(i-c.values(e));(o>n||o===n&&(e===c._lastChangedValue||c.values(e)===u.min))&&(o=n,r=t(this),a=e)})),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),s=r.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-s.left-r.width()/2,top:e.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,o,r;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),o=this._valueMax()-this._valueMin(),r=this._valueMin()+i*o,this._trimAlignValue(r)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,o=this.value(),r=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),r[e]=n),n!==o&&!1!==this._trigger("slide",t,this._uiHash(e,n,r))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,o,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,o=arguments[0],r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,n){var i,o=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=o-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,o,r,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each((function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n})):(i=this.value(),o=this._valueMin(),r=this._valueMax(),n=r!==o?(i-o)/(r-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var n,i,o,r=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,r)))return}switch(o=this.options.step,n=i=this._hasMultipleValues()?this.values(r):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-o)}this._slide(e,r,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],(function(t,i){var o=n.attr(i);null!=o&&o.length&&(e[i]=o)})),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(t)}),100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var n;function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay((function(){this.previous=n})))}n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,i.call(this)})),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,e,n)}),t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,o;if("culture"===t||"numberFormat"===t)return n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),o=this.buttons.last().find(".ui-icon"),this._removeClass(o,null,this.options.icons.down),this._addClass(o,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:m((function(t){this._super(t)})),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:m((function(t){this._stepUp(t)})),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:m((function(t){this._stepDown(t)})),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:m((function(t){this._stepUp((t||1)*this.options.page)})),pageDown:m((function(t){this._stepDown((t||1)*this.options.page)})),value:function(t){if(!arguments.length)return this._parse(this.element.val());m(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(u=/#.*$/,function(t){var e,n;e=t.href.replace(u,""),n=location.href.replace(u,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return t.hash.length>1&&e===n}),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),(function(t){return e.tabs.index(t)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each((function(n,o){if(t(o).attr("aria-controls")===i)return e=n,!1})),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),o=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:o=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,o),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",i)}),this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){var i=this.tabs.length-1;for(;-1!==t.inArray((e>i&&(e=0),e<0&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),(function(t){return n.index(t)})),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,o=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return t("a",this)[0]})).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each((function(n,i){var o,r,a,s=t(i).uniqueId().attr("id"),l=t(i).closest("li"),c=l.attr("aria-controls");e._isLocal(i)?(a=(o=i.hash).substring(1),r=e.element.find(e._sanitizeSelector(o))):(o="#"+(a=l.attr("aria-controls")||t({}).uniqueId()[0].id),(r=e.element.find(o)).length||(r=e._createPanel(a)).insertAfter(e.panels[n-1]||e.tablist),r.attr("aria-live","polite")),r.length&&(e.panels=e.panels.add(r)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a,"aria-labelledby":s}),r.attr("aria-labelledby",s)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(o.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,o;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),o=0;i=this.tabs[o];o++)n=t(i),!0===e||-1!==t.inArray(o,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),(function(t,e){n[e]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){n-=t(this).outerHeight(!0)})),this.panels.each((function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each((function(){n=Math.max(n,t(this).height("").height())})).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,o=t(e.currentTarget).closest("li"),r=o[0]===i[0],a=r&&n.collapsible,s=a?t():this._getPanelForTab(o),l=i.length?this._getPanelForTab(i):t(),c={oldTab:i,oldPanel:l,newTab:a?t():o,newPanel:s};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||r&&!n.collapsible||!1===this._trigger("beforeActivate",e,c)||(n.active=!a&&this.tabs.index(o),this.active=r?t():o,this.xhr&&this.xhr.abort(),l.length||s.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,n){var i=this,o=n.newPanel,r=n.oldPanel;function a(){i.running=!1,i._trigger("activate",e,n)}function s(){i._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&i.options.show?i._show(o,i.options.show,a):(o.show(),a())}this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,(function(){i._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()})):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),s()),r.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?n.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter((function(){return 0===t(this).attr("tabIndex")})).attr("tabIndex",-1),o.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,(function(t){return t!==e?t:null})):t.map(this.tabs,(function(t,n){return n!==e?n:null}))),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,o=this.tabs.eq(e),r=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),s={tab:o,panel:a},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(o,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(r[0])||(this.xhr=t.ajax(this._ajaxSettings(r,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(o,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done((function(t,e,o){setTimeout((function(){a.html(t),i._trigger("load",n,s),l(o,e)}),1)})).fail((function(t,e){setTimeout((function(){l(t,e)}),1)}))))},_ajaxSettings:function(e,n,i){var o=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,r){return o._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:r},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),o=t.inArray(n,i);-1!==o&&i.splice(o,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,(function(t,e){i._updateContent(e.element)}))},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,(function(n,i){var o=t.Event("blur");o.target=o.currentTarget=i.element[0],e.close(o,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each((function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))})),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,o=this,r=e?e.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(e,t,i);(n=i.call(t[0],(function(n){o._delay((function(){t.data("ui-tooltip-open")&&(e&&(e.type=r),this._open(e,t,n))}))})))&&this._open(e,t,n)},_open:function(e,n,i){var o,r,a,s,l=t.extend({},this.options.position);function c(t){l.of=t,r.is(":hidden")||r.position(l)}i&&((o=this._find(n))?o.tooltip.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),r=o.tooltip,this._addDescribedBy(n,r.attr("id")),r.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(s=t("<div>").html(r.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:c}),c(e)):r.position(t.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval((function(){r.is(":visible")&&(c(l.of),clearInterval(a))}),t.fx.interval)),this._trigger("open",e,{tooltip:r})))},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,o=t(e?e.currentTarget:this.element),r=this._find(o);r?(n=r.tooltip,r.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),r.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,(function(){i._removeTooltip(t(this))})),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,(function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]})),r.closing=!0,this._trigger("close",e,{tooltip:n}),r.hiding||(r.closing=!1))):o.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),o=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[o]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,(function(n,i){var o=t.Event("blur"),r=i.element;o.target=o.currentTarget=r[0],e.close(o,!0),t("#"+n).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip;var v,_="ui-effects-",y="ui-effects-style",b="ui-effects-animated",w=t;t.effects={effect:{}},function(t,e){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,o=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],r=t.Color=function(e,n,i,o){return new t.Color.fn.parse(e,n,i,o)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=r.support={},c=t("<p>")[0],u=t.each;function d(t,e,n){var i=s[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function h(e){var i=r(),s=i._rgba=[];return e=e.toLowerCase(),u(o,(function(t,n){var o,r=n.re.exec(e),l=r&&n.parse(r),c=n.space||"rgba";if(l)return o=i[c](l),i[a[c].cache]=o[a[c].cache],s=i._rgba=o._rgba,!1})),s.length?("0,0,0,0"===s.join()&&t.extend(s,n.transparent),i):n[e]}function p(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}c.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=c.style.backgroundColor.indexOf("rgba")>-1,u(a,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),r.fn=t.extend(r.prototype,{parse:function(i,o,s,l){if(i===e)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=t(i).css(o),o=e);var c=this,p=t.type(i),f=this._rgba=[];return o!==e&&(i=[i,o,s,l],p="array"),"string"===p?this.parse(h(i)||n._default):"array"===p?(u(a.rgba.props,(function(t,e){f[e.idx]=d(i[e.idx],e)})),this):"object"===p?(u(a,i instanceof r?function(t,e){i[e.cache]&&(c[e.cache]=i[e.cache].slice())}:function(e,n){var o=n.cache;u(n.props,(function(t,e){if(!c[o]&&n.to){if("alpha"===t||null==i[t])return;c[o]=n.to(c._rgba)}c[o][e.idx]=d(i[t],e,!0)})),c[o]&&t.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,n.from&&(c._rgba=n.from(c[o])))}),this):void 0},is:function(t){var e=r(t),n=!0,i=this;return u(a,(function(t,o){var r,a=e[o.cache];return a&&(r=i[o.cache]||o.to&&o.to(i._rgba)||[],u(o.props,(function(t,e){if(null!=a[e.idx])return n=a[e.idx]===r[e.idx]}))),n})),n},_space:function(){var t=[],e=this;return u(a,(function(n,i){e[i.cache]&&t.push(n)})),t.pop()},transition:function(t,e){var n=r(t),i=n._space(),o=a[i],l=0===this.alpha()?r("transparent"):this,c=l[o.cache]||o.to(l._rgba),h=c.slice();return n=n[o.cache],u(o.props,(function(t,i){var o=i.idx,r=c[o],a=n[o],l=s[i.type]||{};null!==a&&(null===r?h[o]=a:(l.mod&&(a-r>l.mod/2?r+=l.mod:r-a>l.mod/2&&(r-=l.mod)),h[o]=d((a-r)*e+r,i)))})),this[i](h)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=r(e)._rgba;return r(t.map(n,(function(t,e){return(1-i)*o[e]+i*t})))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t}));return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),r.fn.parse.prototype=r.fn,a.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,o=t[1]/255,r=t[2]/255,a=t[3],s=Math.max(i,o,r),l=Math.min(i,o,r),c=s-l,u=s+l,d=.5*u;return e=l===s?0:i===s?60*(o-r)/c+360:o===s?60*(r-i)/c+120:60*(i-o)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(e)%360,n,d,null==a?1:a]},a.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],r=i<=.5?i*(1+n):i+n-i*n,a=2*i-r;return[Math.round(255*p(a,r,e+1/3)),Math.round(255*p(a,r,e)),Math.round(255*p(a,r,e-1/3)),o]},u(a,(function(n,o){var a=o.props,s=o.cache,l=o.to,c=o.from;r.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===e)return this[s].slice();var i,o=t.type(n),h="array"===o||"object"===o?n:arguments,p=this[s].slice();return u(a,(function(t,e){var n=h["object"===o?t:e.idx];null==n&&(n=p[e.idx]),p[e.idx]=d(n,e)})),c?((i=r(c(p)))[s]=p,i):r(p)},u(a,(function(e,o){r.fn[e]||(r.fn[e]=function(r){var a,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[o.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=t.type(r)),null==r&&o.empty?this:("string"===s&&(a=i.exec(r))&&(r=u+parseFloat(a[2])*("+"===a[1]?1:-1)),c[o.idx]=r,this[l](c)))})}))})),r.hook=function(e){var n=e.split(" ");u(n,(function(e,n){t.cssHooks[n]={set:function(e,i){var o,a,s="";if("transparent"!==i&&("string"!==t.type(i)||(o=h(i)))){if(i=r(o||i),!l.rgba&&1!==i._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(t){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=r(e.elem,n),e.end=r(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}))},r.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return u(["Top","Right","Bottom","Left"],(function(n,i){e["border"+i+"Color"]=t})),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(w),function(){var e=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function i(e){var n,i,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)"string"==typeof o[n=o[i]]&&(r[t.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(r[n]=o[n]);return r}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(w.style(t.elem,n,t.end),t.setAttr=!0)}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(o,r,a,s){var l=t.speed(r,a,s);return this.queue((function(){var r,a=t(this),s=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map((function(){return{el:t(this),start:i(this)}})),(r=function(){t.each(e,(function(t,e){o[e]&&a[e+"Class"](o[e])}))})(),c=c.map((function(){return this.end=i(this.el[0]),this.diff=function(e,i){var o,r,a={};for(o in i)r=i[o],e[o]!==r&&(n[o]||!t.fx.step[o]&&isNaN(parseFloat(r))||(a[o]=r));return a}(this.start,this.end),this})),a.attr("class",s),c=c.map((function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()})),t.when.apply(t,c.get()).done((function(){r(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),l.complete.call(a[0])}))}))},t.fn.extend({addClass:function(e){return function(n,i,o,r){return i?t.effects.animateClass.call(this,{add:n},i,o,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,o,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,o,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,o,r,a){return"boolean"==typeof i||void 0===i?o?t.effects.animateClass.call(this,i?{add:n}:{remove:n},o,r,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,o,r)}}(t.fn.toggleClass),switchClass:function(e,n,i,o,r){return t.effects.animateClass.call(this,{add:n,remove:e},i,o,r)}})}(),function(){function e(e,n,i,o){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(o=i,i=n,n={}),t.isFunction(i)&&(o=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=o||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.pseudos&&t.expr.pseudos.animated&&(t.expr.pseudos.animated=function(e){return function(n){return!!t(n).data(b)||e(n)}}(t.expr.pseudos.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data(_+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,o=e.length;i<o;i++)null!==e[i]&&(n=t.data(_+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return e.wrap(i),(e[0]===r||t.contains(e[0],r))&&t(r).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,o="vertical"!==n?(e||100)/100:1;return{height:t.height()*o,width:t.width()*i,outerHeight:t.outerHeight()*o,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(y,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(y)||"",t.removeData(y)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),o=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(_+"placeholder",n)),e.css({position:i,left:o.left,top:o.top}),n},removePlaceholder:function(t){var e=_+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,o){return o=o||{},t.each(n,(function(t,n){var r=e.cssUnit(n);r[0]>0&&(o[n]=r[0]*i+r[1])})),o}}),t.fn.extend({effect:function(){var n=e.apply(this,arguments),i=t.effects.effect[n.effect],o=i.mode,r=n.queue,a=r||"fx",s=n.complete,l=n.mode,c=[],u=function(e){var n=t(this),i=t.effects.mode(n,l)||o;n.data(b,!0),c.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};if(t.fx.off||!i)return l?this[l](n.duration,s):this.each((function(){s&&s.call(this)}));function d(e){var r=t(this);function a(){t.isFunction(s)&&s.call(r[0]),t.isFunction(e)&&e()}n.mode=c.shift(),!1===t.uiBackCompat||o?"none"===n.mode?(r[l](),a()):i.call(r[0],n,(function(){r.removeData(b),t.effects.cleanUp(r),"hide"===n.mode&&r.hide(),a()})):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):i.call(r[0],n,a)}return!1===r?this.each(u).each(d):this.queue(a,u).queue(a,d)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],(function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])})),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),o=t(e.to),r="fixed"===o.css("position"),a=t("body"),s=r?a.scrollTop():0,l=r?a.scrollLeft():0,c=o.offset(),u={top:c.top-s,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},d=i.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(u,e.duration,e.easing,(function(){h.remove(),t.isFunction(n)&&n()}))}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),v={},t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,e){v[e]=function(e){return Math.pow(e,t+2)}})),t.extend(v,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(v,(function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}})),t.effects,t.effects.define("blind","hide",(function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},o=t(this),r=e.direction||"up",a=o.cssClip(),s={clip:t.extend({},a)},l=t.effects.createPlaceholder(o);s.clip[i[r][0]]=s.clip[i[r][1]],"show"===e.mode&&(o.cssClip(s.clip),l&&l.css(t.effects.clipToBox(s)),s.clip=a),l&&l.animate(t.effects.clipToBox(s),e.duration,e.easing),o.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),t.effects.define("bounce",(function(e,n){var i,o,r,a=t(this),s=e.mode,l="hide"===s,c="show"===s,u=e.direction||"up",d=e.distance,h=e.times||5,p=2*h+(c||l?1:0),f=e.duration/p,g=e.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,_=0,y=a.queue().length;for(t.effects.createPlaceholder(a),r=a.css(m),d||(d=a["top"===m?"outerHeight":"outerWidth"]()/3),c&&((o={opacity:1})[m]=r,a.css("opacity",0).css(m,v?2*-d:2*d).animate(o,f,g)),l&&(d/=Math.pow(2,h-1)),(o={})[m]=r;_<h;_++)(i={})[m]=(v?"-=":"+=")+d,a.animate(i,f,g).animate(o,f,g),d=l?2*d:d/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+d,a.animate(i,f,g)),a.queue(n),t.effects.unshift(a,y,p+1)})),t.effects.define("clip","hide",(function(e,n){var i,o={},r=t(this),a=e.direction||"vertical",s="both"===a,l=s||"horizontal"===a,c=s||"vertical"===a;i=r.cssClip(),o.clip={top:c?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:c?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(r),"show"===e.mode&&(r.cssClip(o.clip),o.clip=i),r.animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),t.effects.define("drop","hide",(function(e,n){var i,o=t(this),r="show"===e.mode,a=e.direction||"left",s="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(o),i=e.distance||o["top"===s?"outerHeight":"outerWidth"](!0)/2,u[s]=l+i,r&&(o.css(u),u[s]=c+i,u.opacity=1),o.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),t.effects.define("explode","hide",(function(e,n){var i,o,r,a,s,l,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=c,d=t(this),h="show"===e.mode,p=d.show().css("visibility","hidden").offset(),f=Math.ceil(d.outerWidth()/u),g=Math.ceil(d.outerHeight()/c),m=[];function v(){m.push(this),m.length===c*u&&(d.css({visibility:"visible"}),t(m).remove(),n())}for(i=0;i<c;i++)for(a=p.top+i*g,l=i-(c-1)/2,o=0;o<u;o++)r=p.left+o*f,s=o-(u-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*f,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:g,left:r+(h?s*f:0),top:a+(h?l*g:0),opacity:h?0:1}).animate({left:r+(h?0:s*f),top:a+(h?0:l*g),opacity:h?1:0},e.duration||500,e.easing,v)})),t.effects.define("fade","toggle",(function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),t.effects.define("fold","hide",(function(e,n){var i=t(this),o=e.mode,r="show"===o,a="hide"===o,s=e.size||15,l=/([0-9]+)%/.exec(s),c=e.horizFirst?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(i),h=i.cssClip(),p={clip:t.extend({},h)},f={clip:t.extend({},h)},g=[h[c[0]],h[c[1]]],m=i.queue().length;l&&(s=parseInt(l[1],10)/100*g[a?0:1]),p.clip[c[0]]=s,f.clip[c[0]]=s,f.clip[c[1]]=0,r&&(i.cssClip(f.clip),d&&d.css(t.effects.clipToBox(f)),f.clip=h),i.queue((function(n){d&&d.animate(t.effects.clipToBox(p),u,e.easing).animate(t.effects.clipToBox(f),u,e.easing),n()})).animate(p,u,e.easing).animate(f,u,e.easing).queue(n),t.effects.unshift(i,m,4)})),t.effects.define("highlight","show",(function(e,n){var i=t(this),o={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(o.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),t.effects.define("size",(function(e,n){var i,o,r,a=t(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.mode,d="effect"!==u,h=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),v=e.from||m,_=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===u&&(r=v,v=_,_=r),o={from:{y:v.height/m.height,x:v.width/m.width},to:{y:_.height/m.height,x:_.width/m.width}},"box"!==h&&"both"!==h||(o.from.y!==o.to.y&&(v=t.effects.setTransition(a,l,o.from.y,v),_=t.effects.setTransition(a,l,o.to.y,_)),o.from.x!==o.to.x&&(v=t.effects.setTransition(a,c,o.from.x,v),_=t.effects.setTransition(a,c,o.to.x,_))),"content"!==h&&"both"!==h||o.from.y!==o.to.y&&(v=t.effects.setTransition(a,s,o.from.y,v),_=t.effects.setTransition(a,s,o.to.y,_)),p&&(i=t.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,_.top=(m.outerHeight-_.outerHeight)*i.y+g.top,_.left=(m.outerWidth-_.outerWidth)*i.x+g.left),a.css(v),"content"!==h&&"both"!==h||(l=l.concat(["marginTop","marginBottom"]).concat(s),c=c.concat(["marginLeft","marginRight"]),a.find("*[width]").each((function(){var n=t(this),i=t.effects.scaledDimensions(n),r={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},a={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x};o.from.y!==o.to.y&&(r=t.effects.setTransition(n,l,o.from.y,r),a=t.effects.setTransition(n,l,o.to.y,a)),o.from.x!==o.to.x&&(r=t.effects.setTransition(n,c,o.from.x,r),a=t.effects.setTransition(n,c,o.to.x,a)),d&&t.effects.saveStyle(n),n.css(r),n.animate(a,e.duration,e.easing,(function(){d&&t.effects.restoreStyle(n)}))}))),a.animate(_,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===_.opacity&&a.css("opacity",v.opacity),d||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),n()}})})),t.effects.define("scale",(function(e,n){var i=t(this),o=e.mode,r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==o?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,r,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,n)})),t.effects.define("puff","hide",(function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)})),t.effects.define("pulsate","show",(function(e,n){var i=t(this),o=e.mode,r="show"===o,a=r||"hide"===o,s=2*(e.times||5)+(a?1:0),l=e.duration/s,c=0,u=1,d=i.queue().length;for(!r&&i.is(":visible")||(i.css("opacity",0).show(),c=1);u<s;u++)i.animate({opacity:c},l,e.easing),c=1-c;i.animate({opacity:c},l,e.easing),i.queue(n),t.effects.unshift(i,d,s+1)})),t.effects.define("shake",(function(e,n){var i=1,o=t(this),r=e.direction||"left",a=e.distance||20,s=e.times||3,l=2*s+1,c=Math.round(e.duration/l),u="up"===r||"down"===r?"top":"left",d="up"===r||"left"===r,h={},p={},f={},g=o.queue().length;for(t.effects.createPlaceholder(o),h[u]=(d?"-=":"+=")+a,p[u]=(d?"+=":"-=")+2*a,f[u]=(d?"-=":"+=")+2*a,o.animate(h,c,e.easing);i<s;i++)o.animate(p,c,e.easing).animate(f,c,e.easing);o.animate(p,c,e.easing).animate(h,c/2,e.easing).queue(n),t.effects.unshift(o,g,l+1)})),t.effects.define("slide","show",(function(e,n){var i,o,r=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0),h={};t.effects.createPlaceholder(r),i=r.cssClip(),o=r.position()[c],h[c]=(u?-1:1)*d+o,h.clip=r.cssClip(),h.clip[a[l][1]]=h.clip[a[l][0]],"show"===s&&(r.cssClip(h.clip),r.css(c,h[c]),h.clip=i,h[c]=o),r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),!1!==t.uiBackCompat&&t.effects.define("transfer",(function(e,n){t(this).transfer(e,n)}))})?i.apply(e,o):i)||(t.exports=r)},755:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(i,o){"use strict";var r=[],a=Object.getPrototypeOf,s=r.slice,l=r.flat?function(t){return r.flat.call(t)}:function(t){return r.concat.apply([],t)},c=r.push,u=r.indexOf,d={},h=d.toString,p=d.hasOwnProperty,f=p.toString,g=f.call(Object),m={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},_=function(t){return null!=t&&t===t.window},y=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var i,o,r=(n=n||y).createElement("script");if(r.text=t,e)for(i in b)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&r.setAttribute(i,o);n.head.appendChild(r).parentNode.removeChild(r)}function k(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[h.call(t)]||"object":typeof t}var x="3.6.0",S=function(t,e){return new S.fn.init(t,e)};function C(t){var e=!!t&&"length"in t&&t.length,n=k(t);return!v(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}S.fn=S.prototype={jquery:x,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:r.sort,splice:r.splice},S.extend=S.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&a!==i&&(c&&i&&(S.isPlainObject(i)||(o=Array.isArray(i)))?(n=a[e],r=o&&!Array.isArray(n)?[]:o||S.isPlainObject(n)?n:{},o=!1,a[e]=S.extend(c,r,i)):void 0!==i&&(a[e]=i));return a},S.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==h.call(t)||(e=a(t))&&("function"!=typeof(n=p.call(e,"constructor")&&e.constructor)||f.call(n)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){w(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?S.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(C(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return l(a)},guid:1,support:m}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=r[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){d["[object "+e+"]"]=e.toLowerCase()}));var T=function(t){var e,n,i,o,r,a,s,l,c,u,d,h,p,f,g,m,v,_,y,b="sizzle"+1*new Date,w=t.document,k=0,x=0,S=lt(),C=lt(),T=lt(),E=lt(),P=function(t,e){return t===e&&(d=!0),0},I={}.hasOwnProperty,D=[],O=D.pop,M=D.push,A=D.push,B=D.slice,R=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$="[\\x20\\t\\r\\n\\f]",N="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\[[\\x20\\t\\r\\n\\f]*("+N+")(?:"+$+"*([*^$|!~]?=)"+$+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+$+"*\\]",j=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp($+"+","g"),W=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),z=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),Y=new RegExp($+"|>"),V=new RegExp(j),X=new RegExp("^"+N+"$"),q={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){h()},at=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{A.apply(D=B.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(t){A={apply:D.length?function(t,e){M.apply(t,B.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function st(t,e,i,o){var r,s,c,u,d,f,v,_=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!o&&(h(e),e=e||p,g)){if(11!==w&&(d=Z.exec(t)))if(r=d[1]){if(9===w){if(!(c=e.getElementById(r)))return i;if(c.id===r)return i.push(c),i}else if(_&&(c=_.getElementById(r))&&y(e,c)&&c.id===r)return i.push(c),i}else{if(d[2])return A.apply(i,e.getElementsByTagName(t)),i;if((r=d[3])&&n.getElementsByClassName&&e.getElementsByClassName)return A.apply(i,e.getElementsByClassName(r)),i}if(n.qsa&&!E[t+" "]&&(!m||!m.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,_=e,1===w&&(Y.test(t)||U.test(t))){for((_=tt.test(t)&&vt(e.parentNode)||e)===e&&n.scope||((u=e.getAttribute("id"))?u=u.replace(it,ot):e.setAttribute("id",u=b)),s=(f=a(t)).length;s--;)f[s]=(u?"#"+u:":scope")+" "+yt(f[s]);v=f.join(",")}try{return A.apply(i,_.querySelectorAll(v)),i}catch(e){E(t,!0)}finally{u===b&&e.removeAttribute("id")}}}return l(t.replace(W,"$1"),e,i,o)}function lt(){var t=[];return function e(n,o){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=o}}function ct(t){return t[b]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var n=t.split("|"),o=n.length;o--;)i.attrHandle[n[o]]=e}function ht(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return ct((function(e){return e=+e,ct((function(n,i){for(var o,r=t([],n.length,e),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},r=st.isXML=function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!G.test(e||n&&n.nodeName||"HTML")},h=st.setDocument=function(t){var e,o,a=t?t.ownerDocument||t:w;return a!=p&&9===a.nodeType&&a.documentElement?(f=(p=a).documentElement,g=!r(p),w!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",rt,!1):o.attachEvent&&o.attachEvent("onunload",rt)),n.scope=ut((function(t){return f.appendChild(t).appendChild(p.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ut((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ut((function(t){return f.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,o,r=e.getElementById(t);if(r){if((n=r.getAttributeNode("id"))&&n.value===t)return[r];for(o=e.getElementsByName(t),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===t)return[r]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=J.test(p.querySelectorAll))&&(ut((function(t){var e;f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+L+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),(e=p.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ut((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=J.test(_=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut((function(t){n.disconnectedMatch=_.call(t,"*"),_.call(t,"[s!='']:x"),v.push("!=",j)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(f.compareDocumentPosition),y=e||J.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},P=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==w&&y(w,t)?-1:e==p||e.ownerDocument==w&&y(w,e)?1:u?R(u,t)-R(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],s=[e];if(!o||!r)return t==p?-1:e==p?1:o?-1:r?1:u?R(u,t)-R(u,e):0;if(o===r)return ht(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ht(a[i],s[i]):a[i]==w?-1:s[i]==w?1:0},p):p},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(h(t),n.matchesSelector&&g&&!E[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=_.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){E(e,!0)}return st(e,p,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=p&&h(t),y(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=p&&h(t);var o=i.attrHandle[e.toLowerCase()],r=o&&I.call(i.attrHandle,e.toLowerCase())?o(t,e,!g):void 0;return void 0!==r?r:n.attributes||!g?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},st.escape=function(t){return(t+"").replace(it,ot)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],o=0,r=0;if(d=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(P),d){for(;e=t[r++];)e===t[r]&&(o=i.push(r));for(;o--;)t.splice(i[o],1)}return u=null,t},o=st.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(i=st.selectors={cacheLength:50,createPseudo:ct,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+$+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var o=st.attr(i,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,p,f,g=r!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),_=!l&&!s,y=!1;if(m){if(r){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&_){for(y=(p=(c=(u=(d=(h=m)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===k&&c[1])&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(y=p=0)||f.pop();)if(1===h.nodeType&&++y&&h===e){u[t]=[k,p,y];break}}else if(_&&(y=p=(c=(u=(d=(h=e)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===k&&c[1]),!1===y)for(;(h=++p&&h&&h[g]||(y=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(_&&((u=(d=h[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[k,y]),h!==e)););return(y-=o)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var n,o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return o[b]?o(e):o.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,n){for(var i,r=o(t,e),a=r.length;a--;)t[i=R(t,r[a])]=!(n[i]=r[a])})):function(t){return o(t,0,n)}):o}},pseudos:{not:ct((function(t){var e=[],n=[],i=s(t.replace(W,"$1"));return i[b]?ct((function(t,e,n,o){for(var r,a=i(t,null,o,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))})):function(t,o,r){return e[0]=t,i(e,null,r,n),e[0]=null,!n.pop()}})),has:ct((function(t){return function(e){return st(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:ct((function(t){return X.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt((function(){return[0]})),last:mt((function(t,e){return[e-1]})),eq:mt((function(t,e,n){return[n<0?n+e:n]})),even:mt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:mt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:mt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:mt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function _t(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,o=e.next,r=o||i,a=n&&"parentNode"===r,s=x++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,o);return!1}:function(e,n,l){var c,u,d,h=[k,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=(d=e[b]||(e[b]={}))[e.uniqueID]||(d[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=u[r])&&c[0]===k&&c[1]===s)return h[2]=c[2];if(u[r]=h,h[2]=t(e,n,l))return!0}return!1}}function wt(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function kt(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function xt(t,e,n,i,o,r){return i&&!i[b]&&(i=xt(i)),o&&!o[b]&&(o=xt(o,r)),ct((function(r,a,s,l){var c,u,d,h=[],p=[],f=a.length,g=r||function(t,e,n){for(var i=0,o=e.length;i<o;i++)st(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!r&&e?g:kt(g,h,t,s,l),v=n?o||(r?t:f||i)?[]:a:m;if(n&&n(m,v,s,l),i)for(c=kt(v,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(m[p[u]]=d));if(r){if(o||t){if(o){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(m[u]=d);o(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=o?R(r,d):h[u])>-1&&(r[c]=!(a[c]=d))}}else v=kt(v===a?v.splice(f,v.length):v),o?o(null,a,v,l):A.apply(a,v)}))}function St(t){for(var e,n,o,r=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],l=a?1:0,u=bt((function(t){return t===e}),s,!0),d=bt((function(t){return R(e,t)>-1}),s,!0),h=[function(t,n,i){var o=!a&&(i||n!==c)||((e=n).nodeType?u(t,n,i):d(t,n,i));return e=null,o}];l<r;l++)if(n=i.relative[t[l].type])h=[bt(wt(h),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[b]){for(o=++l;o<r&&!i.relative[t[o].type];o++);return xt(l>1&&wt(h),l>1&&yt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(W,"$1"),n,l<o&&St(t.slice(l,o)),o<r&&St(t=t.slice(o)),o<r&&yt(t))}h.push(n)}return wt(h)}return _t.prototype=i.filters=i.pseudos,i.setFilters=new _t,a=st.tokenize=function(t,e){var n,o,r,a,s,l,c,u=C[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(a in n&&!(o=z.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=U.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(W," ")}),s=s.slice(n.length)),i.filter)!(o=q[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):C(t,l).slice(0)},s=st.compile=function(t,e){var n,o=[],r=[],s=T[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=St(e[n]))[b]?o.push(s):r.push(s);(s=T(t,function(t,e){var n=e.length>0,o=t.length>0,r=function(r,a,s,l,u){var d,f,m,v=0,_="0",y=r&&[],b=[],w=c,x=r||o&&i.find.TAG("*",u),S=k+=null==w?1:Math.random()||.1,C=x.length;for(u&&(c=a==p||a||u);_!==C&&null!=(d=x[_]);_++){if(o&&d){for(f=0,a||d.ownerDocument==p||(h(d),s=!g);m=t[f++];)if(m(d,a||p,s)){l.push(d);break}u&&(k=S)}n&&((d=!m&&d)&&v--,r&&y.push(d))}if(v+=_,n&&_!==v){for(f=0;m=e[f++];)m(y,b,a,s);if(r){if(v>0)for(;_--;)y[_]||b[_]||(b[_]=O.call(l));b=kt(b)}A.apply(l,b),u&&!r&&b.length>0&&v+e.length>1&&st.uniqueSort(l)}return u&&(k=S,c=w),y};return n?ct(r):r}(r,o))).selector=t}return s},l=st.select=function(t,e,n,o){var r,l,c,u,d,h="function"==typeof t&&t,p=!o&&a(t=h.selector||t);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(r=q.needsContext.test(t)?0:l.length;r--&&(c=l[r],!i.relative[u=c.type]);)if((d=i.find[u])&&(o=d(c.matches[0].replace(et,nt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(r,1),!(t=o.length&&yt(l)))return A.apply(n,o),n;break}}return(h||s(t,p))(o,e,!g,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=b.split("").sort(P).join("")===b,n.detectDuplicates=!!d,h(),n.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||dt("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||dt("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||dt(L,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),st}(i);S.find=T,S.expr=T.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=T.uniqueSort,S.text=T.getText,S.isXMLDoc=T.isXML,S.contains=T.contains,S.escapeSelector=T.escape;var E=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&S(t).is(n))break;i.push(t)}return i},P=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},I=S.expr.match.needsContext;function D(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(t,e,n){return v(e)?S.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?S.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?S.grep(t,(function(t){return u.call(e,t)>-1!==n})):S.filter(e,t,n)}S.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?S.find.matchesSelector(i,t)?[i]:[]:S.find.matches(t,S.grep(e,(function(t){return 1===t.nodeType})))},S.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(S(t).filter((function(){for(e=0;e<i;e++)if(S.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)S.find(t,o[e],n);return i>1?S.uniqueSort(n):n},filter:function(t){return this.pushStack(M(this,t||[],!1))},not:function(t){return this.pushStack(M(this,t||[],!0))},is:function(t){return!!M(this,"string"==typeof t&&I.test(t)?S(t):t||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||A,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:B.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:y,!0)),O.test(i[1])&&S.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=y.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,A=S(y);var R=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function $(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,o=this.length,r=[],a="string"!=typeof t&&S(t);if(!I.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?S.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?u.call(S(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return $(t,"nextSibling")},prev:function(t){return $(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return P((t.parentNode||{}).firstChild,t)},children:function(t){return P(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(D(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},(function(t,e){S.fn[t]=function(n,i){var o=S.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=S.filter(i,o)),this.length>1&&(L[t]||S.uniqueSort(o),R.test(t)&&o.reverse()),this.pushStack(o)}}));var N=/[^\x20\t\r\n\f]+/g;function F(t){return t}function j(t){throw t}function H(t,e,n,i){var o;try{t&&v(o=t.promise)?o.call(t).done(e).fail(n):t&&v(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(N)||[],(function(t,n){e[n]=!0})),e}(t):S.extend({},t);var e,n,i,o,r=[],a=[],s=-1,l=function(){for(o=o||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<r.length;)!1===r[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=r.length,n=!1);t.memory||(n=!1),e=!1,o&&(r=n?[]:"")},c={add:function(){return r&&(n&&!e&&(s=r.length-1,a.push(n)),function e(n){S.each(n,(function(n,i){v(i)?t.unique&&c.has(i)||r.push(i):i&&i.length&&"string"!==k(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return S.each(arguments,(function(t,e){for(var n;(n=S.inArray(e,r,n))>-1;)r.splice(n,1),n<=s&&s--})),this},has:function(t){return t?S.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=a=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=a=[],n||e||(r=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return S.Deferred((function(n){S.each(e,(function(e,i){var o=v(t[i[4]])&&t[i[4]];r[i[1]]((function(){var t=o&&o.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,o){var r=0;function a(t,e,n,o){return function(){var s=this,l=arguments,c=function(){var i,c;if(!(t<r)){if((i=n.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(c)?o?c.call(i,a(r,e,F,o),a(r,e,j,o)):(r++,c.call(i,a(r,e,F,o),a(r,e,j,o),a(r,e,F,e.notifyWith))):(n!==F&&(s=void 0,l=[i]),(o||e.resolveWith)(s,l))}},u=o?c:function(){try{c()}catch(i){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(i,u.stackTrace),t+1>=r&&(n!==j&&(s=void 0,l=[i]),e.rejectWith(s,l))}};t?u():(S.Deferred.getStackHook&&(u.stackTrace=S.Deferred.getStackHook()),i.setTimeout(u))}}return S.Deferred((function(i){e[0][3].add(a(0,i,v(o)?o:F,i.notifyWith)),e[1][3].add(a(0,i,v(t)?t:F)),e[2][3].add(a(0,i,v(n)?n:j))})).promise()},promise:function(t){return null!=t?S.extend(t,o):o}},r={};return S.each(e,(function(t,i){var a=i[2],s=i[5];o[i[1]]=a.add,s&&a.add((function(){n=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(i[3].fire),r[i[0]]=function(){return r[i[0]+"With"](this===r?void 0:this,arguments),this},r[i[0]+"With"]=a.fireWith})),o.promise(r),t&&t.call(r,r),r},when:function(t){var e=arguments.length,n=e,i=Array(n),o=s.call(arguments),r=S.Deferred(),a=function(t){return function(n){i[t]=this,o[t]=arguments.length>1?s.call(arguments):n,--e||r.resolveWith(i,o)}};if(e<=1&&(H(t,r.done(a(n)).resolve,r.reject,!e),"pending"===r.state()||v(o[n]&&o[n].then)))return r.then();for(;n--;)H(o[n],a(n),r.reject);return r.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&W.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){i.setTimeout((function(){throw t}))};var z=S.Deferred();function U(){y.removeEventListener("DOMContentLoaded",U),i.removeEventListener("load",U),S.ready()}S.fn.ready=function(t){return z.then(t).catch((function(t){S.readyException(t)})),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||z.resolveWith(y,[S]))}}),S.ready.then=z.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(S.ready):(y.addEventListener("DOMContentLoaded",U),i.addEventListener("load",U));var Y=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===k(n))for(s in o=!0,n)Y(t,e,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,v(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(S(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},V=/^-ms-/,X=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function G(t){return t.replace(V,"ms-").replace(X,q)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=S.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[G(e)]=n;else for(i in e)o[G(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(G):(e=G(e))in i?[e]:e.match(N)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||S.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var J=new Q,Z=new Q,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return Z.hasData(t)||J.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),S.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=Z.get(r),1===r.nodeType&&!J.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=G(i.slice(5)),nt(r,i,o[i]));J.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each((function(){Z.set(this,t)})):Y(this,(function(e){var n;if(r&&void 0===e)return void 0!==(n=Z.get(r,t))||void 0!==(n=nt(r,t))?n:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),S.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,S.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),i=n.length,o=n.shift(),r=S._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,(function(){S.dequeue(t,e)}),r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:S.Callbacks("once memory").add((function(){J.remove(t,[e+"queue",n])}))})}}),S.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?S.queue(this[0],t):void 0===e?this:this.each((function(){var n=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&S.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){S.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=S.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=J.get(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],at=y.documentElement,st=function(t){return S.contains(t.ownerDocument,t)},lt={composed:!0};at.getRootNode&&(st=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===S.css(t,"display")};function ut(t,e,n,i){var o,r,a=20,s=i?function(){return i.cur()}:function(){return S.css(t,e,"")},l=s(),c=n&&n[3]||(S.cssNumber[e]?"":"px"),u=t.nodeType&&(S.cssNumber[e]||"px"!==c&&+l)&&ot.exec(S.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)S.style(t,e,u+c),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),u/=r;u*=2,S.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}var dt={};function ht(t){var e,n=t.ownerDocument,i=t.nodeName,o=dt[i];return o||(e=n.body.appendChild(n.createElement(i)),o=S.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),dt[i]=o,o)}function pt(t,e){for(var n,i,o=[],r=0,a=t.length;r<a;r++)(i=t[r]).style&&(n=i.style.display,e?("none"===n&&(o[r]=J.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&ct(i)&&(o[r]=ht(i))):"none"!==n&&(o[r]="none",J.set(i,"display",n)));for(r=0;r<a;r++)null!=o[r]&&(t[r].style.display=o[r]);return t}S.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ct(this)?S(this).show():S(this).hide()}))}});var ft,gt,mt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,_t=/^$|^module$|\/(?:java|ecma)script/i;ft=y.createDocumentFragment().appendChild(y.createElement("div")),(gt=y.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),ft.appendChild(gt),m.checkClone=ft.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!ft.cloneNode(!0).lastChild.defaultValue,ft.innerHTML="<option></option>",m.option=!!ft.lastChild;var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&D(t,e)?S.merge([t],n):n}function wt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,m.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);var kt=/<|&#?\w+;/;function xt(t,e,n,i,o){for(var r,a,s,l,c,u,d=e.createDocumentFragment(),h=[],p=0,f=t.length;p<f;p++)if((r=t[p])||0===r)if("object"===k(r))S.merge(h,r.nodeType?[r]:r);else if(kt.test(r)){for(a=a||d.appendChild(e.createElement("div")),s=(vt.exec(r)||["",""])[1].toLowerCase(),l=yt[s]||yt._default,a.innerHTML=l[1]+S.htmlPrefilter(r)+l[2],u=l[0];u--;)a=a.lastChild;S.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(e.createTextNode(r));for(d.textContent="",p=0;r=h[p++];)if(i&&S.inArray(r,i)>-1)o&&o.push(r);else if(c=st(r),a=bt(d.appendChild(r),"script"),c&&wt(a),n)for(u=0;r=a[u++];)_t.test(r.type||"")&&n.push(r);return d}var St=/^([^.]*)(?:\.(.+)|)/;function Ct(){return!0}function Tt(){return!1}function Et(t,e){return t===function(){try{return y.activeElement}catch(t){}}()==("focus"===e)}function Pt(t,e,n,i,o,r){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)Pt(t,s,n,i,e[s],r);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Tt;else if(!o)return t;return 1===r&&(a=o,(o=function(t){return S().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),t.each((function(){S.event.add(this,e,o,i,n)}))}function It(t,e,n){n?(J.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var i,o,r=J.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=s.call(arguments),J.set(this,e,r),i=n(this,e),this[e](),r!==(o=J.get(this,e))||i?J.set(this,e,!1):o={},r!==o)return t.stopImmediatePropagation(),t.preventDefault(),o&&o.value}else r.length&&(J.set(this,e,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&S.event.add(t,e,Ct)}S.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,p,f,g,m=J.get(t);if(K(t))for(n.handler&&(n=(r=n).handler,o=r.selector),o&&S.find.matchesSelector(at,o),n.guid||(n.guid=S.guid++),(l=m.events)||(l=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(N)||[""]).length;c--;)p=g=(s=St.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(d=S.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=S.event.special[p]||{},u=S.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&S.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(p,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),S.event.global[p]=!0)},remove:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,p,f,g,m=J.hasData(t)&&J.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(N)||[""]).length;c--;)if(p=g=(s=St.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=S.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)u=h[r],!o&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(r,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,f,m.handle)||S.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)S.event.remove(t,p+e[c],n,i,!0);S.isEmptyObject(l)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,r,a,s=new Array(arguments.length),l=S.event.fix(t),c=(J.get(this,"events")||Object.create(null))[l.type]||[],u=S.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=S.event.handlers.call(this,l,c),e=0;(o=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(i=((S.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,o,r,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)void 0===a[o=(i=e[n]).selector+" "]&&(a[o]=i.needsContext?S(o,this).index(c)>-1:S.find(o,this,null,[c]).length),a[o]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&D(e,"input")&&It(e,"click",Ct),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&D(e,"input")&&It(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&D(e,"input")&&J.get(e,"click")||D(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ct:Tt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Tt,isPropagationStopped:Tt,isImmediatePropagationStopped:Tt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ct,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ct,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ct,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(t,e){S.event.special[t]={setup:function(){return It(this,t,Et),!1},trigger:function(){return It(this,t),!0},_default:function(){return!0},delegateType:e}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===i||S.contains(i,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}})),S.fn.extend({on:function(t,e,n,i){return Pt(this,t,e,n,i)},one:function(t,e,n,i){return Pt(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,S(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Tt),this.each((function(){S.event.remove(this,t,n,e)}))}});var Dt=/<script|<style|<link/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function At(t,e){return D(t,"table")&&D(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Bt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Rt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Lt(t,e){var n,i,o,r,a,s;if(1===e.nodeType){if(J.hasData(t)&&(s=J.get(t).events))for(o in J.remove(e,"handle events"),s)for(n=0,i=s[o].length;n<i;n++)S.event.add(e,o,s[o][n]);Z.hasData(t)&&(r=Z.access(t),a=S.extend({},r),Z.set(e,a))}}function $t(t,e){var n=e.nodeName.toLowerCase();"input"===n&&mt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Nt(t,e,n,i){e=l(e);var o,r,a,s,c,u,d=0,h=t.length,p=h-1,f=e[0],g=v(f);if(g||h>1&&"string"==typeof f&&!m.checkClone&&Ot.test(f))return t.each((function(o){var r=t.eq(o);g&&(e[0]=f.call(this,o,r.html())),Nt(r,e,n,i)}));if(h&&(r=(o=xt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(s=(a=S.map(bt(o,"script"),Bt)).length;d<h;d++)c=o,d!==p&&(c=S.clone(c,!0,!0),s&&S.merge(a,bt(c,"script"))),n.call(t[d],c,d);if(s)for(u=a[a.length-1].ownerDocument,S.map(a,Rt),d=0;d<s;d++)c=a[d],_t.test(c.type||"")&&!J.access(c,"globalEval")&&S.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?S._evalUrl&&!c.noModule&&S._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(Mt,""),c,u))}return t}function Ft(t,e,n){for(var i,o=e?S.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||S.cleanData(bt(i)),i.parentNode&&(n&&st(i)&&wt(bt(i,"script")),i.parentNode.removeChild(i));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,r,a,s=t.cloneNode(!0),l=st(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(a=bt(s),i=0,o=(r=bt(t)).length;i<o;i++)$t(r[i],a[i]);if(e)if(n)for(r=r||bt(t),a=a||bt(s),i=0,o=r.length;i<o;i++)Lt(r[i],a[i]);else Lt(t,s);return(a=bt(s,"script")).length>0&&wt(a,!l&&bt(t,"script")),s},cleanData:function(t){for(var e,n,i,o=S.event.special,r=0;void 0!==(n=t[r]);r++)if(K(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)o[i]?S.event.remove(n,i):S.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Ft(this,t,!0)},remove:function(t){return Ft(this,t)},text:function(t){return Y(this,(function(t){return void 0===t?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Nt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||At(this,t).appendChild(t)}))},prepend:function(){return Nt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=At(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Nt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Nt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return S.clone(this,t,e)}))},html:function(t){return Y(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!yt[(vt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,(function(e){var n=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(bt(this)),n&&n.replaceChild(e,this))}),t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){S.fn[t]=function(t){for(var n,i=[],o=S(t),r=o.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),S(o[a])[e](n),c.apply(i,n.get());return this.pushStack(i)}}));var jt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Ht=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Wt=function(t,e,n){var i,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];for(o in i=n.call(t),e)t.style[o]=r[o];return i},zt=new RegExp(rt.join("|"),"i");function Ut(t,e,n){var i,o,r,a,s=t.style;return(n=n||Ht(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||st(t)||(a=S.style(t,e)),!m.pixelBoxStyles()&&jt.test(a)&&zt.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(c).appendChild(u);var t=i.getComputedStyle(u);n="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",a=36===e(t.right),o=36===e(t.width),u.style.position="absolute",r=12===e(u.offsetWidth/3),at.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var n,o,r,a,s,l,c=y.createElement("div"),u=y.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,S.extend(m,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),r},reliableTrDimensions:function(){var t,e,n,o;return null==s&&(t=y.createElement("table"),e=y.createElement("tr"),n=y.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",at.appendChild(t).appendChild(e).appendChild(n),o=i.getComputedStyle(e),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===e.offsetHeight,at.removeChild(t)),s}}))}();var Vt=["Webkit","Moz","ms"],Xt=y.createElement("div").style,qt={};function Gt(t){return S.cssProps[t]||qt[t]||(t in Xt?t:qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Vt.length;n--;)if((t=Vt[n]+e)in Xt)return t}(t)||t)}var Kt=/^(none|table(?!-c[ea]).+)/,Qt=/^--/,Jt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"};function te(t,e,n){var i=ot.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ee(t,e,n,i,o,r){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=S.css(t,n+rt[a],!0,o)),i?("content"===n&&(l-=S.css(t,"padding"+rt[a],!0,o)),"margin"!==n&&(l-=S.css(t,"border"+rt[a]+"Width",!0,o))):(l+=S.css(t,"padding"+rt[a],!0,o),"padding"!==n?l+=S.css(t,"border"+rt[a]+"Width",!0,o):s+=S.css(t,"border"+rt[a]+"Width",!0,o));return!i&&r>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-s-.5))||0),l}function ne(t,e,n){var i=Ht(t),o=(!m.boxSizingReliable()||n)&&"border-box"===S.css(t,"boxSizing",!1,i),r=o,a=Ut(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(jt.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&o||!m.reliableTrDimensions()&&D(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(t,"display",!1,i))&&t.getClientRects().length&&(o="border-box"===S.css(t,"boxSizing",!1,i),(r=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+ee(t,e,n||(o?"border":"content"),r,i,a)+"px"}function ie(t,e,n,i,o){return new ie.prototype.init(t,e,n,i,o)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ut(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=G(e),l=Qt.test(e),c=t.style;if(l||(e=Gt(s)),a=S.cssHooks[e]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(t,!1,i))?o:c[e];"string"==(r=typeof n)&&(o=ot.exec(n))&&o[1]&&(n=ut(t,e,o),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=o&&o[3]||(S.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var o,r,a,s=G(e);return Qt.test(e)||(e=Gt(s)),(a=S.cssHooks[e]||S.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=Ut(t,e,i)),"normal"===o&&e in Zt&&(o=Zt[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),S.each(["height","width"],(function(t,e){S.cssHooks[e]={get:function(t,n,i){if(n)return!Kt.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ne(t,e,i):Wt(t,Jt,(function(){return ne(t,e,i)}))},set:function(t,n,i){var o,r=Ht(t),a=!m.scrollboxSize()&&"absolute"===r.position,s=(a||i)&&"border-box"===S.css(t,"boxSizing",!1,r),l=i?ee(t,e,i,s,r):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-ee(t,e,"border",!1,r)-.5)),l&&(o=ot.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=S.css(t,e)),te(0,n,l)}}})),S.cssHooks.marginLeft=Yt(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Ut(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(t,e){S.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+rt[i]+e]=r[i]||r[i-2]||r[0];return o}},"margin"!==t&&(S.cssHooks[t+e].set=te)})),S.fn.extend({css:function(t,e){return Y(this,(function(t,e,n){var i,o,r={},a=0;if(Array.isArray(e)){for(i=Ht(t),o=e.length;a<o;a++)r[e[a]]=S.css(t,e[a],!1,i);return r}return void 0!==n?S.style(t,e,n):S.css(t,e)}),t,e,arguments.length>1)}}),S.Tween=ie,ie.prototype={constructor:ie,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(S.cssNumber[n]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,n=ie.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ie.propHooks._default.set(this),this}},ie.prototype.init.prototype=ie.prototype,ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Gt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},ie.propHooks.scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=ie.prototype.init,S.fx.step={};var oe,re,ae=/^(?:toggle|show|hide)$/,se=/queueHooks$/;function le(){re&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(le):i.setTimeout(le,S.fx.interval),S.fx.tick())}function ce(){return i.setTimeout((function(){oe=void 0})),oe=Date.now()}function ue(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o["margin"+(n=rt[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function de(t,e,n){for(var i,o=(he.tweeners[e]||[]).concat(he.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function he(t,e,n){var i,o,r=0,a=he.prefilters.length,s=S.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var e=oe||ce(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),r=0,a=c.tweens.length;r<a;r++)c.tweens[r].run(i);return s.notifyWith(t,[c,i,n]),i<1&&a?n:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var i=S.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var n,i,o,r,a;for(n in t)if(o=e[i=G(n)],r=t[n],Array.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=S.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}(u,c.opts.specialEasing);r<a;r++)if(i=he.prefilters[r].call(c,t,u,c.opts))return v(i.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return S.map(u,de,c),v(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(he,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,ot.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(N);for(var n,i=0,o=t.length;i<o;i++)n=t[i],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,o,r,a,s,l,c,u,d="width"in e||"height"in e,h=this,p={},f=t.style,g=t.nodeType&&ct(t),m=J.get(t,"fxshow");for(i in n.queue||(null==(a=S._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,S.queue(t,"fx").length||a.empty.fire()}))}))),e)if(o=e[i],ae.test(o)){if(delete e[i],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||S.style(t,i)}if((l=!S.isEmptyObject(e))||!S.isEmptyObject(p))for(i in d&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=J.get(t,"display")),"none"===(u=S.css(t,"display"))&&(c?u=c:(pt([t],!0),c=t.style.display||c,u=S.css(t,"display"),pt([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===S.css(t,"float")&&(l||(h.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=J.access(t,"fxshow",{display:c}),r&&(m.hidden=!g),g&&pt([t],!0),h.done((function(){for(i in g||pt([t]),J.remove(t,"fxshow"),p)S.style(t,i,p[i])}))),l=de(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),S.speed=function(t,e,n){var i=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return S.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in S.fx.speeds?i.duration=S.fx.speeds[i.duration]:i.duration=S.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=S.isEmptyObject(t),r=S.speed(e,n,i),a=function(){var e=he(this,S.extend({},t),r);(o||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",r=S.timers,a=J.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&se.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||S.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=J.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=S.timers,a=i?i.length:0;for(n.finish=!0,S.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),S.each(["toggle","show","hide"],(function(t,e){var n=S.fn[e];S.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,i,o)}})),S.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){S.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(oe=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),oe=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){re||(re=!0,le())},S.fx.stop=function(){re=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var o=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(o)}}))},function(){var t=y.createElement("input"),e=y.createElement("select").appendChild(y.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=y.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var pe,fe=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return Y(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){S.removeAttr(this,t)}))}}),S.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?S.prop(t,e,n):(1===r&&S.isXMLDoc(t)||(o=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?pe:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=S.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&D(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(N);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),pe={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=fe[e]||S.find.attr;fe[e]=function(t,e,i){var o,r,a=e.toLowerCase();return i||(r=fe[a],fe[a]=o,o=null!=n(t,e,i)?a:null,fe[a]=r),o}}));var ge=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ve(t){return(t.match(N)||[]).join(" ")}function _e(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}S.fn.extend({prop:function(t,e){return Y(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[S.propFix[t]||t]}))}}),S.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&S.isXMLDoc(t)||(e=S.propFix[e]||e,o=S.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(t){var e,n,i,o,r,a,s,l=0;if(v(t))return this.each((function(e){S(this).addClass(t.call(this,e,_e(this)))}));if((e=ye(t)).length)for(;n=this[l++];)if(o=_e(n),i=1===n.nodeType&&" "+ve(o)+" "){for(a=0;r=e[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(s=ve(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,o,r,a,s,l=0;if(v(t))return this.each((function(e){S(this).removeClass(t.call(this,e,_e(this)))}));if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[l++];)if(o=_e(n),i=1===n.nodeType&&" "+ve(o)+" "){for(a=0;r=e[a++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(s=ve(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(n){S(this).toggleClass(t.call(this,n,_e(this),e),e)})):this.each((function(){var e,o,r,a;if(i)for(o=0,r=S(this),a=ye(t);e=a[o++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=_e(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ve(_e(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;S.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=v(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,S(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=S.map(o,(function(t){return null==t?"":t+""}))),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=S.valHooks[o.type]||S.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(be,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:ve(S.text(t))}},select:{get:function(t){var e,n,i,o=t.options,r=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?r+1:o.length;for(i=r<0?l:a?r:0;i<l;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(e=S(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=S.makeArray(e),a=o.length;a--;)((i=o[a]).selected=S.inArray(S.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},m.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in i;var we=/^(?:focusinfocus|focusoutblur)$/,ke=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,n,o){var r,a,s,l,c,u,d,h,f=[n||y],g=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];if(a=h=s=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!we.test(g+S.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[S.expando]?t:new S.Event(g,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:S.makeArray(e,[t]),d=S.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(n,e))){if(!o&&!d.noBubble&&!_(n)){for(l=d.delegateType||g,we.test(l+g)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||y)&&f.push(s.defaultView||s.parentWindow||i)}for(r=0;(a=f[r++])&&!t.isPropagationStopped();)h=a,t.type=r>1?l:d.bindType||g,(u=(J.get(a,"events")||Object.create(null))[t.type]&&J.get(a,"handle"))&&u.apply(a,e),(u=c&&a[c])&&u.apply&&K(a)&&(t.result=u.apply(a,e),!1===t.result&&t.preventDefault());return t.type=g,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),e)||!K(n)||c&&v(n[g])&&!_(n)&&((s=n[c])&&(n[c]=null),S.event.triggered=g,t.isPropagationStopped()&&h.addEventListener(g,ke),n[g](),t.isPropagationStopped()&&h.removeEventListener(g,ke),S.event.triggered=void 0,s&&(n[c]=s)),t.result}},simulate:function(t,e,n){var i=S.extend(new S.Event,n,{type:t,isSimulated:!0});S.event.trigger(i,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each((function(){S.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}}),m.focusin||S.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,o=J.access(i,e);o||i.addEventListener(t,n,!0),J.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=J.access(i,e)-1;o?J.access(i,e,o):(i.removeEventListener(t,n,!0),J.remove(i,e))}}}));var xe=i.location,Se={guid:Date.now()},Ce=/\?/;S.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Te=/\[\]$/,Ee=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;function De(t,e,n,i){var o;if(Array.isArray(e))S.each(e,(function(e,o){n||Te.test(t)?i(t,o):De(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)}));else if(n||"object"!==k(e))i(t,e);else for(o in e)De(t+"["+o+"]",e[o],n,i)}S.param=function(t,e){var n,i=[],o=function(t,e){var n=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,(function(){o(this.name,this.value)}));else for(n in t)De(n,t[n],e,o);return i.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Ie.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!mt.test(t))})).map((function(t,e){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,(function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}})):{name:e.name,value:n.replace(Ee,"\r\n")}})).get()}});var Oe=/%20/g,Me=/#.*$/,Ae=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,Re=/^(?:GET|HEAD)$/,Le=/^\/\//,$e={},Ne={},Fe="*/".concat("*"),je=y.createElement("a");function He(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(N)||[];if(v(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function We(t,e,n,i){var o={},r=t===Ne;function a(s){var l;return o[s]=!0,S.each(t[s]||[],(function(t,s){var c=s(e,n,i);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)})),l}return a(e.dataTypes[0])||!o["*"]&&a("*")}function ze(t,e){var n,i,o=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&S.extend(!0,t,i),t}je.href=xe.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ze(ze(t,S.ajaxSettings),e):ze(S.ajaxSettings,t)},ajaxPrefilter:He($e),ajaxTransport:He(Ne),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,r,a,s,l,c,u,d,h,p=S.ajaxSetup({},e),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?S(f):S.event,m=S.Deferred(),v=S.Callbacks("once memory"),_=p.statusCode||{},b={},w={},k="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Be.exec(r);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?r:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)x.always(t[x.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||k;return n&&n.abort(e),C(0,e),this}};if(m.promise(x),p.url=((t||p.url||xe.href)+"").replace(Le,xe.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){l=y.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=je.protocol+"//"+je.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=S.param(p.data,p.traditional)),We($e,p,e,x),c)return x;for(d in(u=S.event&&p.global)&&0==S.active++&&S.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Re.test(p.type),o=p.url.replace(Me,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Oe,"+")):(h=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Ce.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ae,"$1"),h=(Ce.test(o)?"&":"?")+"_="+Se.guid+++h),p.url=o+h),p.ifModified&&(S.lastModified[o]&&x.setRequestHeader("If-Modified-Since",S.lastModified[o]),S.etag[o]&&x.setRequestHeader("If-None-Match",S.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Fe+"; q=0.01":""):p.accepts["*"]),p.headers)x.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,x,p)||c))return x.abort();if(k="abort",v.add(p.complete),x.done(p.success),x.fail(p.error),n=We(Ne,p,e,x)){if(x.readyState=1,u&&g.trigger("ajaxSend",[x,p]),c)return x;p.async&&p.timeout>0&&(s=i.setTimeout((function(){x.abort("timeout")}),p.timeout));try{c=!1,n.send(b,C)}catch(t){if(c)throw t;C(-1,t)}}else C(-1,"No Transport");function C(t,e,a,l){var d,h,y,b,w,k=e;c||(c=!0,s&&i.clearTimeout(s),n=void 0,r=l||"",x.readyState=t>0?4:0,d=t>=200&&t<300||304===t,a&&(b=function(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}(p,x,a)),!d&&S.inArray("script",p.dataTypes)>-1&&S.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=function(t,e,n,i){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(p,b,x,d),d?(p.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(S.lastModified[o]=w),(w=x.getResponseHeader("etag"))&&(S.etag[o]=w)),204===t||"HEAD"===p.type?k="nocontent":304===t?k="notmodified":(k=b.state,h=b.data,d=!(y=b.error))):(y=k,!t&&k||(k="error",t<0&&(t=0))),x.status=t,x.statusText=(e||k)+"",d?m.resolveWith(f,[h,k,x]):m.rejectWith(f,[x,k,y]),x.statusCode(_),_=void 0,u&&g.trigger(d?"ajaxSuccess":"ajaxError",[x,p,d?h:y]),v.fireWith(f,[x,k]),u&&(g.trigger("ajaxComplete",[x,p]),--S.active||S.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],(function(t,e){S[e]=function(t,n,i,o){return v(n)&&(o=o||i,i=n,n=void 0),S.ajax(S.extend({url:t,type:e,dataType:o,data:n,success:i},S.isPlainObject(t)&&t))}})),S.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),S._evalUrl=function(t,e,n){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,n)}})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){S(this).wrapInner(t.call(this,e))})):this.each((function(){var e=S(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(n){S(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},Ye=S.ajaxSettings.xhr();m.cors=!!Ye&&"withCredentials"in Ye,m.ajax=Ye=!!Ye,S.ajaxTransport((function(t){var e,n;if(m.cors||Ye&&!t.crossDomain)return{send:function(o,r){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Ue[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),S.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),S.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,o){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),y.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ve,Xe=[],qe=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||S.expando+"_"+Se.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",(function(t,e,n){var o,r,a,s=!1!==t.jsonp&&(qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&qe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(qe,"$1"+o):!1!==t.jsonp&&(t.url+=(Ce.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||S.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=i[o],i[o]=function(){a=arguments},n.always((function(){void 0===r?S(i).removeProp(o):i[o]=r,t[o]&&(t.jsonpCallback=e.jsonpCallback,Xe.push(o)),a&&v(r)&&r(a[0]),a=r=void 0})),"script"})),m.createHTMLDocument=((Ve=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ve.childNodes.length),S.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,e.head.appendChild(i)):e=y),r=!n&&[],(o=O.exec(t))?[e.createElement(o[1])]:(o=xt([t],e,r),r&&r.length&&S(r).remove(),S.merge([],o.childNodes)));var i,o,r},S.fn.load=function(t,e,n){var i,o,r,a=this,s=t.indexOf(" ");return s>-1&&(i=ve(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&S.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){r=arguments,a.html(i?S("<div>").append(S.parseHTML(t)).find(i):t)})).always(n&&function(t,e){a.each((function(){n.apply(this,r||[t.responseText,e,t])}))}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,(function(e){return t===e.elem})).length},S.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c=S.css(t,"position"),u=S(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),r=S.css(t,"top"),l=S.css(t,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(a=(i=u.position()).top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),v(e)&&(e=e.call(t,n,S.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):u.css(d)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){S.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if("fixed"===S.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),o.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-S.css(i,"marginTop",!0),left:e.left-o.left-S.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||at}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;S.fn[t]=function(i){return Y(this,(function(t,i,o){var r;if(_(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===o)return r?r[e]:t[i];r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):t[i]=o}),t,i,arguments.length)}})),S.each(["top","left"],(function(t,e){S.cssHooks[e]=Yt(m.pixelPosition,(function(t,n){if(n)return n=Ut(t,e),jt.test(n)?S(t).position()[e]+"px":n}))})),S.each({Height:"height",Width:"width"},(function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){S.fn[i]=function(o,r){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===r?"margin":"border");return Y(this,(function(e,n,o){var r;return _(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===o?S.css(e,n,s):S.style(e,n,o,s)}),e,a?o:void 0,a)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){S.fn[e]=function(t){return this.on(e,t)}})),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){S.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var n,i,o;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return i=s.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||S.guid++,o},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=D,S.isFunction=v,S.isWindow=_,S.camelCase=G,S.type=k,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Ge,"")},void 0===(n=function(){return S}.apply(e,[]))||(t.exports=n);var Ke=i.jQuery,Qe=i.$;return S.noConflict=function(t){return i.$===S&&(i.$=Qe),t&&i.jQuery===S&&(i.jQuery=Ke),S},void 0===o&&(i.jQuery=i.$=S),S}))},981:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>rt});var i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,o=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(i&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}(),r=i&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),o))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function s(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=s(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(n+o+i)?t:c(l(t))}function u(t){return t&&t.referenceNode?t.referenceNode:t}var d=i&&!(!window.MSInputMethodContext||!document.documentMode),h=i&&/MSIE 10/.test(navigator.userAgent);function p(t){return 11===t?d:10===t?h:d||h}function f(t){if(!t)return document.documentElement;for(var e=p(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===s(n,"position")?f(n):n:t?t.ownerDocument.documentElement:document.documentElement}function g(t){return null!==t.parentNode?g(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,o=n?e:t,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var a,s,l=r.commonAncestorContainer;if(t!==l&&e!==l||i.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&f(a.firstElementChild)!==a?f(l):l;var c=g(t);return c.host?m(c.host,e):m(t,g(e).host)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var o=t.ownerDocument.documentElement,r=t.ownerDocument.scrollingElement||o;return r[n]}return t[n]}function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(e,"top"),o=v(e,"left"),r=n?-1:1;return t.top+=i*r,t.bottom+=i*r,t.left+=o*r,t.right+=o*r,t}function y(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+i+"Width"])}function b(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],p(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function w(t){var e=t.body,n=t.documentElement,i=p(10)&&getComputedStyle(n);return{height:b("Height",e,n,i),width:b("Width",e,n,i)}}var k=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),S=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function T(t){return C({},t,{right:t.left+t.width,bottom:t.top+t.height})}function E(t){var e={};try{if(p(10)){e=t.getBoundingClientRect();var n=v(t,"top"),i=v(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?w(t.ownerDocument):{},a=r.width||t.clientWidth||o.width,l=r.height||t.clientHeight||o.height,c=t.offsetWidth-a,u=t.offsetHeight-l;if(c||u){var d=s(t);c-=y(d,"x"),u-=y(d,"y"),o.width-=c,o.height-=u}return T(o)}function P(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(10),o="HTML"===e.nodeName,r=E(t),a=E(e),l=c(t),u=s(e),d=parseFloat(u.borderTopWidth),h=parseFloat(u.borderLeftWidth);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f=T({top:r.top-a.top-d,left:r.left-a.left-h,width:r.width,height:r.height});if(f.marginTop=0,f.marginLeft=0,!i&&o){var g=parseFloat(u.marginTop),m=parseFloat(u.marginLeft);f.top-=d-g,f.bottom-=d-g,f.left-=h-m,f.right-=h-m,f.marginTop=g,f.marginLeft=m}return(i&&!n?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(f=_(f,e)),f}function I(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=P(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:v(n),s=e?0:v(n,"left"),l={top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:o,height:r};return T(l)}function D(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===s(t,"position"))return!0;var n=l(t);return!!n&&D(n)}function O(t){if(!t||!t.parentElement||p())return document.documentElement;for(var e=t.parentElement;e&&"none"===s(e,"transform");)e=e.parentElement;return e||document.documentElement}function M(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},a=o?O(t):m(t,u(e));if("viewport"===i)r=I(a,o);else{var s=void 0;"scrollParent"===i?"BODY"===(s=c(l(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===i?t.ownerDocument.documentElement:i;var d=P(s,a,o);if("HTML"!==s.nodeName||D(a))r=d;else{var h=w(t.ownerDocument),p=h.height,f=h.width;r.top+=d.top-d.marginTop,r.bottom=p+d.top,r.left+=d.left-d.marginLeft,r.right=f+d.left}}var g="number"==typeof(n=n||0);return r.left+=g?n:n.left||0,r.top+=g?n:n.top||0,r.right-=g?n:n.right||0,r.bottom-=g?n:n.bottom||0,r}function A(t){return t.width*t.height}function B(t,e,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=M(n,i,r,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map((function(t){return C({key:t},s[t],{area:A(s[t])})})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=t.split("-")[1];return u+(d?"-"+d:"")}function R(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=i?O(e):m(e,u(n));return P(n,o,i)}function L(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function $(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function N(t,e,n){n=n.split("-")[0];var i=L(t),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return o[a]=e[a]+e[l]/2-i[l]/2,o[s]=n===s?e[s]-i[c]:e[$(s)],o}function F(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function j(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t.name===n}));var i=F(t,(function(t){return t.name===n}));return t.indexOf(i)}(t,0,n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=T(e.offsets.popper),e.offsets.reference=T(e.offsets.reference),e=n(e,t))})),e}function H(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=B(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=N(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=j(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function W(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function z(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var o=e[i],r=o?""+o+n:t;if(void 0!==document.body.style[r])return r}return null}function U(){return this.state.isDestroyed=!0,W(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[z("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Y(t){var e=t.ownerDocument;return e?e.defaultView:window}function V(t,e,n,i){var o="BODY"===t.nodeName,r=o?t.ownerDocument.defaultView:t;r.addEventListener(e,n,{passive:!0}),o||V(c(r.parentNode),e,n,i),i.push(r)}function X(t,e,n,i){n.updateBound=i,Y(t).addEventListener("resize",n.updateBound,{passive:!0});var o=c(t);return V(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function q(){this.state.eventsEnabled||(this.state=X(this.reference,this.options,this.state,this.scheduleUpdate))}function G(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,Y(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function K(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Q(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&K(e[n])&&(i="px"),t.style[n]=e[n]+i}))}var J=i&&/Firefox/i.test(navigator.userAgent);function Z(t,e,n){var i=F(t,(function(t){return t.name===e})),o=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!o){var r="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}var tt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],et=tt.slice(3);function nt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=et.indexOf(t),i=et.slice(n+1).concat(et.slice(0,n));return e?i.reverse():i}var it={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var o=t.offsets,r=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:S({},l,r[l]),end:S({},l,r[l]+r[c]-a[c])};t.offsets.popper=C({},a,u[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n,i=e.offset,o=t.placement,r=t.offsets,a=r.popper,s=r.reference,l=o.split("-")[0];return n=K(+i)?[+i,0]:function(t,e,n,i){var o=[0,0],r=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(F(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(t,i){var o=(1===i?!r:r)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,i){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],a=o[2];if(!r)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return T(s)[e]/100*r}return"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r:r}(t,o,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,i){K(n)&&(o[e]+=n*("-"===t[i-1]?-1:1))}))})),o}(i,a,s,l),"left"===l?(a.top+=n[0],a.left-=n[1]):"right"===l?(a.top+=n[0],a.left+=n[1]):"top"===l?(a.left+=n[0],a.top-=n[1]):"bottom"===l&&(a.left+=n[0],a.top+=n[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||f(t.instance.popper);t.instance.reference===n&&(n=f(n));var i=z("transform"),o=t.instance.popper.style,r=o.top,a=o.left,s=o[i];o.top="",o.left="",o[i]="";var l=M(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);o.top=r,o.left=a,o[i]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,d={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),S({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),S({},n,i)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=C({},u,d[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,o=t.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<r(i[l])&&(t.offsets.popper[l]=r(i[l])-n[c]),n[l]>r(i[s])&&(t.offsets.popper[l]=r(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!Z(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],r=t.offsets,a=r.popper,l=r.reference,c=-1!==["left","right"].indexOf(o),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),p=c?"left":"top",f=c?"bottom":"right",g=L(i)[u];l[f]-g<a[h]&&(t.offsets.popper[h]-=a[h]-(l[f]-g)),l[h]+g>a[f]&&(t.offsets.popper[h]+=l[h]+g-a[f]),t.offsets.popper=T(t.offsets.popper);var m=l[h]+l[u]/2-g/2,v=s(t.instance.popper),_=parseFloat(v["margin"+d]),y=parseFloat(v["border"+d+"Width"]),b=m-t.offsets.popper[h]-_-y;return b=Math.max(Math.min(a[u]-g,b),0),t.arrowElement=i,t.offsets.arrow=(S(n={},h,Math.round(b)),S(n,p,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(W(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=M(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],o=$(i),r=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case"flip":a=[i,o];break;case"clockwise":a=nt(i);break;case"counterclockwise":a=nt(i,!0);break;default:a=e.behavior}return a.forEach((function(s,l){if(i!==s||a.length===l+1)return t;i=t.placement.split("-")[0],o=$(i);var c=t.offsets.popper,u=t.offsets.reference,d=Math.floor,h="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),f=d(c.right)>d(n.right),g=d(c.top)<d(n.top),m=d(c.bottom)>d(n.bottom),v="left"===i&&p||"right"===i&&f||"top"===i&&g||"bottom"===i&&m,_=-1!==["top","bottom"].indexOf(i),y=!!e.flipVariations&&(_&&"start"===r&&p||_&&"end"===r&&f||!_&&"start"===r&&g||!_&&"end"===r&&m),b=!!e.flipVariationsByContent&&(_&&"start"===r&&f||_&&"end"===r&&p||!_&&"start"===r&&m||!_&&"end"===r&&g),w=y||b;(h||v||w)&&(t.flipped=!0,(h||v)&&(i=a[l+1]),w&&(r=function(t){return"end"===t?"start":"start"===t?"end":t}(r)),t.placement=i+(r?"-"+r:""),t.offsets.popper=C({},t.offsets.popper,N(t.instance.popper,t.offsets.reference,t.placement)),t=j(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,o=i.popper,r=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=r[n]-(s?o[a?"width":"height"]:0),t.placement=$(e),t.offsets.popper=T(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Z(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=F(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,o=t.offsets.popper,r=F(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,s,l=void 0!==r?r:e.gpuAcceleration,c=f(t.instance.popper),u=E(c),d={position:o.position},h=function(t,e){var n=t.offsets,i=n.popper,o=n.reference,r=Math.round,a=Math.floor,s=function(t){return t},l=r(o.width),c=r(i.width),u=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),h=e?u||d||l%2==c%2?r:a:s,p=e?r:s;return{left:h(l%2==1&&c%2==1&&!d&&e?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:h(i.right)}}(t,window.devicePixelRatio<2||!J),p="bottom"===n?"top":"bottom",g="right"===i?"left":"right",m=z("transform");if(s="bottom"===p?"HTML"===c.nodeName?-c.clientHeight+h.bottom:-u.height+h.bottom:h.top,a="right"===g?"HTML"===c.nodeName?-c.clientWidth+h.right:-u.width+h.right:h.left,l&&m)d[m]="translate3d("+a+"px, "+s+"px, 0)",d[p]=0,d[g]=0,d.willChange="transform";else{var v="bottom"===p?-1:1,_="right"===g?-1:1;d[p]=s*v,d[g]=a*_,d.willChange=p+", "+g}var y={"x-placement":t.placement};return t.attributes=C({},y,t.attributes),t.styles=C({},d,t.styles),t.arrowStyles=C({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return Q(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&Q(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,o){var r=R(o,e,t,n.positionFixed),a=B(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),Q(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ot=function(){function t(e,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=r(this.update.bind(this)),this.options=C({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(C({},t.Defaults.modifiers,o.modifiers)).forEach((function(e){i.options.modifiers[e]=C({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return C({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return x(t,[{key:"update",value:function(){return H.call(this)}},{key:"destroy",value:function(){return U.call(this)}},{key:"enableEventListeners",value:function(){return q.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),t}();ot.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,ot.placements=tt,ot.Defaults=it;const rt=ot}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i.d(o,{Z:()=>Vt});const s=function(){function e(){t(this,e)}return r(e,null,[{key:"getServerUrl",value:function(){var t=""!=window.location.port?":"+window.location.port:"",e=window.location.protocol+"//"+window.location.hostname+t;return console.log("serverurl1:"),console.log(e),"file://"==e&&(e="http://localhost:12032"),console.log("serverurl2:"),console.log(e),e}}]),e}(),l=function(){function e(){t(this,e),a(this,"sessionId",null),a(this,"tutorialId",null),a(this,"tutialIdSetting",""),a(this,"computerId","-1"),a(this,"workshopId","-1")}return r(e,[{key:"init",value:function(){this.sessionId=window.sessionStorage.loadOnceSessionId,delete window.sessionStorage.loadOnceSessionId,this.createNewSessionId()}},{key:"createNewSessionId",value:function(){var t=this;this.sessionId||$.ajax({type:"GET",url:s.getServerUrl()+"/logging/newSessionId"}).done((function(e){t.sessionId=e,console.debug(t.sessionId)})).fail((function(t,e){console.warn("Failed to fetch sessionId:",e,t)}))}},{key:"createEvent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o={timestamp:Date.now(),eventName:t,sessionId:this.sessionId,simulatorState:i,selectedDifficulty:n,activeTutorial:this.tutorialIdSetting,computerId:this.computerId,workshopId:this.workshopId,data:JSON.stringify(e)};return o}},{key:"recordEvent",value:function(t){console.debug("Record event "+t.eventName+" with data "+t.data),void 0!==this.sessionId&&$.ajax({type:"POST",url:s.getServerUrl()+"/logging/event",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)}).done((function(t){console.debug("Recording submitted",t)})).fail((function(t,e){console.warn("Failed to submit recording:",e)}))}}]),e}();function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?c(t):e}var m=function(){function e(){t(this,e)}return r(e,null,[{key:"mapButtonIdToIndex",value:function(t){return e.map[t]}},{key:"mapIndexToButtonId",value:function(t){for(var n in e.map)if(e.map[n]===t)return n}},{key:"mapButtonPinNameToIndex",value:function(t){return e.pinMap[t]}},{key:"mapIndexToButtonPinName",value:function(t){for(var n in e.pinMap)if(e.pinMap[n]===t)return n}}]),e}();a(m,"map",{sim_button_N:0,sim_button_W:1,sim_button_C:2,sim_button_E:3,sim_button_S:4}),a(m,"pinMap",{SW_N:0,SW_W:1,SW_C:2,SW_E:3,SW_S:4});const v=m,_=function(){function e(){t(this,e),a(this,"pins",new Array(44)),a(this,"pinMapping",{}),a(this,"lcdContent",new Array(2));for(var n=0;n<24;++n)this.pinMapping[n+""]=n;for(var i=0;i<8;++i)this.pinMapping["A"+i]=24+i;this.pinMapping.SW_N=16,this.pinMapping.SW_E=17,this.pinMapping.SW_S=18,this.pinMapping.SW_W=19,this.pinMapping.SW_C=32,this.pinMapping.BUZZER=33,this.pinMapping.LCD_BACKLIGHT=20,this.pinMapping.DC_MOTOR_1=34,this.pinMapping.DC_MOTOR_2=35,this.pinMapping.SERVO_MOTOR_1=40,this.pinMapping.SERVO_MOTOR_2=41;for(var o=0;o<8;++o)this.pinMapping["LED"+o]=38+o;for(var r=33;r<45;r++)this.pinMapping[r+""]=r;this.pinMapping.LED13=13,this.lcdContent[0]=" ".repeat(16),this.lcdContent[1]=" ".repeat(16),this.resetBoard()}return r(e,[{key:"resetBoard",value:function(){this.lcdContent=new Array(2),this.lcdContent[0]=" ".repeat(16),this.lcdContent[1]=" ".repeat(16);for(var t=0;t<24;++t)this.pins[this.pinMapping[t+""]]=0;for(var e=0;e<8;++e)this.pins[this.pinMapping["A"+e]]=0;this.pins[this.pinMapping.LCD_BACKLIGHT]=0,this.pins[this.pinMapping.BUZZER]=0,this.pins[this.pinMapping.DC_MOTOR_1]=0,this.pins[this.pinMapping.DC_MOTOR_2]=0,this.pins[this.pinMapping.SERVO_MOTOR_1]=0,this.pins[this.pinMapping.SERVO_MOTOR_2]=0;for(var n=0;n<8;++n)this.pins[this.pinMapping.LED0+n]=0;this.pins[this.pinMapping.LED13]=0,this.pins[this.pinMapping.SW_N]=1,this.pins[this.pinMapping.SW_E]=1,this.pins[this.pinMapping.SW_S]=1,this.pins[this.pinMapping.SW_W]=1,this.pins[this.pinMapping.SW_C]=1}},{key:"setTonePlaying",value:function(t){this.setTonePlayingOnPin(t,"BUZZER")}},{key:"getTonePlaying",value:function(){return this.getTonePlayingOnPin("BUZZER")}},{key:"setTonePlayingOnPin",value:function(t,e){this.pins[this.pinMapping[e]]=t}},{key:"getTonePlayingOnPin",value:function(t){return this.pins[this.pinMapping[t]]}},{key:"setLcdContent",value:function(t,e){var n=e;t<0||t>1||(e.length>16&&(n=e.substr(0,16)),this.lcdContent[t]=n)}},{key:"getLcdContent",value:function(t){if(t<0||t>1)throw new Error("This is not a valid line number");return this.lcdContent[t]}},{key:"setBacklight",value:function(t){if(1!=t&&0!=t)throw new Error("Invalid status");this.pins[this.pinMapping.LCD_BACKLIGHT]=t}},{key:"getBackLightStatus",value:function(){return this.pins[this.pinMapping.LCD_BACKLIGHT]}},{key:"setServoAngle",value:function(t,e){this.pins[this.pinMapping["SERVO_MOTOR_"+t]]=e}},{key:"getServoAngle",value:function(t){return this.pins[this.pinMapping["SERVO_MOTOR_"+t]]}},{key:"setMotorSpeed",value:function(t,e){if(t>2||t<1)throw Error("No motor with this number");e>255&&(motorspeed=255),this.pins[this.pinMapping["DC_MOTOR_"+t]]=e}},{key:"getMotorSpeed",value:function(t){if(t>2||t<1)throw Error("No motor with this number");return this.pins[this.pinMapping["DC_MOTOR_"+t]]}},{key:"setLedState",value:function(t,e){8==t?this.pins[this.pinMapping.LED13]=e:this.pins[this.pinMapping["LED"+t]]=e}},{key:"getLedState",value:function(t){return 8==t?this.pins[this.pinMapping.LED13]:this.pins[this.pinMapping["LED"+t]]}},{key:"setButtonState",value:function(t,e){var n=v.mapIndexToButtonPinName(t);this.pins[this.pinMapping[n]]=e}},{key:"getButtonState",value:function(t){var e=v.mapIndexToButtonPinName(t);return this.pins[this.pinMapping[e]]}},{key:"setSonarDistance",value:function(t,e,n){this.setIoPinState(t,n),this.setIoPinState(e,n)}},{key:"getSonarDistance",value:function(t,e){return this.getIoPinState(e)}},{key:"setIoPinState",value:function(t,e){var n=t+"";this.pins[this.pinMapping[n]]=e}},{key:"getIoPinState",value:function(t){var e=t+"";return this.pins[this.pinMapping[e]]}},{key:"isPWMPin",value:function(t){var e=t+"",n=this.pinMapping[e];return 15==n||14==n||11==n||6==n||5==n||3==n}},{key:"setAnalogIoPinState",value:function(t,e){if(!t.startsWith("A"))throw new Error("Not a valid analog pin name!");this.setIoPinState(t,e)}},{key:"getAnalogIoPinState",value:function(t){if(!t.startsWith("A"))throw new Error("Not a valid analog pin name!");return this.getIoPinState(t)}}]),e}(),y=function(){function e(n){t(this,e),a(this,"isSimulationRunning",!1),a(this,"logger",null),a(this,"audiocontext",null),a(this,"osc",null),this.logger=n}return r(e,[{key:"initSimulationState",value:function(t){console.log("initSimulationState")}},{key:"initSimulationDisplay",value:function(t){$("#".concat(t)).empty()}},{key:"updateScenario",value:function(t){}},{key:"updateScenarioState",value:function(t){}},{key:"updateScenarioDisplay",value:function(t){}},{key:"setIsSimulationRunning",value:function(t){this.isSimulationRunning=t}},{key:"getIsSimulationRunning",value:function(){return this.isSimulationRunning}}]),e}();const b=function(e){p(s,e);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function s(e){var n;return t(this,s),a(c(n=o.call(this,e)),"inputsState",null),a(c(n),"audioStarted",!1),a(c(n),"muted",!0),a(c(n),"prevFreq",0),a(c(n),"boardDisplayWidth","80%"),a(c(n),"componentsTopOffset","0%"),a(c(n),"rightSimComponentsPosition","auto"),a(c(n),"sonarDistance",0),a(c(n),"sonarInputChanged",!1),a(c(n),"sonarFieldBeingEdited",!1),n.inputsState={buttons:[1,1,1,1,1],reset:1},n}return r(s,[{key:"setBoardDisplayWidthWidth",value:function(t){this.boardDisplayWidth=t}},{key:"setComponentsTopOffset",value:function(t){this.componentsTopOffset=t}},{key:"setComponentsRightPosition",value:function(t){this.rightSimComponentsPosition=t}},{key:"initAudioContext",value:function(){try{this.audiocontext=new AudioContext}catch(t){console.log("Web Audio API is not supported in this browser")}}},{key:"initSimulationDisplay",value:function(t){var e=this;$("#".concat(t)).append('<div id="db_simulator_pane"></div>'),$("#db_simulator_pane").append('<div id="debug"></div>'),$("#db_simulator_pane").append('<div id="sim_components"></div>');var n=$("<div>").css({position:"absolute",display:"inline-block",width:this.boardDisplayWidth,"max-width":"30vw",right:0}),i=$("<div>").attr("id","dummy").css({"margin-top":"70%"}),o=$("<div>").attr("id","sim_board");n.append(i),n.append(o),$("#db_simulator_pane").append(n),$("#db_simulator_pane").append('<span id="db_simulator_mute"></span>'),$("#db_simulator_mute").attr("class","fas fa-volume-mute");var r=$('<div id="sim_sonar" class="sim_sonar"></div>'),a=$('<div id="sim_sonar_distance" class="sim_sonar_distance"></div>'),s=$('<div id="sim_sonar_input"></div>').text("Sonar "+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["distance"])+":"),l=$('<button id="set_sonar_value"></button>').text("OK");$("#sim_components").append(r),$("#sim_components").append(a),$("#sim_components").append(s),$("#sim_components").append(l),$("#sim_components").css({"margin-top":this.componentsTopOffset,right:this.rightSimComponentsPosition}),$("#sim_sonar_input").append('<input type="text" id="sonar_input" size="3" name="sim_sonar_input" onkeypress="return event.charCode >= 48 && event.charCode <= 57">&nbsp;cm'),$("#sonar_input").on("keyup",(function(t){if("Enter"===t.key||13===t.keyCode){e.sonarInputChanged=!0;var n=$("#sonar_input").val();console.log(parseInt(n.trim())),e.sonarDistance=parseInt(n.trim())}})),$("#sonar_input").change((function(t){e.sonarInputChanged=!0;var n=$("#sonar_input").val();console.log(parseInt(n.trim())),e.sonarDistance=parseInt(n.trim())})),$("#set_sonar_value").click((function(t){var n=$("#sonar_input").val();console.log(parseInt(n.trim())),e.sonarDistance=parseInt(n.trim())})),$("#sonar_input").focus((function(){console.log("focus gained"),e.sonarFieldBeingEdited=!0})),$("#sonar_input").focusout((function(){console.log("focus lost"),e.sonarFieldBeingEdited=!1})),$("#sim_board").append('<div class="sim_light sim_light_off" id ="sim_light_13"></div>'),$("#sim_board").append('<div id="sim_lcds"></div>'),$("#sim_board").append('<div id="sim_lights"></div>'),$("#sim_board").append('<div id="sim_buttons"></div>'),$("#sim_board").append('<div id="sim_button_reset" class="sim_button"></div>'),$("#sim_lcds").append('<div class="sim_lcd" id="sim_lcd_row0"></div>'),$("#sim_lcds").append('<div class="sim_lcd" id="sim_lcd_row1"></div>'),$("#sim_lights").append('<div class="sim_light sim_light_off" id ="sim_light_7"></div>'),$("#sim_lights").append('<div class="sim_light sim_light_off" id ="sim_light_6"></div>'),$("#sim_lights").append('<div class="sim_light sim_light_off" id ="sim_light_5"></div>'),$("#sim_lights").append('<div class="sim_light sim_light_off" id ="sim_light_4"></div>'),$("#sim_lights").append('<div class="sim_light sim_light_off" id ="sim_light_3"></div>'),$("#sim_lights").append('<div class="sim_light sim_light_off" id ="sim_light_2"></div>'),$("#sim_lights").append('<div class="sim_light sim_light_off" id ="sim_light_1"></div>'),$("#sim_lights").append('<div class="sim_light sim_light_off" id ="sim_light_0"></div>'),$("#sim_buttons").append('<div id="sim_buttons_top"></div>'),$("#sim_buttons").append('<div id="sim_buttons_middle"></div>'),$("#sim_buttons").append('<div id="sim_buttons_bottom"></div>'),$("#sim_buttons_top").append('<div id="sim_button_N" class="sim_button"></div>'),$("#sim_buttons_middle").append('<div id="sim_button_W" class="sim_button"></div>'),$("#sim_buttons_middle").append('<div id="sim_button_C" class="sim_button"></div>'),$("#sim_buttons_middle").append('<div id="sim_button_E" class="sim_button"></div>'),$("#sim_buttons_bottom").append('<div id="sim_button_S" class="sim_button"></div>'),this.hideSonar();var c=this;$("#sim_button_N, #sim_button_E, #sim_button_C, #sim_button_S, #sim_button_W").on("mousedown",(function(){c.getIsSimulationRunning()&&(c.inputsState.buttons[v.mapButtonIdToIndex(this.id)]=0)})),$("#sim_button_N, #sim_button_E, #sim_button_C, #sim_button_S, #sim_button_W").on("mouseup",(function(){c.getIsSimulationRunning()&&(c.inputsState.buttons[v.mapButtonIdToIndex(this.id)]=1)})),$("#db_simulator_mute").on("click",(function(){null==e.audiocontext&&e.initAudioContext(),e.muted?(e.muted=!1,$("#db_simulator_mute").removeClass(),$("#db_simulator_mute").attr("class","fas fa-volume-up")):(e.muted=!0,$("#db_simulator_mute").removeClass(),$("#db_simulator_mute").attr("class","fas fa-volume-mute"))}))}},{key:"showSonar",value:function(){$("#sim_sonar").show(),$("#sim_sonar_distance").show(),$("#sim_sonar_input").show()}},{key:"hideSonar",value:function(){$("#sim_sonar").hide(),$("#sim_sonar_distance").hide(),$("#sim_sonar_input").hide()}},{key:"updateScenarioState",value:function(t){for(var e=0;e<this.inputsState.buttons.length;++e)t.setButtonState(e,this.inputsState.buttons[e]);this.sonarInputChanged&&(t.setSonarDistance(11,12,this.sonarDistance),this.sonarInputChanged=!1),this.sonarDistance=t.getSonarDistance(11,12)}},{key:"updateScenario",value:function(t){this.updateScenarioState(t),this.updateScenarioDisplay(t)}},{key:"updateScenarioDisplay",value:function(t){var e=t.getSonarDistance(11,12);if(e<=-1)this.hideSonar();else{this.showSonar();var n=document.getElementById("sonar_input");void 0!==n&&null!=n?this.sonarFieldBeingEdited||(n.value=e):console.log("Sonar input element is undefined")}this.audiocontext&&(0!==this.prevFreq&&this.prevFreq!==t.getTonePlaying()&&(this.osc.stop(),this.osc.disconnect(this.audiocontext.destination),this.osc=null),t.getTonePlaying()===this.prevFreq||this.muted||(this.osc=this.audiocontext.createOscillator(),this.osc.frequency.value=t.getTonePlaying(),this.osc.start(this.audiocontext.currentTime),this.osc.connect(this.audiocontext.destination),this.prevFreq=t.getTonePlaying()));for(var i=0;i<5;i++)0===t.getButtonState(i)?document.getElementById(v.mapIndexToButtonId(i)).className="sim_button sim_button_pushed":document.getElementById(v.mapIndexToButtonId(i)).className="sim_button";1==t.getBackLightStatus()?$("#sim_lcds").addClass("on"):$("#sim_lcds").removeClass("on");for(var o=0;o<2;++o)$("#sim_lcd_row"+o).text(t.getLcdContent(o)),null!==document.getElementById("sim_lcd_row"+o)&&(document.getElementById("sim_lcd_row"+o).innerHTML=document.getElementById("sim_lcd_row"+o).innerHTML.replace(/ /g,"&nbsp;"));var r=document.getElementById("sim_lcds");if(null!==r){r.style.display="none",r.offsetHeight,r.style.display="block";var a=$(".sim_lcd"),s=$("#sim_board").width()/16*1.25;a.css({"font-size":s})}for(var l=0;l<8;l++){var c;c=0===t.getLedState(l)?"sim_light sim_light_off":"sim_light sim_light_on",document.getElementById("sim_light_"+l).className=c}0===t.getLedState(8)?document.getElementById("sim_light_13").className="sim_light sim_light_off":document.getElementById("sim_light_13").className="sim_light sim_light_on"}}]),s}(y);function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function k(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}const x=function(){function e(n,i,o,r,s){var l;t(this,e),a(this,"ModalType",{CONVEYOR:"conveyor",PIN:"pin"}),a(this,"colors",["#0d0d0d","white","gray","red","orange","yellow","greenyellow","green","cyan","blue","purple","pink","magenta"]),a(this,"color",this.colors[0]),a(this,"drawingCanvasId","conveyor_modal_canvas"),a(this,"drawingUrl",void 0),a(this,"pins",function(t){if(Array.isArray(t))return w(t)}(l=Array(24).keys())||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(l)||k(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this.dimensions=n,this.amount=i,this.startPositionY=o,this.sensorPins=r,this.buttonPins=s}return r(e,[{key:"updatePins",value:function(t,e){this.sensorPins=t,this.buttonPins=e}},{key:"showElement",value:function(t){console.log("Show element with id: ".concat(t.attr("id"))),t.css({display:"block"})}},{key:"hideElement",value:function(t){console.log("Hide element with id: ".concat(t.attr("id"))),t.css({display:"none"})}},{key:"setSensorsOpacity",value:function(t){$("#sim_rgbsensors").css({opacity:"".concat(t)})}},{key:"drawCurrentImageOnCanvasses",value:function(){if(this.drawingUrl){var t=document.getElementById("sim_image_preview"),e=t.getContext("2d"),n=this.dimensions.conveyor.width/4,i=this.dimensions.conveyor.length/2;t.height=i,t.width=n;var o=new Image;o.onload=function(){e.save(),e.translate(n/2,i/2),e.rotate(-Math.PI/2),e.translate(-i/2,-n/2),e.drawImage(o,0,0,t.height,t.width),e.restore()},o.src=this.drawingUrl;var r=document.getElementById("sim_conveyor_paper"),a=r.getContext("2d"),s=this.dimensions.conveyor.width,l=this.dimensions.conveyor.length;r.height=l,r.width=s;var c=new Image;c.onload=function(){a.save(),a.translate(s/2,l/2),a.rotate(-Math.PI/2),a.translate(-l/2,-s/2),a.drawImage(c,0,0),a.restore()},c.src=this.drawingUrl}}},{key:"createControlsMenu",value:function(t){var e=this,n=$("<div>").css({position:"absolute",left:0,right:0,bottom:0,height:"65%","text-align":"center","padding-left":"20px","padding-right":"20px","padding-bottom":"20px"}),i=$("<button>").attr("value","Pin distribution").html(MSG.conveyor.pinDistribution).css({margin:"5px auto",display:"block"}).click((function(){e.showElement($("#pin_modal"))})),o=$("<button>").attr("value","Choose image").html(MSG.conveyor.chooseImage).css({margin:"10px auto",display:"block"}).click((function(){e.showElement($("#conveyor_modal"))})),r=$("<p>").html(MSG.conveyor.preview).css({margin:"5px auto 0px",display:"block","text-decoration":"underline"}),a=$("<canvas>").attr("id","sim_image_preview").css({width:this.dimensions.conveyor.width/4+"px",height:this.dimensions.conveyor.length/2+"px",margin:"5px auto",display:"block","background-image":"url('".concat(settings.basepath,"DwenguinoIDE/img/conveyor/conveyor_belt.png')"),"background-size":"100% 100%","background-repeat":"no-repeat"});n.append(i),n.append(o),n.append(r),n.append(a),t.append(n)}},{key:"createModal",value:function(t,e){var n=this,i=$("<div>").attr("id",e+"_modal").css(a({position:"fixed","z-index":100,"padding-top":"100px",left:0,top:0,width:"100%",height:"100%",overflow:"auto","background-color":"rgb(0, 0, 0)"},"background-color","rgba(0, 0, 0, 0.4)")).click((function(t){t.target.id==e+"_modal"&&n.hideElement($("#"+e+"_modal"))})),o=$("<div>").attr("id",e+"_modal_content").css({"background-color":"#fefefe",margin:"auto",padding:"20px",border:"1px solid #888",width:"80%",overflow:"hidden"}),r=$("<span>").attr("id","close_button").html("&times;").css({color:"#aaaaaa",float:"right","font-size":"28px","font-weight":"bold"}).hover((function(){$(this).css({color:"#000","text-decoration":"none",cursor:"pointer"})}),(function(){$(this).css({color:"#aaaaaa","text-decoration":"none",cursor:"default"})})).click((function(){n.hideElement($("#"+e+"_modal"))}));o.append(r),this.createModalContent(o,e),i.append(o),t.append(i),this.hideElement(i)}},{key:"createModalContent",value:function(t,e){switch(e){case this.ModalType.CONVEYOR:this.createConveyorModalContent(t);break;case this.ModalType.PIN:this.createPinModalContent(t);break;default:throw new Error("A modal of type "+e+" could not be generated. This is not implemented. Did you mean '"+this.ModalType.CONVEYOR+"' or '"+this.ModalType.PIN+"'?")}}},{key:"createPinModalContent",value:function(t){for(var e=this,n=$("<div>").html('\n            <h3 style="grid-column: 1/span 2; grid-row:1;text-align:center;margin-bottom:30px"> '.concat(MSG.conveyor.pinDistribution,' </h3>\n            <p style="grid-column: 1; grid-row:2;text-align:right;margin-right:10px"> ').concat(MSG.conveyor.sensors,': <p>\n            <p style="grid-column: 1; grid-row:4;text-align:right;margin-right:10px"> ').concat(MSG.conveyor.buttons,": <p>\n        ")).css({display:"grid","grid-template-columns":"auto max-content","grid-template-rows":"auto, auto, auto, auto auto","grid-gap":"10px","justify-content":"center"}),i=$("#sim_rgbsensors").clone().css({position:"relative",bottom:"auto","grid-column":"2","grid-row":"2"}),o=$("<div>").css({display:"grid","grid-template-columns":"auto auto auto auto auto","justify-content":"space-between",padding:"0px 5px","margin-bottom":"30px","grid-column":"2","grid-row":"3"}),r=0;r<this.amount;r++){var a=void 0;this.pins.forEach((function(t){e.sensorPins[r]==t?a+="<option value=".concat(t," selected>").concat(t,"</option>\n"):a+="<option value=".concat(t,">").concat(t,"</option>\n")}));var s=$('<select id="select_snr_'.concat(r,'" name="select_snr_').concat(r,'">').concat(a,"</select>"));o.append(s)}var l=$("#sim_gamebuttons").clone().css({position:"relative",bottom:"auto","grid-column":"2","grid-row":"4"}),c=$("<div>").css({display:"grid","grid-template-columns":"auto auto auto auto auto","justify-content":"space-between",padding:"0px 2px","grid-column":"2","grid-row":"5"});for(r=0;r<this.amount;r++){var u=void 0;this.pins.forEach((function(t){e.buttonPins[r]==t?u+="<option value=".concat(t," selected>").concat(t,"</option>\n"):u+="<option value=".concat(t,">").concat(t,"</option>\n")}));var d=$('<select id="select_btn_'.concat(r,'" name="select_btn_').concat(r,'">').concat(u,"</select>"));c.append(d)}n.append(i),n.append(o),n.append(l),n.append(c),t.append(n)}},{key:"createConveyorModalContent",value:function(t){for(var e=this,n=$("<div>").css({display:"block",overflow:"hidden",position:"relative"}),i=this.dimensions.sensor.width*this.amount+this.dimensions.sensor.spacing*(this.amount-1),o=$("<div>").attr("id","sim_modal_rgbsensors").css({width:this.dimensions.sensor.width+"px",height:i+"px",display:"inline-block","margin-right":"5px"}),r=0;r<this.amount;r++){var a=$("<div>").attr("id","sim_modal_rgbsensor_"+r).css({width:this.dimensions.sensor.width+"px",height:this.dimensions.sensor.height+"px",position:"absolute","background-image":"url('".concat(settings.basepath,"DwenguinoIDE/img/conveyor/rgb_sensor_rotated.png')"),"background-size":"100%","background-repeat":"no-repeat",top:(this.dimensions.sensor.height+this.dimensions.sensor.spacing)*r+"px",left:0});o.append(a)}var s=document.createElement("canvas");s.width=2*this.dimensions.conveyor.length,s.height=this.dimensions.conveyor.width;var l=s.getContext("2d");l.lineWidth=1,l.strokeStyle="rgb(200,200,200)";for(var c=this.dimensions.sensor.width+this.dimensions.sensor.spacing/2,u=1;u<this.amount;u++)l.moveTo(0,c),l.lineTo(2*this.dimensions.conveyor.length,c),l.stroke(),c+=this.dimensions.sensor.width+this.dimensions.sensor.spacing;var d=s.toDataURL(),h=$("<canvas>").attr("id",this.drawingCanvasId).css({width:2*this.dimensions.conveyor.length,height:this.dimensions.conveyor.width,border:"2px solid rgb(50,50,50)","background-image":"url("+d+")","background-size":"100%"}),p=$("<div>").attr("id","conveyor_modal_palette").css({overflow:"hidden","margin-top":"5px",float:"left"});this.colors.forEach((function(t){var n=$("<div>").attr("id","palette_"+t).css({"background-color":t,width:27,height:27,float:"left",border:"1px solid #454545"}).click((function(){$(this).css({border:"3px solid #454545"}),e.color=t,e.colors.forEach((function(e){e!==t&&$("#palette_"+e).css({border:"1px solid #454545"})}))}));p.append(n)}));var f=$("<div>").attr("id","hover_color_value").css({"margin-left":"10px","margin-top":"5px",float:"left","font-family":"'Courier New', monospace"}).html("rgb(  0,   0,   0)");h.mousemove((function(t){var e={x:0,y:0},n=h.offset();e.x=t.clientX-n.left,e.y=t.clientY-n.top;for(var i=this.getContext("2d").getImageData(e.x,e.y,1,1).data,o=i[0].toString();o.length<3;)o=" "+o;for(var r=i[1].toString();r.length<3;)r=" "+r;for(var a=i[2].toString();a.length<3;)a=" "+a;f.html("rgb(".concat(o,", ").concat(r,", ").concat(a,")"))}));var g=$("<button>").attr("value","Import image").html(MSG.conveyor.importImage).css({"margin-top":"5px","margin-left":"10px",float:"left"}).click((function(){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/x-png,image/gif,image/jpeg"),t.addEventListener("change",(function(t){var n=document.getElementById(e.drawingCanvasId),i=n.getContext("2d"),o=new FileReader;o.onload=function(t){var e=new Image;e.onload=function(){i.drawImage(e,0,0,n.width,n.height)},e.src=t.target.result},o.readAsDataURL(t.target.files[0])}),!1),t.click()})),m=$("<div>").css({"margin-top":"5px","margin-bottom":"5px","margin-left":"10px",float:"left"}),v=$("<button>").attr("value","Save image").html(MSG.conveyor.saveImage).click((function(){var t=document.createElement("a");t.setAttribute("download",MSG.conveyor.imageDownloadName+".png");var n=document.getElementById(e.drawingCanvasId),i=document.createElement("canvas"),o=i.getContext("2d");i.height=$("#conveyor_dim_height").val(),i.width=$("#conveyor_dim_width").val(),o.drawImage(n,0,0,$("#conveyor_dim_width").val(),$("#conveyor_dim_height").val()),o.lineWidth=1,o.strokeStyle="black",o.strokeRect(0,0,i.width,i.height);var r=i.toDataURL("image/png");t.setAttribute("href",r),t.click()})),_=$("<div>").html('\n            <label for="conveyor_dim_width" style="text-align:right">W:</label>\n            <input type="number" id="conveyor_dim_width" value="'.concat(2*e.dimensions.conveyor.length,'" style="max-width:75px">\n            <label for="conveyor_dim_height" style="text-align:right">H:</label>\n            <input type="number" id="conveyor_dim_height" value="').concat(e.dimensions.conveyor.width,'" style="max-width:75px">\n        ')).css({display:"grid","grid-template-columns":"max-content max-content","grid-gap":"5px"}),y=$("<button>").attr("value","Clear").html(MSG.conveyor.clear).css({"margin-top":"5px","margin-left":"10px",float:"left"}).click((function(){var t=document.getElementById(e.drawingCanvasId);t.getContext("2d").clearRect(0,0,t.width,t.height)})),b=$("<button>").attr("value","Cancel").html(MSG.conveyor.cancel).css({"margin-top":"5px",float:"right"}).click((function(){var t=document.getElementById(e.drawingCanvasId),n=t.getContext("2d");if(n.clearRect(0,0,t.width,t.height),e.drawingUrl){var i=new Image;i.onload=function(){n.drawImage(i,0,0)},i.src=e.drawingUrl}e.hideElement($("#conveyor_modal"))})),w=$("<button>").attr("value","Ready").html(MSG.conveyor.ready).css({"margin-top":"5px","margin-left":"10px",float:"right"}).click((function(){var t=document.getElementById(e.drawingCanvasId);e.drawingUrl=t.toDataURL();var n=document.getElementById("sim_image_preview"),i=n.getContext("2d"),o=e.dimensions.conveyor.width/4,r=e.dimensions.conveyor.length/2;n.height=r,n.width=o,i.save(),i.translate(o/2,r/2),i.rotate(-Math.PI/2),i.translate(-r/2,-o/2),i.drawImage(t,0,0,n.height,n.width),i.restore(),e.updateConveyorPaper(e.startPositionY),e.hideElement($("#conveyor_modal"))}));n.append(o),n.append(h),m.append(v),m.append(_),t.append(n),t.append(p),t.append(f),t.append(g),t.append(m),t.append(y),t.append(w),t.append(b)}},{key:"initCanvas",value:function(){var t=this,e=document.getElementById(this.drawingCanvasId);e.width=2*this.dimensions.conveyor.length,e.height=this.dimensions.conveyor.width;var n=e.getContext("2d"),i={x:0,y:0};if(e.addEventListener("mousemove",(function(e){1===e.buttons&&(n.beginPath(),n.lineWidth=.7*t.dimensions.sensor.width,n.lineCap="round",n.strokeStyle=t.color,n.moveTo(i.x,i.y),r(e),n.lineTo(i.x,i.y),n.stroke())})),e.addEventListener("mousedown",r),e.addEventListener("mouseenter",r),this.drawingUrl){var o=new Image;o.onload=function(){n.drawImage(o,0,0,e.width,e.height)},o.src=t.drawingUrl}function r(e){var n=$("#"+t.drawingCanvasId).offset();i.x=e.clientX-n.left,i.y=e.clientY-n.top}}},{key:"createRobotDisplay",value:function(t,e,n,i){var o=$("<div>").attr("id","sim_container").css({position:"absolute",left:0,top:0,right:0,bottom:0,margin:"10px",width:"100%",height:"100%","text-align":"center"}),r=this.dimensions.button.width*this.amount+this.dimensions.button.spacing*(this.amount-1),a=$("<div>").attr("id","sim_gamebuttons").css({width:r+"px",height:this.dimensions.button.height+"px","margin-left":"5px",position:"absolute",bottom:"-"+(this.dimensions.button.height+this.dimensions.sensor.height/3+10)+"px"}),s=r,l=$("<div>").attr("id","sim_gameleds").css({width:s+"px",height:this.dimensions.button.height+"px","margin-left":"5px",position:"absolute",bottom:"-"+(2*this.dimensions.button.height+this.dimensions.sensor.height/3+15)+"px"}),c=this.dimensions.sensor.width*this.amount+this.dimensions.sensor.spacing*(this.amount-1),u=$("<div>").attr("id","sim_rgbsensors").css({width:c+"px",height:this.dimensions.sensor.height+"px",position:"absolute",bottom:"-"+this.dimensions.sensor.height/3+"px"}),d=$("<div>").attr("id","sim_conveyor").css({width:this.dimensions.conveyor.width+2*this.dimensions.conveyor.border+"px",height:this.dimensions.conveyor.length+"px",position:"relative",margin:"0px auto"}),h=$("<div>").attr("id","sim_conveyor_left").css({width:this.dimensions.conveyor.border+"px",height:this.dimensions.conveyor.length+"px",top:0,left:0,position:"absolute","background-image":"url('".concat(settings.basepath,"DwenguinoIDE/img/conveyor/conveyor_border_left.png')"),"background-size":"100% 100%","background-repeat":"no-repeat"}),p=$("<div>").attr("id","sim_conveyor_middle").css({width:this.dimensions.conveyor.width+"px",height:this.dimensions.conveyor.length+"px",top:0,left:this.dimensions.conveyor.border,position:"absolute","background-image":"url('".concat(settings.basepath,"DwenguinoIDE/img/conveyor/conveyor_belt.png')"),"background-size":"100% 100%","background-repeat":"no-repeat"}),f=$("<div>").attr("id","sim_conveyor_right").css({width:this.dimensions.conveyor.border+"px",height:this.dimensions.conveyor.length+"px",top:0,right:0,position:"absolute","background-image":"url('".concat(settings.basepath,"DwenguinoIDE/img/conveyor/conveyor_border_right.png')"),"background-size":"100% 100%","background-repeat":"no-repeat"}),g=$("<canvas>").attr("id","sim_conveyor_paper").css({width:"100%",height:"100%"});p.append(g),p.append(a),p.append(l),p.append(u),d.append(p),d.append(h),d.append(f),o.append(d),t.append(o);for(var m=0;m<this.amount;m++){var v=$("<div>").attr("id","sim_button_"+m).css({width:this.dimensions.button.width+"px",height:this.dimensions.button.height+"px",position:"absolute","background-image":"url('".concat(settings.basepath,"DwenguinoIDE/img/conveyor/button.png')"),"background-size":"100%","background-repeat":"no-repeat",top:n[m].pos.y+"px",left:n[m].pos.x+"px"});a.append(v);var _=$("<div>").attr("id","sim_rgbsensor_"+m).css({width:this.dimensions.sensor.width+"px",height:this.dimensions.sensor.height+"px",position:"absolute","background-image":"url('".concat(settings.basepath,"DwenguinoIDE/img/conveyor/rgb_sensor.png')"),"background-size":"100%","background-repeat":"no-repeat",top:i[m].pos.y+"px",left:i[m].pos.x+"px"});u.append(_);var y=$("<canvas>").attr("id","sim_led_"+m).css({position:"absolute",top:e[m].pos.y+"px",left:e[m].pos.x+"px"});l.append(y);var b=document.getElementById("sim_led_"+m);this.drawRGBLed(b,i[m].r,i[m].g,i[m].b,this.dimensions.led.width,this.dimensions.led.height)}}},{key:"updateConveyorPaper",value:function(t,e){var n=document.getElementById(this.drawingCanvasId),i=document.getElementById("sim_conveyor_paper"),o=i.getContext("2d"),r=this.dimensions.conveyor.width,a=this.dimensions.conveyor.length;i.height=a,i.width=r,o.save(),o.translate(r/2,a/2),o.rotate(-Math.PI/2),o.translate(-a/2,-r/2),o.drawImage(n,t,0),e&&o.drawImage(n,e,0),o.restore()}},{key:"drawRGBLed",value:function(t,e,n,i,o,r,a){if(t.width=o,t.height=r,t.getContext){var s=t.getContext("2d"),l=t.width/2,c=t.height/2,u=t.width/3;if(a){var d=s.createRadialGradient(l,c,t.width/5,l,c,t.width/2);d.addColorStop(0,"rgb(".concat(e,", ").concat(n,", ").concat(i,")")),d.addColorStop(1,"white"),s.beginPath(),s.fillStyle=d,s.arc(l,c,t.width/2,0,2*Math.PI),s.fill()}s.beginPath(),s.fillStyle="rgb(".concat(e,", ").concat(n,", ").concat(i,")"),s.arc(l,c,u,0,2*Math.PI),s.fill(),s.beginPath();var h=e-20>=0?e-20:0,p=n-20>=0?n-20:0,f=i-20>=0?i-20:0;s.strokeStyle="rgb(".concat(h,", ").concat(p,", ").concat(f,")"),s.arc(l,c,u,0,2*Math.PI),s.stroke()}}}]),e}();const S=function(e){p(s,e);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function s(e){var n;t(this,s),a(c(n=o.call(this,e)),"amount",5),a(c(n),"ledOffColor",{r:200,g:200,b:200}),a(c(n),"startPositionY",0),a(c(n),"container",null),a(c(n),"dwenguinoBoardSimulation",null),a(c(n),"conveyorDisplayHelper",null),a(c(n),"sensorPins",[0,1,2,3,4]),a(c(n),"buttonPins",[5,6,7,8,9]),n.dwenguinoBoardSimulation=new b(e);return n.dimensions={button:{width:180/n.amount,height:180/n.amount,spacing:120/(n.amount-1)},led:{width:180/n.amount,height:180/n.amount,spacing:120/(n.amount-1)},sensor:{width:248/n.amount,height:248/n.amount,spacing:61.999999999999986/(n.amount-1)},conveyor:{width:310,length:440,border:30}},n.conveyorDisplayHelper=new x(n.dimensions,n.amount,n.startPositionY,n.sensorPins,n.buttonPins),n.initSimulationState(null),n}return r(s,[{key:"initSimulationState",value:function(t){d(u(s.prototype),"initSimulationState",this).call(this,t),this.containerWidth=0,this.containerHeight=0,this.state={buttons:new Array(this.amount),sensors:new Array(this.amount),leds:new Array(this.amount),conveyorOffsetY:this.startPositionY,orientation:1};for(var e=0;e<this.amount;e++)this.state.buttons[e]={pressed:!1,pos:{x:this.dimensions.button.width*e+this.dimensions.button.spacing*e,y:0}},this.state.leds[e]={on:0,r:255,g:255,b:255,pos:{x:this.dimensions.led.width*e+this.dimensions.led.spacing*e,y:0}},this.state.sensors[e]={r:0,g:0,b:0,pos:{x:this.dimensions.sensor.width*e+this.dimensions.sensor.spacing*e,y:0}}}},{key:"initSimulationDisplay",value:function(t){d(u(s.prototype),"initSimulationDisplay",this).call(this,t),this.container=$("#".concat(t));var e=$("<div>").attr("id","left_container").css({position:"absolute",width:"60%",top:0,bottom:0,left:0}),n=$("<div>").attr("id","right_container").css({position:"absolute",width:"40%","max-width":"370px",top:0,bottom:0,right:0});this.container.append(e).append(n);var i="boardContainer",o=$("<div>").attr("id",i).css({position:"absolute",width:"90%",height:"35%",padding_right:"10px",padding_left:"10px",padding_top:"10px"});n.append(o),this.conveyorDisplayHelper.createModal(this.container,this.conveyorDisplayHelper.ModalType.CONVEYOR),this.conveyorDisplayHelper.initCanvas(),this.conveyorDisplayHelper.createControlsMenu(n),this.conveyorDisplayHelper.createRobotDisplay(e,this.state.leds,this.state.buttons,this.state.sensors),this.conveyorDisplayHelper.drawCurrentImageOnCanvasses(),this.conveyorDisplayHelper.createModal(this.container,this.conveyorDisplayHelper.ModalType.PIN);for(var r=this,a=function(t){$("#sim_button_"+t).mouseup((function(){r.releaseButton(t)})).mousedown((function(){r.pressButton(t)}))},l=0;l<this.amount;l++)a(l);document.onkeydown=function(t){"w"==(t=t||window.event).key?r.pressButton(0):"x"==t.key?r.pressButton(1):"c"==t.key?r.pressButton(2):"v"==t.key?r.pressButton(3):"b"==t.key&&r.pressButton(4)},document.onkeyup=function(t){"w"==(t=t||window.event).key?r.releaseButton(0):"x"==t.key?r.releaseButton(1):"c"==t.key?r.releaseButton(2):"v"==t.key?r.releaseButton(3):"b"==t.key&&r.releaseButton(4)};for(var c=function(t){$("#select_snr_"+t).change((function(){var e=$(this).val();console.log("changed pin for sensor "+t+" to "+e),r.sensorPins[t]=e})),$("#select_btn_"+t).change((function(){var e=$(this).val();console.log("changed pin for button "+t+" to "+e),r.buttonPins[t]=e}))},h=0;h<this.amount;h++)c(h);this.dwenguinoBoardSimulation.setBoardDisplayWidthWidth("80%"),this.dwenguinoBoardSimulation.setComponentsRightPosition("-1000px"),this.dwenguinoBoardSimulation.initSimulationState(null),this.dwenguinoBoardSimulation.initSimulationDisplay(i),$("#sim_board").addClass("sim_board_column_placement"),new ResizeSensor(r.container,(function(){console.log("myelement has been resized"),r.containerWidth=r.container.width(),r.containerHeight=r.container.height()}))}},{key:"pressButton",value:function(t){this.state.buttons[t].pressed=!0}},{key:"releaseButton",value:function(t){this.state.buttons[t].pressed=!1}},{key:"updateScenario",value:function(t){d(u(s.prototype),"updateScenario",this).call(this,t),this.updateScenarioState(t),this.updateScenarioDisplay(t),this.dwenguinoBoardSimulation.updateScenario(t)}},{key:"updateScenarioState",value:function(t){d(u(s.prototype),"updateScenarioState",this).call(this,t);var e=t.getMotorSpeed(1);this.state.orientation=e/Math.abs(e),this.state.conveyorOffsetY-=e/100,e>0?this.state.conveyorOffsetY<=-2*this.dimensions.conveyor.length&&(this.state.conveyorOffsetY=0):this.state.conveyorOffsetY>=this.dimensions.conveyor.length&&(this.state.conveyorOffsetY=-this.dimensions.conveyor.length);for(var n=this.getSensorData(),i=0;i<this.amount;i++)this.state.sensors[i].r=n[i].r,this.state.sensors[i].g=n[i].g,this.state.sensors[i].b=n[i].b,t.setIoPinState(this.buttonPins[i],!this.state.buttons[i].pressed);this.conveyorDisplayHelper.updatePins(this.sensorPins,this.buttonPins)}},{key:"getSensorData",value:function(){for(var t=document.getElementById("sim_conveyor_paper").getContext("2d"),e=new Array(this.amount),n=0;n<this.amount;n++){var i=this.state.sensors[n].pos.x+this.dimensions.sensor.width/2,o=this.dimensions.conveyor.length-2*this.dimensions.sensor.height/3,r=t.getImageData(i,o,1,1);e[n]={r:r.data[0],g:r.data[1],b:r.data[2]}}return e}},{key:"getColorSensorOnPin",value:function(t){for(var e=0;e<this.amount;e++)if(t==this.sensorPins[e])return[this.state.sensors[e].r,this.state.sensors[e].g,this.state.sensors[e].b];return[-1,-1,-1]}},{key:"updateScenarioDisplay",value:function(t){d(u(s.prototype),"updateScenarioDisplay",this).call(this,t),this.isSimulationRunning?this.conveyorDisplayHelper.setSensorsOpacity(.5):this.conveyorDisplayHelper.setSensorsOpacity(1),this.conveyorDisplayHelper.updateConveyorPaper(this.state.conveyorOffsetY,this.state.conveyorOffsetY+2*this.dimensions.conveyor.length*this.state.orientation);for(var e=0;e<this.amount;e++)if(this.state.leds[e].on){var n=document.getElementById("sim_led_"+e);this.conveyorDisplayHelper.drawRGBLed(n,this.state.leds[e].r,this.state.leds[e].g,this.state.leds[e].b,this.dimensions.led.width,this.dimensions.led.height,!0)}else{var i=document.getElementById("sim_led_"+e);this.conveyorDisplayHelper.drawRGBLed(i,this.ledOffColor.r,this.ledOffColor.g,this.ledOffColor.b,this.dimensions.led.width,this.dimensions.led.height,!1)}}},{key:"setIsSimulationRunning",value:function(t){this.isSimulationRunning=t,this.dwenguinoBoardSimulation.setIsSimulationRunning(t)}}]),s}(y),C=10,T=380,E=200;var P=function(){function e(n,i){if(t(this,e),this._eventBus=n,this._htmlClasses=i,void 0===this.toString)throw new Error("You have to implement the method toString");if(void 0===this.toggleVisibility)throw new Error("You have to implement the method toggleVisibility");if(void 0===this.reset)throw new Error("You have to implement the method reset");if(void 0===this.insertHtml)throw new Error("You have to implement the method insertHtml to add the component to the simulation container");if(void 0===this.removeHtml)throw new Error("You have to implement the method removeHtml to remove the component from the simulation container");if(void 0===this.toXml)throw new Error("You have to implement the method toXml to save the robot component to an XML file")}return r(e,[{key:"setHtmlClasses",value:function(t){this._htmlClasses=t}},{key:"getHtmlClasses",value:function(){return this._htmlClasses}}]),e}();function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}}(t,e)||k(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}i(671);const D=function(){function e(){t(this,e)}return r(e,[{key:"render",value:function(t){this.clearCanvases(),this.drawLcd(t),this.drawLeds(t),this.drawRgbLeds(t),this.drawLedmatrices(t),this.drawLedmatricesSegments(t),this.drawServos(t),this.drawTouchSensors(t),this.drawPirs(t),this.drawSonars(t),this.drawSoundSensors(t),this.drawLightSensors(t)}},{key:"drawLcd",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.LCD){for(var n=0;n<2;++n)$("#sim_lcd_row"+n).text(t[e].getState()[n]),null!==document.getElementById("sim_lcd_row"+n)&&(document.getElementById("sim_lcd_row"+n).innerHTML=document.getElementById("sim_lcd_row"+n).innerHTML.replace(/ /g,"&nbsp;"));var i=document.getElementById("sim_lcds");null!==i&&(i.style.display="none",i.offsetHeight,i.style.display="block")}}},{key:"initializeCanvas",value:function(t,e){var n=e.getCanvasId(),i=document.getElementById(n);null!==i&&(this.configureCanvasDimensions(i),this.render(t))}},{key:"clearCanvases",value:function(){for(var t=document.getElementsByClassName("sim_canvas"),e=0;e<t.length;e++)t.item(e).getContext&&t.item(e).getContext("2d").clearRect(0,0,t.item(e).width,t.item(e).height)}},{key:"clearCanvas",value:function(t){var e=document.getElementById(t);e.getContext&&e.getContext("2d").clearRect(0,0,e.width,e.height)}},{key:"drawLeds",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.LED){var n=document.getElementById(t[e].getCanvasId());this.drawLed(t[e],n)}}},{key:"drawLed",value:function(t,e){if(e.getContext){var n=e.getContext("2d");n.beginPath(),n.arc(e.width/2,e.height/2,t.getRadius(),0,2*Math.PI),1===t.getState()?n.fillStyle=t.getOnColor():n.fillStyle=t.getOffColor(),n.fill(),n.fillStyle=t.getBorderColor(),n.stroke()}else console.log(e,"This canvas has no context")}},{key:"drawRgbLeds",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.RGBLED){var n=document.getElementById(t[e].getCanvasId());this.drawRgbLed(t[e],n)}}},{key:"drawRgbLed",value:function(t,e){if(e.getContext){var n=this;t.getLedBackground().onload=function(){var i=e.getContext("2d"),o=t.getLedBackground();i.drawImage(o,0,0,40,30),i.beginPath(),i.arc(25,15,t.getRadius(),0,2*Math.PI);var r=t.getState();if(0==r[0]&&0==r[1]&&0==r[2])i.fillStyle="#CCCCCC";else{var a=n.rgbToHex(r);i.fillStyle=a}i.fill(),i.translate(16,6);var s=t.getLedSvg();i.drawImage(s,0,0,18,18),i.translate(-16,-6)};var i=e.getContext("2d"),o=t.getLedBackground();i.drawImage(o,0,0,40,30),i.beginPath(),i.arc(25,15,t.getRadius(),0,2*Math.PI);var r=t.getState();if(0==r[0]&&0==r[1]&&0==r[2])i.fillStyle="#CCCCCC";else{var a=n.rgbToHex(r);i.fillStyle=a}i.fill(),i.translate(16,6);var s=t.getLedSvg();i.drawImage(s,0,0,18,18),i.translate(-16,-6)}else console.log(e,"This canvas has no context")}},{key:"rgbToHex",value:function(t){return"#"+this.componentToHex(t[0])+this.componentToHex(t[1])+this.componentToHex(t[2])}},{key:"componentToHex",value:function(t){var e=t.toString(16);return 1==e.length?"0"+e:e}},{key:"drawLedmatrices",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.LEDMATRIX){var n=document.getElementById(t[e].getCanvasId());this.drawLedmatrix(t[e],n)}}},{key:"drawLedmatrix",value:function(t,e){if(e.getContext){t.getLedmatrixBackground().onload=function(){e.getContext("2d").drawImage(t.getLedmatrixBackground(),0,0,296,70)},t.getLedSvg().onload=function(){for(var n=e.getContext("2d"),i=t.getLedOffsets(),o=t.getState(),r=0;r<4;r++)for(var a=0;a<8;a++)for(var s=0;s<8;s++)if(Array.isArray(o)&&1==o[r][s][a]){var l=i.left+i.led_x+s*i.led_between_x+r*i.matrix_segment_between_x,c=i.led_y+a*i.led_between_y,u=i.led_radius,d=i.led_radius;n.drawImage(t.getLedSvg(),l,c,u,d)}};var n=e.getContext("2d");n.drawImage(t.getLedmatrixBackground(),0,0,296,70);for(var i=t.getLedOffsets(),o=t.getState(),r=0;r<4;r++)for(var a=0;a<8;a++)for(var s=0;s<8;s++)if(Array.isArray(o)&&1==o[r][s][a]){var l=i.left+i.led_x+s*i.led_between_x+r*i.matrix_segment_between_x,c=i.led_y+a*i.led_between_y,u=i.led_radius,d=i.led_radius;n.drawImage(t.getLedSvg(),l,c,u,d)}}else console.log(e,"This canvas has no context")}},{key:"drawLedmatricesSegments",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.LEDMATRIXSEGMENT){var n=document.getElementById(t[e].getCanvasId());this.drawLedmatrixSegment(t[e],n)}}},{key:"drawLedmatrixSegment",value:function(t,e){if(e.getContext){t.getLedmatrixBackground().onload=function(){e.getContext("2d").drawImage(t.getLedmatrixBackground(),0,0,84,70)},t.getLedSvg().onload=function(){for(var n=e.getContext("2d"),i=t.getLedOffsets(),o=t.getState(),r=t.getId()-1,a=0;a<8;a++)for(var s=0;s<8;s++)if(Array.isArray(o)&&1==o[r][s][a]){var l=i.left+i.led_x+s*i.led_between_x,c=i.led_y+a*i.led_between_y,u=i.led_radius,d=i.led_radius;n.drawImage(t.getLedSvg(),l,c,u,d)}};var n=e.getContext("2d");n.drawImage(t.getLedmatrixBackground(),0,0,84,70);for(var i=t.getLedOffsets(),o=t.getState(),r=t.getId()-1,a=0;a<8;a++)for(var s=0;s<8;s++)if(Array.isArray(o)&&1==o[r][s][a]){var l=i.left+i.led_x+s*i.led_between_x,c=i.led_y+a*i.led_between_y,u=i.led_radius,d=i.led_radius;n.drawImage(t.getLedSvg(),l,c,u,d)}}else console.log(e,"This canvas has no context")}},{key:"drawServos",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.SERVO){var n=document.getElementById(t[e].getCanvasId());this.clearCanvas(t[e].getCanvasId()),this.drawServo(t[e],n)}}},{key:"drawServo",value:function(t,e){if(e.getContext){var n=this;t.getServoBackground().onload=function(){var i=e.getContext("2d");switch(t.getCostume()){case"plain":n.drawServoBackground(i,t);break;case"plainrotate90":n.drawServoBackground(i,t,90)}},t.getImage(0).onload=function(){var i=e.getContext("2d");switch(i.fillStyle=t.getBackgroundColor(),t.getCostume()){case"plain":n.drawRotatedServohead(i,t);break;case"plainrotate90":n.drawRotatedServoheadRotated(i,t,90);break;case"eye":n.drawEye(i,t,e);break;case"righthand":i.fillRect(t.getX()+100,t.getY()+30,t.getWidth()-100,t.getHeight()-60),n.drawRightHand(i,t);break;case"lefthand":i.fillRect(t.getX()+10,t.getY()+30,t.getWidth()-28,t.getHeight()-60),n.drawLeftHand(i,t)}};var i=e.getContext("2d");switch(i.fillStyle=t.getBackgroundColor(),t.getCostume()){case"plain":n.drawServoBackground(i,t),n.drawRotatedServohead(i,t);break;case"plainrotate90":n.drawServoBackground(i,t,90),n.drawRotatedServoheadRotated(i,t,90);break;case"eye":n.drawEye(i,t,e);break;case"righthand":i.fillRect(t.getX()+100,t.getY()+30,t.getWidth()-100,t.getHeight()-60),n.drawRightHand(i,t);break;case"lefthand":i.fillRect(t.getX()+10,t.getY()+30,t.getWidth()-28,t.getHeight()-60),n.drawLeftHand(i,t)}}else console.log(e,"This canvas has no context")}},{key:"drawPirs",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.PIR){var n=document.getElementById(t[e].getCanvasId());this.drawPir(t[e],n)}}},{key:"drawPir",value:function(t,e){e.getContext?(t.getImage().onload=function(){e.getContext("2d").drawImage(t.getImage(),0,0,t.getWidth(),t.getHeight())},e.getContext("2d").drawImage(t.getImage(),0,0,t.getWidth(),t.getHeight())):console.log(e,"This canvas has no context")}},{key:"drawTouchSensors",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.TOUCH){var n=document.getElementById(t[e].getCanvasId());this.drawTouchSensor(t[e],n)}}},{key:"drawTouchSensor",value:function(t,e){e.getContext?(t.getImage().onload=function(){e.getContext("2d").drawImage(t.getImage(),0,0,t.getWidth(),t.getHeight())},e.getContext("2d").drawImage(t.getImage(),0,0,t.getWidth(),t.getHeight())):console.log(e,"This canvas has no context")}},{key:"drawSonars",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.SONAR){var n=document.getElementById(t[e].getCanvasId());this.drawSonar(t[e],n)}}},{key:"drawSonar",value:function(t,e){e.getContext?(t.getImage().onload=function(){e.getContext("2d").drawImage(t.getImage(),0,0,t.getWidth(),t.getHeight())},e.getContext("2d").drawImage(t.getImage(),0,0,t.getWidth(),t.getHeight())):console.log(e,"This canvas has no context")}},{key:"drawServoBackground",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.getServoBackground();0!=n&&(i=e.getServoBackgroundRotated()),t.translate(e.getX(),e.getY()),t.drawImage(i,0,0,e.getWidth(),e.getHeight()),t.translate(-e.getX(),-e.getY())}},{key:"drawRotatedServohead",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDirection(e.getPrevAngle(),e.getAngle()),o=e.getAngle()-e.getPrevAngle();if(0!=o)if(o>5||o<-5){var r=e.getPrevAngle()+5*i;e.setPrevAngle(r),t.translate(e.getX()+e.getWidth()/2,e.getY()+e.getHeight()/2),t.rotate(n*Math.PI/180),t.rotate(e.getPrevAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(-e.getPrevAngle()*Math.PI/180),t.rotate(-n*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2,-e.getY()-e.getHeight()/2)}else{var a=e.getPrevAngle()+o;e.setPrevAngle(a),t.translate(e.getX()+e.getWidth()/2,e.getY()+e.getHeight()/2),t.rotate(n*Math.PI/180),t.rotate(e.getAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(-e.getAngle()*Math.PI/180),t.rotate(-n*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2,-e.getY()-e.getHeight()/2)}else t.translate(e.getX()+e.getWidth()/2,e.getY()+e.getHeight()/2),t.rotate(n*Math.PI/180),t.rotate(e.getAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(-e.getAngle()*Math.PI/180),t.rotate(-n*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2,-e.getY()-e.getHeight()/2)}},{key:"drawRotatedServoheadRotated",value:function(t,e,n){var i=this.getDirection(e.getPrevAngle(),e.getAngle()),o=e.getAngle()-e.getPrevAngle();if(0!=o)if(o>5||o<-5){var r=e.getPrevAngle()+5*i;e.setPrevAngle(r),t.translate(e.getX()+e.getWidth()/2,e.getY()+e.getHeight()/2),t.rotate(n*Math.PI/180),t.rotate(e.getPrevAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getHeight()/2,-e.getWidth()/2,e.getHeight(),e.getWidth()),t.rotate(-e.getPrevAngle()*Math.PI/180),t.rotate(-n*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2,-e.getY()-e.getHeight()/2)}else{var a=e.getPrevAngle()+o;e.setPrevAngle(a),t.translate(e.getX()+e.getWidth()/2,e.getY()+e.getHeight()/2),t.rotate(n*Math.PI/180),t.rotate(e.getAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getHeight()/2,-e.getWidth()/2,e.getHeight(),e.getWidth()),t.rotate(-e.getAngle()*Math.PI/180),t.rotate(-n*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2,-e.getY()-e.getHeight()/2)}else t.translate(e.getX()+e.getWidth()/2,e.getY()+e.getHeight()/2),t.rotate(n*Math.PI/180),t.rotate(e.getAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getHeight()/2,-e.getWidth()/2,e.getHeight(),e.getWidth()),t.rotate(-e.getAngle()*Math.PI/180),t.rotate(-n*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2,-e.getY()-e.getHeight()/2)}},{key:"drawEye",value:function(t,e,n){this.renderEyeBall(t,e,n),this.renderIris(t,e,n)}},{key:"renderEyeBall",value:function(t,e,n){var i=e.getImage(0);t.drawImage(i,0,0,100,100)}},{key:"renderIris",value:function(t,e,n){var i=e.getImage(1);i.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/eye1_forground.svg");var o=this.getDirection(e.getPrevAngle(),e.getAngle()),r=e.getAngle()-e.getPrevAngle();if(0!=r){var a=e.getPrevAngle()/120*(n.width-60)+5;if(r>5||r<-5){var s=e.getPrevAngle()+5*o;e.setPrevAngle(s),e.getPrevAngle()>=0&e.getPrevAngle()<=120?t.drawImage(i,a,n.height/2-30,60,60):e.getPrevAngle()<=130&&(a=n.width-60+5,t.drawImage(i,a,n.height/2-30,60,60))}else{var l=e.getPrevAngle()+r;e.setPrevAngle(l),e.getPrevAngle()>=0&e.getPrevAngle()<=120?t.drawImage(i,a,n.height/2-30,60,60):e.getPrevAngle()<=130&&(a=n.width-60+5,t.drawImage(i,a,n.height/2-30,60,60))}}else a=e.getAngle()/120*(n.width-60)+5,e.getAngle()>=0&e.getAngle()<=120?t.drawImage(i,a,n.height/2-30,60,60):e.getAngle()<=130&&(a=n.width-60+5,t.drawImage(i,a,n.height/2-30,60,60))}},{key:"drawRightHand",value:function(t,e){var n=e.getAngle()-e.getPrevAngle();n>0?this.drawDown(t,e):n<0?this.drawUp(t,e):(t.translate(e.getX()+e.getWidth()/2+50,e.getY()+e.getHeight()/2),t.rotate(-e.getAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(e.getAngle()*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2-50,-e.getY()-e.getHeight()/2))}},{key:"drawDown",value:function(t,e){var n=e.getAngle()-e.getPrevAngle();if(n>=5){var i=e.getPrevAngle()+5;e.setPrevAngle(i),t.translate(e.getX()+e.getWidth()/2+50,e.getY()+e.getHeight()/2),t.rotate(-e.getPrevAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(e.getPrevAngle()*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2-50,-e.getY()-e.getHeight()/2)}else{var o=e.getPrevAngle()+n;e.setPrevAngle(o),t.translate(e.getX()+e.getWidth()/2+50,e.getY()+e.getHeight()/2),t.rotate(-e.getAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(e.getAngle()*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2-50,-e.getY()-e.getHeight()/2)}}},{key:"drawUp",value:function(t,e){var n=e.getPrevAngle()-e.getAngle();if(n>=5){var i=e.getPrevAngle()-5;e.setPrevAngle(i),t.translate(e.getX()+e.getWidth()/2+50,e.getY()+e.getHeight()/2),t.rotate(-e.getPrevAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(e.getPrevAngle()*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2-50,-e.getY()-e.getHeight()/2)}else{var o=e.getPrevAngle()-n;e.setPrevAngle(o),t.translate(e.getX()+e.getWidth()/2+50,e.getY()+e.getHeight()/2),t.rotate(-e.getAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(e.getAngle()*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2-50,-e.getY()-e.getHeight()/2)}}},{key:"drawLeftHand",value:function(t,e){var n=this.getDirection(e.getPrevAngle(),e.getAngle()),i=e.getAngle()-e.getPrevAngle();if(0!=i)if(i>5||i<-5){var o=e.getPrevAngle()+5*n;e.setPrevAngle(o),t.translate(e.getX()+e.getWidth()/2,e.getY()+e.getHeight()/2),t.rotate(-e.getPrevAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(e.getPrevAngle()*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2,-e.getY()-e.getHeight()/2)}else{var r=e.getPrevAngle()+i;e.setPrevAngle(r),t.translate(e.getX()+e.getWidth()/2,e.getY()+e.getHeight()/2),t.rotate(-e.getAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(e.getAngle()*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2,-e.getY()-e.getHeight()/2)}else t.translate(e.getX()+e.getWidth()/2,e.getY()+e.getHeight()/2),t.rotate(-e.getAngle()*Math.PI/180),t.drawImage(e.getImage(0),-e.getWidth()/2,-e.getHeight()/2,e.getWidth(),e.getHeight()),t.rotate(e.getAngle()*Math.PI/180),t.translate(-e.getX()-e.getWidth()/2,-e.getY()-e.getHeight()/2)}},{key:"drawSoundSensors",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.SOUND){var n=document.getElementById(t[e].getCanvasId());this.drawSoundSensor(t[e],n)}}},{key:"drawSoundSensor",value:function(t,e){e.getContext?(t.getImage().onload=function(){e.getContext("2d").drawImage(t.getImage(),0,0,t.getWidth(),t.getHeight())},e.getContext("2d").drawImage(t.getImage(),0,0,t.getWidth(),t.getHeight())):console.log(e,"This canvas has no context")}},{key:"drawLightSensors",value:function(t){for(var e=0;e<t.length;e++)if(t[e].getType()==nt.LIGHT){var n=document.getElementById(t[e].getCanvasId());this.drawLightSensor(t[e],n)}}},{key:"drawLightSensor",value:function(t,e){e.getContext?(t.getImage().onload=function(){e.getContext("2d").drawImage(t.getImage(),0,0,t.getWidth(),t.getHeight())},e.getContext("2d").drawImage(t.getImage(),0,0,t.getWidth(),t.getHeight())):console.log(e,"This canvas has no context")}},{key:"configureCanvasDimensions",value:function(t){var e=window.devicePixelRatio||1,n=t.getBoundingClientRect();t.width=n.width*e,t.height=n.height*e,t.getContext&&t.getContext("2d").scale(e,e)}},{key:"getDirection",value:function(t,e){return e-t>0?1:-1}}]),e}();var O,M=Object.freeze((a(O={downloadClicked:"downloadClicked",blocklyBlockCreate:"blocklyBlockCreate",blocklyBlockDelete:"blocklyBlockDelete",blocklyBlockMove:"blocklyBlockMove",blocklyVarCreate:"blocklyVarCreate",blocklyVarDelete:"blocklyVarDelete",blocklyVarRename:"blocklyVarRename",blocklyUI:"blocklyUI",blocklyChange:"blocklyChange",difficultyLevel:"setDifficultyLevel",undo:"undo",uploadClicked:"uploadClicked",simButtonStateClicked:"simButtonStateClicked",runClicked:"runClicked",changedWorkspace:"changedWorkspace",downloadScenarioClicked:"downloadScenarioClicked",moveRobotComponent:"moveRobotComponent",addRobotComponent:"addRobotComponent",removeRobotComponent:"removeRobotComponent"},"addRobotComponent","addRobotComponent"),a(O,"changedScenario","changedScenario"),a(O,"simStart","simStart"),a(O,"simResume","simResume"),a(O,"simPause","simPause"),a(O,"simStopButtonClicked","simStopButtonClicked"),a(O,"simStep","simStep"),a(O,"simStop","simStop"),a(O,"setSpeed","setSpeed"),a(O,"startTutorial","startTutorial"),a(O,"endTutorial","endTutorial"),a(O,"tutorialNextStep","tutorialNextStep"),a(O,"tutorialPrevStep","tutorialPrevStep"),O)),A={SAVE:"save",INITIALIZECANVAS:"initializecanvas",CLEARCANVAS:"clearcanvas"};Object.freeze(A);var B=function(){function e(n){t(this,e),this.name=n,this.callbacks=[]}return r(e,[{key:"registerCallback",value:function(t){this.callbacks.push(t)}}]),e}(),R=i(755);i(555),window.$=window.jQuery=R;var L={PLAIN:"plain",PLAIN_ROTATE_90:"plainrotate90",EYE:"eye",RIGHTHAND:"righthand",LEFTHAND:"lefthand"};Object.freeze(L);var N=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n,i,r,s,l,c,u,d,h,p){var f;switch(t(this,a),(f=o.call(this,e,p))._id=n,f._type=nt.SERVO,f._width=c,f._height=u,f._x=0,f._y=30,f._offset={left:d,top:h},f._angle=s,f._prevAngle=0,f._image=[new Image,new Image],f._backgroundImage=new Image,f._backgroundImageRotated=new Image,f._backgroundImage.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/servo_background.png"),f._backgroundImageRotated.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/servo_background_rotated_90.png"),r){case L.PLAIN:f._image[0].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/servo_head.png");break;case L.PLAIN_ROTATE_90:f._image[0].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/servo_head.png"),f._x=30,f._y=0;break;case L.EYE:f._image[0].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/eye1_background.svg"),f._image[1].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/eye1_forground.svg");break;case L.RIGHTHAND:f._image[0].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/righthand.png");break;case L.LEFTHAND:f._image[0].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/lefthand.png")}return f._backgroundColor="#206499",f._pin=i,f._costume=r,f._canvasId="sim_servo_canvas"+f._id,f.insertHtml(),f.toggleVisibility(l),f}return r(a,[{key:"toString",value:function(){var t="";return(t=(t=(t=(t=(t=t.concat(this.getType()," ")).concat(this.getId()," ")).concat("Angle ",this.getAngle()," ")).concat("Costume ",this.getCostume()," ")).concat("Pin ",this.getPin()," ")).concat("CanvasId ",this.getCanvasId()," ")}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<canvas id='"+this.getCanvasId()+"' class='"+this.getHtmlClasses()+"'></canvas>"),document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(DwenguinoBlocklyLanguageSettings.translate(["servoOptions"])),t.showDialog()}))}},{key:"removeHtml",value:function(){$("#sim_"+this.getType()+this.getId()).remove()}},{key:"toggleVisibility",value:function(t){t?$("#sim_servo"+this.getId()).css("visibility","visible"):$("#sim_servo"+this.getId()).css("visibility","hidden")}},{key:"toXml",value:function(){var t="";t=(t=(t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'")).concat(" Width='",this.getWidth(),"'")).concat(" Height='",this.getHeight(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" Angle='",this.getAngle(),"'")).concat(" PrevAngle='",this.getPrevAngle(),"'")).concat(" Pin='",parseInt(this.getPin()),"'")).concat(" Costume='",this.getCostume(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this.setAngle(0),this.setPrevAngle(0)}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog(),this.createCostumeOptionsDialog()}},{key:"createPinOptionsInModalDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsPin" class="ui-widget row mb-4">'),$("#componentOptionsPin").append('<div class="col-md-2">Pin</div>'),$("#componentOptionsPin").append('<div id="pin" class="col-md-10"></div>');for(var e=this.getAllPossibleServoPins(),n=function(n){$("#pin").append('<button type="button" id=pin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 pinButton option_button_enabled">'+e[n]+"</button>"),t.getPin()==e[n]&&$("#pin"+e[n]).addClass("option_button_selected");var i=document.getElementById("pin"+e[n]);i.addEventListener("click",(function(){var e=i.name;t.setPin(e),$(".pinButton").removeClass("option_button_selected"),i.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE)}))},i=0;i<e.length;i++)n(i);3==this.getId()?($(".pinButton").prop("disabled",!0),$(".pinButton").addClass("option_button_disabled"),$("#pin19.pinButton").prop("disabled",!1),$("#pin19.pinButton").removeClass("option_button_disabled"),$("#pin19.pinButton").addClass("option_button_selected")):4==this.getId()?($(".pinButton").prop("disabled",!0),$(".pinButton").addClass("option_button_disabled"),$("#pin18.pinButton").prop("disabled",!1),$("#pin18.pinButton").removeClass("option_button_disabled"),$("#pin18.pinButton").addClass("option_button_selected")):2==this.getId()?($(".pinButton").prop("disabled",!0),$(".pinButton").addClass("option_button_disabled"),$("#pin17.pinButton").prop("disabled",!1),$("#pin17.pinButton").removeClass("option_button_disabled"),$("#pin17.pinButton").addClass("option_button_selected")):1==this.getId()?($(".pinButton").prop("disabled",!0),$(".pinButton").addClass("option_button_disabled"),$("#pin16.pinButton").prop("disabled",!1),$("#pin16.pinButton").removeClass("option_button_disabled"),$("#pin16.pinButton").addClass("option_button_selected")):($(".pinButton").removeClass("option_button_disabled"),$("#pin40.pinButton").prop("disabled",!0),$("#pin41.pinButton").prop("disabled",!0),$("#pin40.pinButton").addClass("option_button_disabled"),$("#pin41.pinButton").addClass("option_button_disabled"))}},{key:"getAllPossibleServoPins",value:function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,40,41]}},{key:"createCostumeOptionsDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsCostume" class="ui-widget row mb-4">'),$("#componentOptionsCostume").append('<div class="col-md-2">'+DwenguinoBlocklyLanguageSettings.translate(["servoCostume"])+"</div>"),$("#componentOptionsCostume").append('<div id="costume" class="col-md-10"></div>');var e={plain:"".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/servo.png"),plainrotate90:"".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/servo_rotated_90.png"),eye:"".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/eye.png"),righthand:"".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/righthand_icon.png"),lefthand:"".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/lefthand_icon.png")};$("#costume").append('<div id="costume_inner" class="row"></div>');for(var n=function(){var n=I(o[i],2),r=(n[0],n[1]);$("#costume_inner").append("<div id=costume"+r+" name="+r+' class="col-lg-3 col-md-2 col-sm-3 col-xs-4 ml-2 mb-2 costumeButton"></div>'),t.getCostume()==r&&$("#costume"+r).addClass("active"),$("#costume"+r).append('<img src="'+e[r]+'" class="img-fluid">');var a=document.getElementById("costume"+r);a.addEventListener("click",(function(){$("#costume"+r).addClass("active");var e=t.getCostume();$("#costume"+e).removeClass("active"),t._eventBus.dispatchEvent(A.CLEARCANVAS,t.getCanvasId());var n=a.getAttribute("name");switch(n){case L.PLAIN:t.setHtmlClasses("sim_canvas servo_canvas"),t.setCostume(n),t.setWidth(100),t.setHeight(50),t.setX(0),t.setY(30);break;case L.PLAIN_ROTATE_90:t.setHtmlClasses("sim_canvas servo_canvas"),t.setCostume(n),t.setWidth(50),t.setHeight(100),t.setX(30),t.setY(0);break;case L.EYE:t.setHtmlClasses("servo_canvas"),t.setCostume(n),t.setWidth(35),t.setHeight(35),t.setX(0),t.setY(30);break;case L.RIGHTHAND:case L.LEFTHAND:t.setHtmlClasses("servo_canvas hand_canvas"),t.setCostume(n),t.setWidth(64),t.setHeight(149),t.setX(0),t.setY(30)}document.getElementById(t.getCanvasId()).className="",document.getElementById(t.getCanvasId()).className=t.getHtmlClasses(),t._eventBus.dispatchEvent(A.INITIALIZECANVAS,t),t._eventBus.dispatchEvent(A.SAVE)}))},i=0,o=Object.entries(L);i<o.length;i++)n()}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setWidth",value:function(t){this._width=t}},{key:"getWidth",value:function(){return this._width}},{key:"setHeight",value:function(t){this._height=t}},{key:"getHeight",value:function(t){return this._height}},{key:"setX",value:function(t){this._x=t}},{key:"getX",value:function(){return this._x}},{key:"setY",value:function(t){this._y=t}},{key:"getY",value:function(){return this._y}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setAngle",value:function(t){this._angle=t}},{key:"getAngle",value:function(){return this._angle}},{key:"setPrevAngle",value:function(t){this._prevAngle=t}},{key:"getPrevAngle",value:function(){return this._prevAngle}},{key:"setImage",value:function(t,e){this._image[t].src=e}},{key:"getImage",value:function(t){return this._image[t]}},{key:"setBackgroundColor",value:function(t){this._backgroundColor=t}},{key:"getBackgroundColor",value:function(){return this._backgroundColor}},{key:"setPin",value:function(t){this._pin=t}},{key:"getPin",value:function(){return this._pin}},{key:"setCostume",value:function(t){switch(this._costume=t,t){case L.PLAIN:case L.PLAIN_ROTATE_90:this._image[0].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/servo_head.png");break;case L.EYE:this._image[0].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/eye1_background.svg"),this._image[1].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/eye1_forground.svg");break;case L.RIGHTHAND:this._image[0].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/righthand.png");break;case L.LEFTHAND:this._image[0].src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/lefthand.png")}}},{key:"getServoBackground",value:function(){return this._backgroundImage}},{key:"getServoBackgroundRotated",value:function(){return this._backgroundImageRotated}},{key:"getCostume",value:function(){return this._costume}},{key:"getCanvasId",value:function(){return this._canvasId}}]),a}(P);var F={red:"red",yellow:"yellow",blue:"blue",green:"#72f542"};Object.freeze(F);var j=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n,i,r,s,l,c,u,d,h,p,f,g,m){var v;return t(this,a),(v=o.call(this,e,m))._id=n,v._type=nt.LED,v._radius=l,v._x=c,v._y=u,v._offset={left:d,top:h},v._onColor=p,v._offColor=f,v._borderColor=g,v._pin=i,v._state=r,v._canvasId="sim_led_canvas"+v._id,v.insertHtml(),v.toggleVisibility(s),v}return r(a,[{key:"toString",value:function(){return"led"}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<canvas id='"+this.getCanvasId()+"' class='"+this.getHtmlClasses()+"'></canvas>"),document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(DwenguinoBlocklyLanguageSettings.translate(["ledOptions"])),t.showDialog()}))}},{key:"removeHtml",value:function(){$("#sim_"+this.getType()+this.getId()).remove()}},{key:"toXml",value:function(){var t="";t=(t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'")).concat(" Radius='",this.getRadius(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" OnColor='",this.getOnColor(),"'")).concat(" OffColor='",this.getOffColor(),"'")).concat(" BorderColor='",this.getBorderColor(),"'")).concat(" Pin='",this.getPin(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this.setX(0),this.setY(0),this.setState(0)}},{key:"toggleVisibility",value:function(t){t?$("#sim_led"+this.getId()).css("visibility","visible"):$("#sim_led"+this.getId()).css("visibility","hidden")}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog(),this.createColorOptionsDialog()}},{key:"createPinOptionsInModalDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsPin" class="ui-widget row mb-4">'),$("#componentOptionsPin").append('<div class="col-md-2">Pin</div>'),$("#componentOptionsPin").append('<div id="pin" class="col-md-10"></div>');for(var e=this.getAllPossiblePins(),n=function(n){$("#pin").append('<button type="button" id=pin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 pinButton option_button_enabled">'+e[n]+"</button>"),t.getPin()==e[n]&&$("#pin"+e[n]).addClass("option_button_selected");var i=document.getElementById("pin"+e[n]);i.addEventListener("click",(function(){var e=i.name;t.setPin(e),$(".pinButton").removeClass("option_button_selected"),i.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE)}))},i=0;i<e.length;i++)n(i)}},{key:"getAllPossiblePins",value:function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}},{key:"createColorOptionsDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsColor" class="ui-widget row mb-4">'),$("#componentOptionsColor").append('<div class="col-md-2">Color</div>'),$("#componentOptionsColor").append('<div id="color" class="col-md-10"></div>');for(var e=function(){var e=I(i[n],2),o=e[0],r=e[1];$("#color").append('<button type="button" id=color'+r+" name="+o+' class="col-md-1 ml-2 mb-2 colorButton"></buttons>');var a=document.getElementById("color"+r);a.classList.add(o),t.getOnColor()==o&&a.classList.add("colorButton_selected"),a.addEventListener("click",(function(){t._eventBus.dispatchEvent(A.CLEARCANVAS,t.getCanvasId());var e=a.getAttribute("name");t.setOnColor(e),$(".colorButton").removeClass("colorButton_selected"),a.classList.add("colorButton_selected"),t._eventBus.dispatchEvent(A.INITIALIZECANVAS,t),t._eventBus.dispatchEvent(A.SAVE)}))},n=0,i=Object.entries(F);n<i.length;n++)e()}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setRadius",value:function(t){this._radius=t}},{key:"getRadius",value:function(){return this._radius}},{key:"setX",value:function(t){this._x=t}},{key:"getX",value:function(){return this._x}},{key:"setY",value:function(t){this._y=t}},{key:"getY",value:function(){return this._y}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setOnColor",value:function(t){this._onColor=t}},{key:"getOnColor",value:function(){return this._onColor}},{key:"setOffColor",value:function(t){this._offColor=t}},{key:"getOffColor",value:function(){return this._offColor}},{key:"setBorderColor",value:function(t){this._borderColor=t}},{key:"getBorderColor",value:function(){return this._borderColor}},{key:"setPin",value:function(t){this._pin=t}},{key:"getPin",value:function(){return this._pin}},{key:"setState",value:function(t){this._state=t}},{key:"getState",value:function(){return this._state}},{key:"getCanvasId",value:function(){return this._canvasId}}]),a}(P);var H=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return t(this,a),(i=o.call(this,e,c))._id=n,i._type=nt.LCD,i._offset={left:s,top:l},i._state=new Array(2),i.insertHtml(),i.toggleVisibility(r),i}return r(a,[{key:"toString",value:function(){return"lcd"}},{key:"insertHtml",value:function(){$("#sim_container").append("<div id='sim_lcd"+this.getId()+"' class='sim_element sim_element_lcd draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_lcd"+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_lcd"+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_lcd"+this.getId()).append("<div id='sim_element_lcd_img'></div>"),$("#sim_element_lcd_img").append('<div class="lcd" id="sim_lcd_row0"></div>'),$("#sim_element_lcd_img").append('<div class="lcd" id="sim_lcd_row1"></div>')}},{key:"removeHtml",value:function(){$("#sim_lcd"+this.getId()).remove()}},{key:"toXml",value:function(){var t="";t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){}},{key:"toggleVisibility",value:function(t){t?$("#sim_lcd"+this.getId()).css("visibility","visible"):$("#sim_lcd"+this.getId()).css("visibility","hidden")}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setState",value:function(t,e){this._state[0]=t,this._state[1]=e}},{key:"getState",value:function(){return this._state}}]),a}(P);window.$=window.jQuery=R;var W=function(){function e(n,i,o,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";t(this,e),this._id=n,this._parentId=i,this._minValue=o,this._maxValue=r,this._initialValue=a,this._label=s,this._valuePrefix=l,this._valueSuffix=c,this._sliderId="slider_"+this._id,this._sliderLabelId="slider_"+this._id+"_label",this._sliderValueId="slider_"+this._id+"_value",this._sliderRangeId="slider_"+this._id+"_range",this._classes=u,this.insert()}return r(e,[{key:"toString",value:function(){return"Slider "+this._id}},{key:"insert",value:function(){if(document.getElementById(this.getSliderRangeId()))console.debug("already exists");else{if(!document.getElementById(this.getParentId()))return void console.debug("The parent of slider "+this.getSliderId()+" does not exist");""!=this.getLabel()&&this.insertLabel(),$("#"+this.getParentId()).append('<div id="'+this.getSliderValueId()+'" class="">'+this.getValuePrefix()+this.getInitialValue()+this.getValueSuffix()+"</div>"),$("#"+this.getParentId()).append('<div id="'+this.getSliderId()+'" class="slidecontainer '+this.getClasses()+'"></div>'),$("#"+this.getSliderId()).append('<input id="'+this.getSliderRangeId()+'" type="range" min="'+this.getMinValue()+'" max="'+this.getMaxValue()+'" value="'+this.getInitialValue()+'" class="slider"></input>')}}},{key:"insertLabel",value:function(){var t='<div id="'+this.getSliderLabelId()+'" class="slider_label">'+this.getLabel()+"</div>";$("#"+this.getParentId()).append(t)}},{key:"updateValueLabel",value:function(t){document.getElementById(this.getSliderValueId()).innerHTML=this.getValuePrefix()+t+this.getValueSuffix()}},{key:"remove",value:function(){$("#"+this.getSliderLabelId()).remove(),$("#"+this.getSliderValueId()).remove(),$("#"+this.getSliderId()).remove()}},{key:"getParentId",value:function(){return this._parentId}},{key:"getSliderElement",value:function(){return document.getElementById(this.getSliderRangeId())}},{key:"getInitialValue",value:function(){return this._initialValue}},{key:"getMinValue",value:function(){return this._minValue}},{key:"getMaxValue",value:function(){return this._maxValue}},{key:"getLabel",value:function(){return this._label}},{key:"getValuePrefix",value:function(){return this._valuePrefix}},{key:"getValueSuffix",value:function(){return this._valueSuffix}},{key:"getSliderId",value:function(){return this._sliderId}},{key:"getSliderLabelId",value:function(){return this._sliderLabelId}},{key:"getSliderValueId",value:function(){return this._sliderValueId}},{key:"getSliderRangeId",value:function(){return this._sliderRangeId}},{key:"getClasses",value:function(){return this._classes}}]),e}();var z=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:58,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"sim_canvas sonar_canvas";return t(this,a),(i=o.call(this,e,f))._id=n,i._type=nt.SONAR,i._width=u,i._height=d,i._offset={left:h,top:p},i._image=new Image,i._image.src="".concat(settings.basepath,"DwenguinoIDE/img/board/sonar.png"),i._echoPin=r,i._triggerPin=s,i._state=l,i._stateUpdated=!1,i._slider=null,i._canvasId="sim_sonar_canvas"+i._id,i.insertHtml(),i.toggleVisibility(c),i}return r(a,[{key:"toString",value:function(){return"sonar"}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<canvas id='"+this.getCanvasId()+"' class='"+this.getHtmlClasses()+"'></canvas>");var e=DwenguinoBlocklyLanguageSettings.translate(["sonarSliderLabel"])+" "+this.getId(),n=""+this.getType()+this.getId();this._slider=new W(n,"sensor_options",0,200,0,e,""," cm","sonar_slider");var i=this;this._slider.getSliderElement().oninput=function(){var t=i.getId();i.changeSonarDistance(this.value,t),i._slider.updateValueLabel(this.value)},document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(DwenguinoBlocklyLanguageSettings.translate(["sonarOptions"])),t.showDialog()}))}},{key:"changeSonarDistance",value:function(t){this.setState(t),this._stateUpdated=!0,this._eventBus.dispatchEvent(A.SAVE)}},{key:"removeHtml",value:function(){$("#sim_"+this.getType()+this.getId()).remove(),this.getSlider().remove()}},{key:"toXml",value:function(){var t="";t=(t=(t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'")).concat(" Width='",this.getWidth(),"'")).concat(" Height='",this.getHeight(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" EchoPin='",this.getEchoPin(),"'")).concat(" TriggerPin='",this.getTriggerPin(),"'")).concat(" State='",this.getState(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this.changeSonarDistance(0)}},{key:"toggleVisibility",value:function(t){t?$("#sim_sonar"+this.getId()).css("visibility","visible"):$("#sim_sonar"+this.getId()).css("visibility","hidden")}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog()}},{key:"createPinOptionsInModalDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsTriggerPin" class="ui-widget row mb-4"></div>'),$("#componentOptionsTriggerPin").append('<div class="col-md-2">Trigger pin</div>'),$("#componentOptionsTriggerPin").append('<div id="triggerPin" class="col-md-10"></div>'),$("#componentOptionsModalBody").append('<div id="componentOptionsEchoPin" class="ui-widget row mb-4"></div>'),$("#componentOptionsEchoPin").append('<div class="col-md-2">Echo pin</div>'),$("#componentOptionsEchoPin").append('<div id="echoPin" class="col-md-10"></div>');for(var e=this.getAllPossiblePins(),n=0;n<e.length;n++)$("#triggerPin").append('<button type="button" id=triggerPin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 triggerPinButton pinButton option_button_enabled">'+e[n]+"</button>"),$("#echoPin").append('<button type="button" id=echoPin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 echoPinButton pinButton option_button_enabled">'+e[n]+"</button>");for(var i=function(n){t.getTriggerPin()==e[n]&&($("#triggerPin"+e[n]).addClass("option_button_selected"),$("#echoPin"+e[n]).addClass("option_button_disabled"),$("#echoPin"+e[n]).prop("disabled",!0)),t.getEchoPin()==e[n]&&($("#echoPin"+e[n]).addClass("option_button_selected"),$("#triggerPin"+e[n]).addClass("option_button_disabled"),$("#triggerPin"+e[n]).prop("disabled",!0));var i=document.getElementById("triggerPin"+e[n]),o=document.getElementById("echoPin"+e[n]);i.addEventListener("click",(function(){var e=i.name;t.setTriggerPin(e),$(".triggerPinButton").removeClass("option_button_selected"),i.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE),$(".echoPinButton").removeClass("option_button_disabled"),$(".echoPinButton").prop("disabled",!1),$("#echoPin"+e).addClass("option_button_disabled"),$("#echoPin"+e).prop("disabled",!0)})),o.addEventListener("click",(function(){var e=o.name;t.setEchoPin(e),$(".echoPinButton").removeClass("option_button_selected"),o.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE),$(".triggerPinButton").removeClass("option_button_disabled"),$(".triggerPinButton").prop("disabled",!1),$("#triggerPin"+e).addClass("option_button_disabled"),$("#triggerPin"+e).prop("disabled",!0)}))},o=0;o<e.length;o++)i(o)}},{key:"getAllPossiblePins",value:function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,"A0","A1","A2","A3","A4","A5","A6","A7"]}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setWidth",value:function(t){this._width=t}},{key:"getWidth",value:function(){return this._width}},{key:"setHeight",value:function(t){this._height=t}},{key:"getHeight",value:function(){return this._height}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setImage",value:function(t){this._image.src=t}},{key:"getImage",value:function(){return this._image}},{key:"setEchoPin",value:function(t){this._echoPin=t}},{key:"getEchoPin",value:function(){return this._echoPin}},{key:"setTriggerPin",value:function(t){this._triggerPin=t}},{key:"getTriggerPin",value:function(){return this._triggerPin}},{key:"setState",value:function(t){this._state=t}},{key:"getState",value:function(){return this._state}},{key:"isStateUpdated",value:function(){return this._stateUpdated}},{key:"getCanvasId",value:function(){return this._canvasId}},{key:"getSlider",value:function(){return this._slider}}]),a}(P),U={SERVO:"servo",DCMOTOR:"dcmotor",LED:"led",RGBLED:"rgbled",TOUCH:"touch",PIR:"pir",SONAR:"sonar",LCD:"lcd",SOUND:"sound",LIGHT:"light",BUZZER:"buzzer"};Object.freeze(U);var Y=function e(){if(t(this,e),void 0===this.toString)throw new Error("You have to implement the method toString");if(void 0===this.getType)throw new Error("You have to implement the method getType")};var V=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"sound"}}],[{key:"getType",value:function(){return U.SOUND}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["sonarDescription"])}},{key:"getInputPins",value:function(){return[]}},{key:"getOutputPins",value:function(){return[]}}]),a}(Y);window.$=window.jQuery=R;var X=function(){function e(n,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";t(this,e),this._id=n,this._parentId=i,this._label=o,this._buttonLabelId="button_"+this._id+"_label",this._buttonId="button_"+this._id+"_button",this._labelClasses=r,this._activeClasses="dwenguino_button dwenguino_button_pushed",this._inactiveClasses="dwenguino_button",this.insert()}return r(e,[{key:"toString",value:function(){return"Button "+this._id}},{key:"insert",value:function(){if(document.getElementById(this.getButtonId()))console.debug("A button with id ",this.getButtonId()," already exists.");else{if(!document.getElementById(this.getParentId()))return void console.debug("The parent of button "+this.getSliderId()+" does not exist");""!=this.getLabel()&&this.insertLabel(),$("#"+this.getParentId()).append('<div id="'+this.getButtonId()+'" class="'+this.getInactiveClasses()+'"></div>')}}},{key:"insertLabel",value:function(){var t='<div id="'+this.getButtonLabelId()+'" class="'+this.getLabelClasses()+'">'+this.getLabel()+"</div>";$("#"+this.getParentId()).append(t)}},{key:"reset",value:function(){this.getButtonElement().className=this.getInactiveClasses()}},{key:"update",value:function(){this.isInactive()?this.getButtonElement().className=this.getActiveClasses():this.getButtonElement().className=this.getInactiveClasses()}},{key:"remove",value:function(){$("#"+this.getButtonLabelId()).remove(),$("#"+this.getButtonId()).remove()}},{key:"getParentId",value:function(){return this._parentId}},{key:"getButtonElement",value:function(){return document.getElementById(this.getButtonId())}},{key:"getLabel",value:function(){return this._label}},{key:"getButtonLabelId",value:function(){return this._buttonLabelId}},{key:"getButtonId",value:function(){return this._buttonId}},{key:"getLabelClasses",value:function(){return this._labelClasses}},{key:"getInactiveClasses",value:function(){return this._inactiveClasses}},{key:"getActiveClasses",value:function(){return this._activeClasses}},{key:"isInactive",value:function(){return this.getButtonElement().className===this.getInactiveClasses()}},{key:"isActive",value:function(){return this.getButtonElement().className===this.getActiveClasses()}}]),e}();var q=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n,i,r,s,l,c,u,d,h){var p;return t(this,a),(p=o.call(this,e,h))._id=n,p._type=nt.PIR,p._width=l,p._height=c,p._offset={left:u,top:d},p._image=new Image,p._image.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/pir_off.png"),p._pin=i,p._state=r,p._stateUpdated=!1,p._canvasId="sim_pir_canvas"+p._id,p._button=null,p.insertHtml(),p.toggleVisibility(s),p}return r(a,[{key:"toString",value:function(){return"pir"}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<canvas id='"+this.getCanvasId()+"' class='"+this.getHtmlClasses()+"'></canvas>");var e=DwenguinoBlocklyLanguageSettings.translate(["pirButtonLabel"])+" "+this.getId(),n=""+this.getType()+this.getId();this._button=new X(n,"sensor_options",e);var i=this;this._button.getButtonElement().onclick=function(){i._button.update(),i._button.isActive()?(i.setImage("".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/pir_on.png")),i.setState(1),i._stateUpdated=!0,i._eventBus.dispatchEvent(A.SAVE)):(i.setImage("".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/pir_off.png")),i.setState(0),i._stateUpdated=!0,i._eventBus.dispatchEvent(A.SAVE))},document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(DwenguinoBlocklyLanguageSettings.translate(["pirOptions"])),t.showDialog()}))}},{key:"removeHtml",value:function(){$("#sim_"+this.getType()+this.getId()).remove(),this.getButton().remove()}},{key:"toggleVisibility",value:function(t){t?$("#sim_pir"+this.getId()).css("visibility","visible"):$("#sim_pir"+this.getId()).css("visibility","hidden")}},{key:"toXml",value:function(){var t="";t=(t=(t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'")).concat(" Width='",this.getWidth(),"'")).concat(" Height='",this.getHeight(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" Pin='",this.getPin(),"'")).concat(" State='",this.getState(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this.setState(0),this._stateUpdated=!1}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog()}},{key:"createPinOptionsInModalDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsPin" class="ui-widget row mb-4">'),$("#componentOptionsPin").append('<div class="col-md-2">Pin</div>'),$("#componentOptionsPin").append('<div id="pin" class="col-md-10"></div>');for(var e=this.getAllPossiblePins(),n=function(n){$("#pin").append('<button type="button" id=pin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 pinButton option_button_enabled">'+e[n]+"</button>"),t.getPin()==e[n]&&$("#pin"+e[n]).addClass("option_button_selected");var i=document.getElementById("pin"+e[n]);i.addEventListener("click",(function(){var e=i.name;t.setPin(e),$(".pinButton").removeClass("option_button_selected"),i.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE)}))},i=0;i<e.length;i++)n(i)}},{key:"getAllPossiblePins",value:function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setWidth",value:function(t){this._width=t}},{key:"getWidth",value:function(){return this._width}},{key:"setHeight",value:function(t){this._height=t}},{key:"getHeight",value:function(){return this._height}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setImage",value:function(t){this._image.src=t}},{key:"getImage",value:function(){return this._image}},{key:"setPin",value:function(t){this._pin=t}},{key:"getPin",value:function(){return this._pin}},{key:"setState",value:function(t){this._state=t}},{key:"getState",value:function(){return this._state}},{key:"isStateUpdated",value:function(){return this._stateUpdated}},{key:"getCanvasId",value:function(){return this._canvasId}},{key:"getButton",value:function(){return this._button}}]),a}(P);var G=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n,i,r,s,l,c,u,d,h,p){var f;return t(this,a),(f=o.call(this,e,p))._id=n,f._type=nt.SOUND,f._width=c,f._height=u,f._offset={left:d,top:h},f._image=new Image,f._image.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/sound_sensor.png"),f._digitalPin=i,f._analogPin=r,f._state=s,f._stateUpdated=!1,f._canvasId="sim_sound_canvas"+f._id,f._button=null,f.insertHtml(),f.toggleVisibility(l),f}return r(a,[{key:"toString",value:function(){return"sound sensor"}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<canvas id='"+this.getCanvasId()+"' class='"+this.getHtmlClasses()+"'></canvas>");var e=DwenguinoBlocklyLanguageSettings.translate(["soundButtonLabel"])+" "+this.getId(),n=""+this.getType()+this.getId();this._button=new X(n,"sensor_options",e);var i=this;this._button.getButtonElement().onclick=function(){i._button.update(),i._button.isActive()?(i.setImage("".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/sound_sensor.png")),i.setState(1),i._stateUpdated=!0,i._eventBus.dispatchEvent(A.SAVE)):(i.setImage("".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/sound_sensor.png")),i.setState(0),i._stateUpdated=!0,i._eventBus.dispatchEvent(A.SAVE))},document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(DwenguinoBlocklyLanguageSettings.translate(["soundOptions"])),t.showDialog()}))}},{key:"removeHtml",value:function(){$("#sim_"+this.getType()+this.getId()).remove(),this.getButton().remove()}},{key:"toggleVisibility",value:function(t){t?$("#sim_sound"+this.getId()).css("visibility","visible"):$("#sim_sound"+this.getId()).css("visibility","hidden")}},{key:"toXml",value:function(){var t="";t=(t=(t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'")).concat(" Width='",this.getWidth(),"'")).concat(" Height='",this.getHeight(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" DigitalPin='",this.getDigitalPin(),"'")).concat(" AnalogPin='",this.getAnalogPin(),"'")).concat(" State='",this.getState(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this._button.reset(),this.setState(0),this._stateUpdated=!1}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog()}},{key:"createPinOptionsInModalDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsPin" class="ui-widget row mb-4">'),$("#componentOptionsPin").append('<div class="col-md-2">'+DwenguinoBlocklyLanguageSettings.translate(["digitalPin"])+"</div>"),$("#componentOptionsPin").append('<div id="pin" class="col-md-10"></div>');for(var e=this.getAllPossiblePins(),n=function(n){$("#pin").append('<button type="button" id=pin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 pinButton option_button_enabled">'+e[n]+"</button>"),t.getDigitalPin()==e[n]&&$("#pin"+e[n]).addClass("option_button_selected");var i=document.getElementById("pin"+e[n]);i.addEventListener("click",(function(){var e=i.name;t.setDigitalPin(e),$(".pinButton").removeClass("option_button_selected"),i.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE)}))},i=0;i<e.length;i++)n(i)}},{key:"getAllPossiblePins",value:function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,"A0","A1","A2","A3","A4","A5","A6","A7"]}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setWidth",value:function(t){this._width=t}},{key:"getWidth",value:function(){return this._width}},{key:"setHeight",value:function(t){this._height=t}},{key:"getHeight",value:function(){return this._height}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setImage",value:function(t){this._image.src=t}},{key:"getImage",value:function(){return this._image}},{key:"setDigitalPin",value:function(t){this._digitalPin=t}},{key:"getDigitalPin",value:function(){return this._digitalPin}},{key:"setAnalogPin",value:function(t){this._analogPin=t}},{key:"getAnalogPin",value:function(){return this._analogPin}},{key:"setState",value:function(t){this._state=t}},{key:"getState",value:function(){return this._state}},{key:"isStateUpdated",value:function(){return this._stateUpdated}},{key:"getCanvasId",value:function(){return this._canvasId}},{key:"getButton",value:function(){return this._button}}]),a}(P);var K=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n,i,r,s,l,c,u,d,h){var p;return t(this,a),(p=o.call(this,e,h))._id=n,p._type=nt.LIGHT,p._width=l,p._height=c,p._offset={left:u,top:d},p._image=new Image,p._image.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/light_sensor.png"),p._pin=i,p._state=r,p._stateUpdated=!1,p._canvasId="sim_light_canvas"+p._id,p._slider=null,p.insertHtml(),p.toggleVisibility(s),p}return r(a,[{key:"toString",value:function(){return"light sensor"}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<canvas id='"+this.getCanvasId()+"' class='"+this.getHtmlClasses()+"'></canvas>");var e=DwenguinoBlocklyLanguageSettings.translate(["lightSensorSliderLabel"])+" "+this.getId(),n=""+this.getType()+this.getId();this._slider=new W(n,"sensor_options",0,4095,0,e,"","","light_sensor_slider");var i=this;this._slider.getSliderElement().oninput=function(){var t=i.getId();i.changeLightSensorValue(this.value,t),i._slider.updateValueLabel(this.value)},document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(DwenguinoBlocklyLanguageSettings.translate(["lightOptions"])),t.showDialog()}))}},{key:"changeLightSensorValue",value:function(t){this.setState(t),this._stateUpdated=!0,this._eventBus.dispatchEvent(A.SAVE)}},{key:"removeHtml",value:function(){$("#sim_light"+this.getId()).remove(),this.getSlider().remove()}},{key:"toggleVisibility",value:function(t){t?$("#sim_light"+this.getId()).css("visibility","visible"):$("#sim_light"+this.getId()).css("visibility","hidden")}},{key:"toXml",value:function(){var t="";t=(t=(t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'")).concat(" Width='",this.getWidth(),"'")).concat(" Height='",this.getHeight(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" Pin='",this.getPin(),"'")).concat(" State='",this.getState(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this.setState(0),this._stateUpdated=!1}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog()}},{key:"createPinOptionsInModalDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsPin" class="ui-widget row mb-4">'),$("#componentOptionsPin").append('<div class="col-md-2">Pin</div>'),$("#componentOptionsPin").append('<div id="pin" class="col-md-10"></div>');for(var e=this.getAllPossiblePins(),n=function(n){$("#pin").append('<button type="button" id=pin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 pinButton option_button_enabled">'+e[n]+"</button>"),t.getPin()==e[n]&&$("#pin"+e[n]).addClass("option_button_selected");var i=document.getElementById("pin"+e[n]);i.addEventListener("click",(function(){var e=i.name;t.setPin(e),$(".pinButton").removeClass("option_button_selected"),i.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE)}))},i=0;i<e.length;i++)n(i)}},{key:"getAllPossiblePins",value:function(){return["A0","A1","A2","A3","A4","A5"]}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setWidth",value:function(t){this._width=t}},{key:"getWidth",value:function(){return this._width}},{key:"setHeight",value:function(t){this._height=t}},{key:"getHeight",value:function(){return this._height}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setImage",value:function(t){this._image.src=t}},{key:"getImage",value:function(){return this._image}},{key:"setPin",value:function(t){this._pin=t}},{key:"getPin",value:function(){return this._pin}},{key:"setState",value:function(t){this._state=t}},{key:"getState",value:function(){return this._state}},{key:"isStateUpdated",value:function(){return this._stateUpdated}},{key:"getCanvasId",value:function(){return this._canvasId}},{key:"getSlider",value:function(){return this._slider}}]),a}(P);var Q=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n,i,r,s,l,c,u,d,h,p,f,g){var m;return t(this,a),(m=o.call(this,e,g))._id=n,m._type=nt.RGBLED,m._radius=u,m._x=d,m._y=h,m._offset={left:p,top:f},m._offColor="gray",m._redPin=i,m._greenPin=r,m._bluePin=s,m._state=l,m._canvasId="sim_rgbled_canvas"+m._id,m._ledSvg=new Image,m._ledSvg.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/rgb_led_top.svg"),m._ledBackground=new Image,m._ledBackground.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/rgb_led_background.svg"),m.insertHtml(),m.toggleVisibility(c),m}return r(a,[{key:"toString",value:function(){return"RGB LED"}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<canvas id='"+this.getCanvasId()+"' class='"+this.getHtmlClasses()+"'></canvas>"),document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(DwenguinoBlocklyLanguageSettings.translate(["rgbLedOptions"])),t.showDialog()}))}},{key:"removeHtml",value:function(){$("#sim_"+this.getType()+this.getId()).remove()}},{key:"toXml",value:function(){var t="";t=(t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'")).concat(" Radius='",this.getRadius(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" RedPin='",this.getRedPin(),"'")).concat(" GreenPin='",this.getGreenPin(),"'")).concat(" BluePin='",this.getBluePin(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this.setX(0),this.setY(0),this.setState([0,0,0])}},{key:"toggleVisibility",value:function(t){t?$("#sim_led"+this.getId()).css("visibility","visible"):$("#sim_led"+this.getId()).css("visibility","hidden")}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog()}},{key:"createPinOptionsInModalDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsRedPin" class="ui-widget row mb-4"></div>'),$("#componentOptionsRedPin").append('<div class="col-md-2">Red pin</div>'),$("#componentOptionsRedPin").append('<div id="redPin" class="col-md-10"></div>'),$("#componentOptionsModalBody").append('<div id="componentOptionsGreenPin" class="ui-widget row mb-4"></div>'),$("#componentOptionsGreenPin").append('<div class="col-md-2">Green pin</div>'),$("#componentOptionsGreenPin").append('<div id="greenPin" class="col-md-10"></div>'),$("#componentOptionsModalBody").append('<div id="componentOptionsBluePin" class="ui-widget row mb-4"></div>'),$("#componentOptionsBluePin").append('<div class="col-md-2">Blue pin</div>'),$("#componentOptionsBluePin").append('<div id="bluePin" class="col-md-10"></div>');for(var e=this.getAllPossiblePins(),n=0;n<e.length;n++)$("#redPin").append('<button type="button" id=redPin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 redPinButton pinButton option_button_enabled">'+e[n]+"</button>"),$("#greenPin").append('<button type="button" id=greenPin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 greenPinButton pinButton option_button_enabled">'+e[n]+"</button>"),$("#bluePin").append('<button type="button" id=bluePin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 bluePinButton pinButton option_button_enabled">'+e[n]+"</button>");for(var i=function(n){t.getRedPin()==e[n]&&($("#redPin"+e[n]).addClass("option_button_selected"),$("#greenPin"+e[n]).addClass("option_button_disabled"),$("#greenPin"+e[n]).prop("disabled",!0),$("#bluePin"+e[n]).addClass("option_button_disabled"),$("#bluePin"+e[n]).prop("disabled",!0)),t.getGreenPin()==e[n]&&($("#greenPin"+e[n]).addClass("option_button_selected"),$("#redPin"+e[n]).addClass("option_button_disabled"),$("#redPin"+e[n]).prop("disabled",!0),$("#bluePin"+e[n]).addClass("option_button_disabled"),$("#bluePin"+e[n]).prop("disabled",!0)),t.getBluePin()==e[n]&&($("#bluePin"+e[n]).addClass("option_button_selected"),$("#redPin"+e[n]).addClass("option_button_disabled"),$("#redPin"+e[n]).prop("disabled",!0),$("#greenPin"+e[n]).addClass("option_button_disabled"),$("#greenPin"+e[n]).prop("disabled",!0));var i=document.getElementById("redPin"+e[n]),o=document.getElementById("greenPin"+e[n]),r=document.getElementById("bluePin"+e[n]);i.addEventListener("click",(function(){var e=i.name;t.setRedPin(e),$(".redPinButton").removeClass("option_button_selected"),i.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE),$(".greenPinButton").removeClass("option_button_disabled"),$(".greenPinButton").prop("disabled",!1),$("#greenPin"+e).addClass("option_button_disabled"),$("#greenPin"+e).prop("disabled",!0),$(".bluePinButton").removeClass("option_button_disabled"),$(".bluePinButton").prop("disabled",!1),$("#bluePin"+e).addClass("option_button_disabled"),$("#bluePin"+e).prop("disabled",!0)})),o.addEventListener("click",(function(){var e=o.name;t.setGreenPin(e),$(".greenPinButton").removeClass("option_button_selected"),o.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE),$(".redPinButton").removeClass("option_button_disabled"),$(".redPinButton").prop("disabled",!1),$("#redPin"+e).addClass("option_button_disabled"),$("#redPin"+e).prop("disabled",!0),$(".bluePinButton").removeClass("option_button_disabled"),$(".bluePinButton").prop("disabled",!1),$("#bluePin"+e).addClass("option_button_disabled"),$("#bluePin"+e).prop("disabled",!0)})),r.addEventListener("click",(function(){var e=i.name;t.setBluePin(e),$(".bluePinButton").removeClass("option_button_selected"),r.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE),$(".redPinButton").removeClass("option_button_disabled"),$(".redPinButton").prop("disabled",!1),$("#redPin"+e).addClass("option_button_disabled"),$("#redPin"+e).prop("disabled",!0),$(".greenPinButton").removeClass("option_button_disabled"),$(".greenPinButton").prop("disabled",!1),$("#greenPin"+e).addClass("option_button_disabled"),$("#greenPin"+e).prop("disabled",!0)}))},o=0;o<e.length;o++)i(o)}},{key:"getAllPossiblePins",value:function(){return["3","5","6","11","14","15","A0","A1","A2","A3","A4","A5"]}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setRadius",value:function(t){this._radius=t}},{key:"getRadius",value:function(){return this._radius}},{key:"setX",value:function(t){this._x=t}},{key:"getX",value:function(){return this._x}},{key:"setY",value:function(t){this._y=t}},{key:"getY",value:function(){return this._y}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setRedPin",value:function(t){this._redPin=t}},{key:"getRedPin",value:function(){return this._redPin}},{key:"setGreenPin",value:function(t){this._greenPin=t}},{key:"getGreenPin",value:function(){return this._greenPin}},{key:"setBluePin",value:function(t){this._bluePin=t}},{key:"getBluePin",value:function(){return this._bluePin}},{key:"setState",value:function(t){this._state=t}},{key:"getState",value:function(){return this._state}},{key:"getCanvasId",value:function(){return this._canvasId}},{key:"getLedSvg",value:function(){return this._ledSvg}},{key:"getLedBackground",value:function(){return this._ledBackground}}]),a}(P);var J=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n,i,r,s,l,c,u,d,h){var p;return t(this,a),(p=o.call(this,e,h))._id=n,p._type=nt.TOUCH,p._width=l,p._height=c,p._offset={left:u,top:d},p._image=new Image,p._image.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/touch_sensor.svg"),p._pin=i,p._state=r,p._stateUpdated=!1,p._canvasId="sim_touch_canvas"+p._id,p._button=null,p.insertHtml(),p.toggleVisibility(s),p}return r(a,[{key:"toString",value:function(){return"touch sensor"}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<canvas id='"+this.getCanvasId()+"' class='"+this.getHtmlClasses()+"'></canvas>");var e=DwenguinoBlocklyLanguageSettings.translate(["touchButtonLabel"])+" "+this.getId(),n=""+this.getType()+this.getId();this._button=new X(n,"sensor_options",e);var i=this;this._button.getButtonElement().onclick=function(){i._button.update(),i._button.isActive()?(i.setImage("".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/touch_sensor_on.svg")),i.setState(1),i._stateUpdated=!0,i._eventBus.dispatchEvent(A.SAVE)):(i.setImage("".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/touch_sensor.svg")),i.setState(0),i._stateUpdated=!0,i._eventBus.dispatchEvent(A.SAVE))},document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(""),t.showDialog()}))}},{key:"removeHtml",value:function(){$("#sim_"+this.getType()+this.getId()).remove(),this.getButton().remove()}},{key:"toggleVisibility",value:function(t){t?$("#sim_touch"+this.getId()).css("visibility","visible"):$("#sim_touch"+this.getId()).css("visibility","hidden")}},{key:"toXml",value:function(){var t="";t=(t=(t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'")).concat(" Width='",this.getWidth(),"'")).concat(" Height='",this.getHeight(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" Pin='",this.getPin(),"'")).concat(" State='",this.getState(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this.setState(0),this._stateUpdated=!1}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog()}},{key:"createPinOptionsInModalDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsPin" class="ui-widget row mb-4">'),$("#componentOptionsPin").append('<div class="col-md-2">Pin</div>'),$("#componentOptionsPin").append('<div id="pin" class="col-md-10"></div>');for(var e=this.getAllPossiblePins(),n=function(n){$("#pin").append('<button type="button" id=pin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 pinButton option_button_enabled">'+e[n]+"</button>"),t.getPin()==e[n]&&$("#pin"+e[n]).addClass("option_button_selected");var i=document.getElementById("pin"+e[n]);i.addEventListener("click",(function(){var e=i.name;t.setPin(e),$(".pinButton").removeClass("option_button_selected"),i.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE)}))},i=0;i<e.length;i++)n(i)}},{key:"getAllPossiblePins",value:function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setWidth",value:function(t){this._width=t}},{key:"getWidth",value:function(){return this._width}},{key:"setHeight",value:function(t){this._height=t}},{key:"getHeight",value:function(){return this._height}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setImage",value:function(t){this._image.src=t}},{key:"getImage",value:function(){return this._image}},{key:"setPin",value:function(t){this._pin=t}},{key:"getPin",value:function(){return this._pin}},{key:"setState",value:function(t){this._state=t}},{key:"getState",value:function(){return this._state}},{key:"isStateUpdated",value:function(){return this._stateUpdated}},{key:"getCanvasId",value:function(){return this._canvasId}},{key:"getButton",value:function(){return this._button}}]),a}(P);var Z=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n,i,r,s,l,c,u,d,h){var p;return t(this,a),(p=o.call(this,e,h))._id=n,p._type=nt.BUTTON,p._width=l,p._height=c,p._offset={left:u,top:d},p._pin=i,p._state=r,p._stateUpdated=!1,p._canvasId="sim_button_canvas"+p._id,p._button=null,p.insertHtml(),p.toggleVisibility(s),p}return r(a,[{key:"toString",value:function(){return"pir"}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<div id='"+this.getCanvasId()+"' class='button_canvas_unpushed "+this.getHtmlClasses()+"'></div>"),console.log(this.getState());var e=this;this._button=document.getElementById(this.getCanvasId()),this._button.onclick=function(){console.log(e._button.className),"button_canvas_unpushed sim_canvas button_canvas"===e._button.className?(e._button.className="button_canvas_pushed "+e.getHtmlClasses(),e.setState(1),e._stateUpdated=!0,console.log(e.getState(),"mousedown"),e._eventBus.dispatchEvent(A.SAVE)):(e._button.className="button_canvas_unpushed "+e.getHtmlClasses(),e.setState(0),e._stateUpdated=!0,console.log(e.getState(),"mouseup"),e._eventBus.dispatchEvent(A.SAVE))},document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(DwenguinoBlocklyLanguageSettings.translate(["buttonOptions"])),t.showDialog()}))}},{key:"removeHtml",value:function(){$("#sim_"+this.getType()+this.getId()).remove()}},{key:"toggleVisibility",value:function(t){t?$("#sim_button"+this.getId()).css("visibility","visible"):$("#sim_button"+this.getId()).css("visibility","hidden")}},{key:"toXml",value:function(){var t="";t=(t=(t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'")).concat(" Width='",this.getWidth(),"'")).concat(" Height='",this.getHeight(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" Pin='",this.getPin(),"'")).concat(" State='",this.getState(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this.setState(0),this._stateUpdated=!1}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog()}},{key:"createPinOptionsInModalDialog",value:function(){var t=this;$("#componentOptionsModalBody").append('<div id="componentOptionsPin" class="ui-widget row mb-4">'),$("#componentOptionsPin").append('<div class="col-md-2">Pin</div>'),$("#componentOptionsPin").append('<div id="pin" class="col-md-10"></div>');for(var e=this.getAllPossiblePins(),n=function(n){$("#pin").append('<button type="button" id=pin'+e[n]+" name="+e[n]+' class="col-md-1 ml-2 mb-2 pinButton option_button_enabled">'+e[n]+"</button>"),t.getPin()==e[n]&&$("#pin"+e[n]).addClass("option_button_selected");var i=document.getElementById("pin"+e[n]);i.addEventListener("click",(function(){var e=i.name;t.setPin(e),$(".pinButton").removeClass("option_button_selected"),i.classList.add("option_button_selected"),t._eventBus.dispatchEvent(A.SAVE)}))},i=0;i<e.length;i++)n(i)}},{key:"getAllPossiblePins",value:function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setWidth",value:function(t){this._width=t}},{key:"getWidth",value:function(){return this._width}},{key:"setHeight",value:function(t){this._height=t}},{key:"getHeight",value:function(){return this._height}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setPin",value:function(t){this._pin=t}},{key:"getPin",value:function(){return this._pin}},{key:"setState",value:function(t){this._state=t}},{key:"getState",value:function(){return this._state}},{key:"isStateUpdated",value:function(){return this._stateUpdated}},{key:"getCanvasId",value:function(){return this._canvasId}},{key:"getButton",value:function(){return this._button}}]),a}(P);var tt={DISPLAY:"display",SEGMENT:"segment"};Object.freeze(tt);var et=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n,i,r,s,l,c,u,d,h,p){var f;return t(this,a),(f=o.call(this,e,p))._id=n,f._type=nt.LEDMATRIXSEGMENT,f._x=c,f._y=u,f._offset={left:d,top:h},f._dataPin=i,f._csPin=r,f._clkPin=s,console.log("state adjusted"),f._state=a.getEmptyLedMatrix(),f._canvasId="sim_ledmatrixsegment_canvas"+f._id,f._ledSvg=new Image,f._ledSvg.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/led_matrix_on.svg"),f._ledOffsets={left:15,led_x:1.14,led_y:1.25,led_between_x:8.65,led_between_y:8.53,led_radius:6.35},f._ledmatrixBackground=new Image,f._ledmatrixBackground.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/led_matrix_1x1.svg"),f.insertHtml(),f.toggleVisibility(l),f}return r(a,[{key:"toString",value:function(){return"LED MATRIX"}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<canvas id='"+this.getCanvasId()+"' class='"+this.getHtmlClasses()+"'></canvas>"),document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(DwenguinoBlocklyLanguageSettings.translate(["ledmatrixOptions"])),t.showDialog()}))}},{key:"removeHtml",value:function(){$("#sim_"+this.getType()+this.getId()).remove()}},{key:"toXml",value:function(){var t="";t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" DataPin='",this.getDataPin(),"'")).concat(" CsPin='",this.getCsPin(),"'")).concat(" ClkPin='",this.getClkPin(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this.setX(0),this.setY(0);var t={dataType:tt.DISPLAY,data:a.getEmptyLedMatrix()};this.setState(t)}},{key:"toggleVisibility",value:function(t){t?$("#sim_ledmatrix"+this.getId()).css("visibility","visible"):$("#sim_ledmatrix"+this.getId()).css("visibility","hidden")}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog()}},{key:"createPinOptionsInModalDialog",value:function(){$("#componentOptionsModalBody").append('<div id="componentOptionsDataPin" class="ui-widget row mb-4"></div>'),$("#componentOptionsDataPin").append('<div class="col-md-2">Data pin</div>'),$("#componentOptionsDataPin").append('<div id="dataPin" class="col-md-10"></div>'),$("#componentOptionsModalBody").append('<div id="componentOptionsCsPin" class="ui-widget row mb-4"></div>'),$("#componentOptionsCsPin").append('<div class="col-md-2">Cs pin</div>'),$("#componentOptionsCsPin").append('<div id="csPin" class="col-md-10"></div>'),$("#componentOptionsModalBody").append('<div id="componentOptionsClkPin" class="ui-widget row mb-4"></div>'),$("#componentOptionsClkPin").append('<div class="col-md-2">Clk pin</div>'),$("#componentOptionsClkPin").append('<div id="clkPin" class="col-md-10"></div>');var t=this.getPossibleDataPin(),e=this.getPossibleCsPin(),n=this.getPossibleClkPin();$("#dataPin").append('<button type="button" id=dataPin'+t+" name="+t+' class="col-md-1 ml-2 mb-2 dataPinButton pinButton option_button_enabled">'+t+"</button>"),$("#dataPin"+t).addClass("option_button_selected"),$("#csPin").append('<button type="button" id=csPin'+e+" name="+e+' class="col-md-1 ml-2 mb-2 csPinButton pinButton option_button_enabled">'+e+"</button>"),$("#csPin"+e).addClass("option_button_selected"),$("#clkPin").append('<button type="button" id=clkPin'+n+" name="+n+' class="col-md-1 ml-2 mb-2 clkPinButton pinButton option_button_enabled">'+n+"</button>"),$("#clkPin"+n).addClass("option_button_selected")}},{key:"getPossibleDataPin",value:function(){return"2"}},{key:"getPossibleCsPin",value:function(){return"10"}},{key:"getPossibleClkPin",value:function(){return"13"}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setX",value:function(t){this._x=t}},{key:"getX",value:function(){return this._x}},{key:"setY",value:function(t){this._y=t}},{key:"getY",value:function(){return this._y}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setDataPin",value:function(t){this._dataPin=t}},{key:"getDataPin",value:function(){return this._dataPin}},{key:"setCsPin",value:function(t){this._csPin=t}},{key:"getCsPin",value:function(){return this._csPin}},{key:"setClkPin",value:function(t){this._clkPin=t}},{key:"getClkPin",value:function(){return this._clkPin}},{key:"setState",value:function(t){if(t.dataType==tt.DISPLAY)for(var e=0;e<4;e++)this._state[e]=t.data[e];else if(t.dataType==tt.SEGMENT){var n=t.data[0];this._state[n]=t.data[1]}}},{key:"getState",value:function(){return this._state}},{key:"getCanvasId",value:function(){return this._canvasId}},{key:"getLedSvg",value:function(){return this._ledSvg}},{key:"getLedOffsets",value:function(){return this._ledOffsets}},{key:"getLedmatrixBackground",value:function(){return this._ledmatrixBackground}}],[{key:"getEmptyLedMatrix",value:function(){return[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]]}}]),a}(P),nt={SERVO:"servo",LED:"led",RGBLED:"rgbled",LEDMATRIX:"ledmatrix",LEDMATRIXSEGMENT:"ledmatrixsegment",TOUCH:"touch",PIR:"pir",SONAR:"sonar",LCD:"lcd",SOUND:"sound",LIGHT:"light",BUTTON:"button"};Object.freeze(nt);var it=function(){function e(n,i,o){t(this,e),a(this,"logger",null),a(this,"inputState",{pir:0,buttons:[1,1,1,1,1],sonarDistance:-1}),a(this,"pinMappings",{rgbled:[{red:11,green:14,blue:15}],sonar:[{trig:25,echo:24},{trig:27,echo:26}],sound:[{analog:29,digital:28}]}),this.logger=i,this._eventBus=o,this._robot=[],this._numberOfComponentsOfType={},this.scenarioUtils=n,this.renderer=new D;for(var r=0,s=Object.entries(nt);r<s.length;r++){var l=I(s[r],2),c=(l[0],l[1]);this._numberOfComponentsOfType[c]=0}}return r(e,[{key:"getRobot",value:function(){return this._robot}},{key:"resetSocialRobot",value:function(){for(var t=0;t<this._robot.length;t++)this._robot[t].reset()}},{key:"removeAllSocialRobotComponents",value:function(){for(var t=0;t<this._robot.length;t++)this.removeRobotComponent(this._robot[t])}},{key:"updateScenarioState",value:function(t){for(var e=0;e<this._robot.length;e++){var n=0,i=0;switch(this._robot[e].getType()){case nt.SERVO:n=this._robot[e].getPin(),this._robot[e].getAngle()!=t.getIoPinState(n)&&(this._robot[e].setPrevAngle(this._robot[e].getAngle()),this._robot[e].setAngle(t.getIoPinState(n)));break;case nt.LED:n=this._robot[e].getPin(),this._robot[e].setState(t.getIoPinState(n));break;case nt.RGBLED:var o=this._robot[e].getRedPin(),r=this._robot[e].getGreenPin(),a=this._robot[e].getBluePin();i=[t.getIoPinState(o),t.getIoPinState(r),t.getIoPinState(a)],this._robot[e].setState(i);break;case nt.LEDMATRIX:var s=this._robot[e].getDataPin();i=t.getIoPinState(s),this._robot[e].setState(i);break;case nt.LEDMATRIXSEGMENT:var l=this._robot[e].getDataPin();i=t.getIoPinState(l),this._robot[e].setState(i);break;case nt.TOUCH:case nt.BUTTON:case nt.PIR:n=this._robot[e].getPin(),this._robot[e].isStateUpdated()&&(t.setIoPinState(n,this._robot[e].getState()),this._robot[e]._stateUpdated=!1);break;case nt.SONAR:var c=this._robot[e].getEchoPin(),u=this._robot[e].getTriggerPin();this._robot[e].isStateUpdated()&&(t.setIoPinState(c,this._robot[e].getState()),t.setIoPinState(u,this._robot[e].getState()),this._robot[e]._stateUpdated=!1);break;case nt.LCD:this._robot[e].setState(t.getLcdContent(0),t.getLcdContent(1));break;case nt.SOUND:n=this._robot[e].getDigitalPin(),this._robot[e].isStateUpdated()&&(t.setIoPinState(n,this._robot[e].getState()),this._robot[e]._stateUpdated=!1);break;case nt.LIGHT:n=this._robot[e].getPin(),this._robot[e].isStateUpdated()&&(t.setIoPinState(n,this._robot[e].getState()),this._robot[e]._stateUpdated=!1)}}}},{key:"getRobotComponentWithTypeAndId",value:function(t,e){for(var n=0;n<this._robot.length;n++)if(this._robot[n].getType()==t&&this._robot[n].getId()==e)return this._robot[n]}},{key:"removeRobotComponentWithTypeAndId",value:function(t,e){this.getRobotComponentWithTypeAndId(t,e).removeHtml();for(var n=0;n<this._robot.length;n++)this._robot[n].getType()==t&&this._robot[n].getId()==e&&(this._robot.splice(n,1),this.decrementNumberOf(t))}},{key:"addRobotComponent",value:function(t){switch(t){case nt.SERVO:this.addServo();break;case nt.LED:this.addLed();break;case nt.RGBLED:this.addRgbLed();break;case nt.LEDMATRIX:this.addLedmatrix();break;case nt.LEDMATRIXSEGMENT:this.addLedmatrixSegment();break;case nt.TOUCH:this.addTouchSensor();break;case nt.BUTTON:this.addButton();break;case nt.PIR:this.addPir();break;case nt.SONAR:this.addSonar();break;case nt.LCD:this.addLcd();break;case nt.SOUND:this.addSoundSensor();break;case nt.LIGHT:this.addLightSensor()}}},{key:"removeRobotComponent",value:function(t){switch(t){case nt.SERVO:this.removeServo();break;case nt.LED:this.removeLed();break;case nt.RGBLED:this.removeRgbLed();break;case nt.LEDMATRIX:this.removeLedmatrix();break;case nt.LEDMATRIXSEGMENT:this.removeLedmatrixSegment();break;case nt.TOUCH:this.removeTouchSensor();break;case nt.BUTTON:this.removeButton();break;case nt.PIR:this.removePir();break;case nt.SONAR:this.removeSonar();break;case nt.LCD:this.removeLcd();break;case nt.SOUND:this.removeSoundSensor();break;case nt.LIGHT:this.removeLightSensor()}}},{key:"addRobotComponentFromXml",value:function(t){switch(t.getAttribute("Type")){case nt.SERVO:var e=parseFloat(t.getAttribute("Width")),n=parseFloat(t.getAttribute("Height")),i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop")),r=parseInt(t.getAttribute("Angle")),a=parseInt(t.getAttribute("Pin")),s=t.getAttribute("Costume"),l=t.getAttribute("Classes");this.addServo(a,s,r,!0,e,n,i,o,l);break;case nt.LED:var c=parseFloat(t.getAttribute("Radius")),u=(i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop")),t.getAttribute("OnColor")),d=t.getAttribute("OffColor"),h=t.getAttribute("BorderColor");a=parseInt(t.getAttribute("Pin")),l=t.getAttribute("Classes"),this.addLed(a,0,!0,c,0,0,i,o,u,d,h,l);break;case nt.RGBLED:c=parseFloat(t.getAttribute("Radius")),i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop"));var p=t.getAttribute("RedPin"),f=t.getAttribute("GreenPin"),g=t.getAttribute("BluePin");l=t.getAttribute("Classes"),this.addRgbLed(p,f,g,[0,0,0],!0,c,0,0,i,o,l);break;case nt.LEDMATRIX:i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop"));var m=t.getAttribute("DataPin"),v=t.getAttribute("csPin"),_=t.getAttribute("clkPin");l=t.getAttribute("Classes"),this.addLedmatrix(m,v,_,!0,0,0,i,o,l);break;case nt.LEDMATRIXSEGMENT:i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop")),m=t.getAttribute("DataPin"),v=t.getAttribute("csPin"),_=t.getAttribute("clkPin"),l=t.getAttribute("Classes"),this.addLedmatrixSegment(m,v,_,!0,0,0,i,o,l);break;case nt.TOUCH:e=parseFloat(t.getAttribute("Width")),n=parseFloat(t.getAttribute("Height")),i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop")),a=parseInt(t.getAttribute("Pin"));var y=parseInt(t.getAttribute("State"));l=t.getAttribute("Classes"),this.addTouchSensor(a,y,!0,e,n,i,o,l);break;case nt.BUTTON:e=parseFloat(t.getAttribute("Width")),n=parseFloat(t.getAttribute("Height")),i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop")),a=parseInt(t.getAttribute("Pin")),l=t.getAttribute("Classes"),this.addButton(a,!0,e,n,i,o,l);break;case nt.PIR:e=parseFloat(t.getAttribute("Width")),n=parseFloat(t.getAttribute("Height")),i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop")),a=parseInt(t.getAttribute("Pin")),y=parseInt(t.getAttribute("State")),l=t.getAttribute("Classes"),this.addPir(a,y,!0,e,n,i,o,l);break;case nt.SONAR:e=parseFloat(t.getAttribute("Width")),n=parseFloat(t.getAttribute("Height")),i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop"));var b=parseInt(t.getAttribute("EchoPin")),w=parseInt(t.getAttribute("TriggerPin"));y=parseInt(t.getAttribute("State")),l=t.getAttribute("Classes"),this.addSonar(b,w,y,!0,e,n,i,o,l);break;case nt.LCD:i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop")),l=t.getAttribute("Classes"),this.addLcd(!0,i,o,l);break;case nt.SOUND:e=parseFloat(t.getAttribute("Width")),n=parseFloat(t.getAttribute("Height")),i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop"));var k=parseInt(t.getAttribute("DigitalPin")),x=parseInt(t.getAttribute("AnalogPin"));y=parseInt(t.getAttribute("State")),l=t.getAttribute("Classes"),this.addSoundSensor(k,x,y,!0,e,n,i,o,l);break;case nt.LIGHT:e=parseFloat(t.getAttribute("Width")),n=parseFloat(t.getAttribute("Height")),i=parseFloat(t.getAttribute("OffsetLeft")),o=parseFloat(t.getAttribute("OffsetTop")),a=parseInt(t.getAttribute("Pin")),y=parseInt(t.getAttribute("State")),l=t.getAttribute("Classes"),this.addLightSensor(a,y,!0,e,n,i,o,l)}}},{key:"addServo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.PLAIN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:50,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:5,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"sim_canvas servo_canvas";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.SERVO)),this.incrementNumberOf(nt.SERVO);var c=this._numberOfComponentsOfType[nt.SERVO]+2;3==c?t=19:4==c?t=18:5==c?t=17:6==c&&(t=16);var u=new N(this._eventBus,c,t,e,n,i,o,r,a,s,l);this._robot.push(u),this.renderer.initializeCanvas(this._robot,u)}},{key:"removeServo",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.SERVO));var t=this._numberOfComponentsOfType[nt.SERVO]+2;this.removeRobotComponentWithTypeAndId(nt.SERVO,t)}},{key:"addLed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:5,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"yellow",c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"gray",u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"black",d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"sim_canvas led_canvas";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.LED)),this.incrementNumberOf(nt.LED);var h=this._numberOfComponentsOfType[nt.LED],p=new j(this._eventBus,h,t,e,n,i,o,r,a,s,l,c,u,d);this._robot.push(p),this.renderer.initializeCanvas(this._robot,p)}},{key:"removeLed",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.LED));var t=this._numberOfComponentsOfType[nt.LED];this.removeRobotComponentWithTypeAndId(nt.LED,t)}},{key:"addRgbLed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"3",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"5",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"6",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0,0],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"sim_canvas rgbled_canvas";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.RGBLED)),this.incrementNumberOf(nt.RGBLED);var d=this._numberOfComponentsOfType[nt.RGBLED],h=new Q(this._eventBus,d,t,e,n,i,o,r,a,s,l,c,u);this._robot.push(h),this.renderer.initializeCanvas(this._robot,h)}},{key:"removeRgbLed",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.RGBLED));var t=this._numberOfComponentsOfType[nt.RGBLED];this.removeRobotComponentWithTypeAndId(nt.RGBLED,t)}},{key:"addLedmatrix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"10",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"13",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:5,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"sim_canvas ledmatrix_canvas";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.LEDMATRIX)),this.incrementNumberOf(nt.LEDMATRIX);var c=this._numberOfComponentsOfType[nt.LEDMATRIX],u=new rt(this._eventBus,c,t,e,n,i,o,r,a,s,l);this._robot.push(u),this.renderer.initializeCanvas(this._robot,u)}},{key:"removeLedmatrix",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.LEDMATRIX));var t=this._numberOfComponentsOfType[nt.LEDMATRIX];this.removeRobotComponentWithTypeAndId(nt.LEDMATRIX,t)}},{key:"addLedmatrixSegment",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"10",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"13",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:5,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"sim_canvas ledmatrixsegment_canvas";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.LEDMATRIXSEGMENT)),this.incrementNumberOf(nt.LEDMATRIXSEGMENT);var c=this._numberOfComponentsOfType[nt.LEDMATRIXSEGMENT],u=new et(this._eventBus,c,t,e,n,i,o,r,a,s,l);this._robot.push(u),this.renderer.initializeCanvas(this._robot,u)}},{key:"removeLedmatrixSegment",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.LEDMATRIXSEGMENT));var t=this._numberOfComponentsOfType[nt.LEDMATRIXSEGMENT];this.removeRobotComponentWithTypeAndId(nt.LEDMATRIXSEGMENT,t)}},{key:"addTouchSensor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:60,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:60,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"sim_canvas touch_canvas";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.TOUCH)),this.incrementNumberOf(nt.TOUCH);var l=this._numberOfComponentsOfType[nt.TOUCH],c=new J(this._eventBus,l,t,e,n,i,o,r,a,s);this._robot.push(c),this.renderer.initializeCanvas(this._robot,c)}},{key:"removeTouchSensor",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.TOUCH));var t=this._numberOfComponentsOfType[nt.TOUCH];this.removeRobotComponentWithTypeAndId(nt.TOUCH,t)}},{key:"addButton",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"sim_canvas button_canvas",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.BUTTOn)),this.incrementNumberOf(nt.BUTTON);var l=this._numberOfComponentsOfType[nt.BUTTON],c=new Z(this._eventBus,l,t,s,e,n,i,o,r,a);this._robot.push(c)}},{key:"removeButton",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.BUTTON));var t=this._numberOfComponentsOfType[nt.BUTTON];this.removeRobotComponentWithTypeAndId(nt.BUTTON,t)}},{key:"addPir",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:75,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:75,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"sim_canvas pir_canvas";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.PIR)),this.incrementNumberOf(nt.PIR);var l=this._numberOfComponentsOfType[nt.PIR],c=new q(this._eventBus,l,t,e,n,i,o,r,a,s);this._robot.push(c),this.renderer.initializeCanvas(this._robot,c)}},{key:"removePir",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.PIR));var t=this._numberOfComponentsOfType[nt.PIR];this.removeRobotComponentWithTypeAndId(nt.PIR,t)}},{key:"addSonar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:58,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:5,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"sim_canvas sonar_canvas";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.SONAR)),this.incrementNumberOf(nt.SONAR);var c=this._numberOfComponentsOfType[nt.SONAR];1==c?(e="A1",t="A0"):2==c&&(e="A3",t="A2");var u=new z(this._eventBus,c,t,e,n,i,o,r,a,s,l);this._robot.push(u),this.renderer.initializeCanvas(this._robot,u)}},{key:"removeSonar",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.SONAR));var t=this._numberOfComponentsOfType[nt.SONAR];this.removeRobotComponentWithTypeAndId(nt.SONAR,t)}},{key:"addLcd",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.LCD)),this.incrementNumberOf(nt.LCD);var o=this._numberOfComponentsOfType[nt.LCD],r=new H(this._eventBus,o,t,e,n,i);this._robot.push(r)}},{key:"removeLcd",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.Lcd));var t=this._numberOfComponentsOfType[nt.LCD];this.removeRobotComponentWithTypeAndId(nt.LCD,t)}},{key:"addSoundSensor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:42,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:5,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"sim_canvas sound_canvas";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.SOUND)),this.incrementNumberOf(nt.SOUND);var c=this._numberOfComponentsOfType[nt.SOUND];1==c&&(t="A4",e="A5");var u=new G(this._eventBus,c,t,e,n,i,o,r,a,s,l);this._robot.push(u),this.renderer.initializeCanvas(this._robot,u)}},{key:"removeSoundSensor",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.SOUND));var t=this._numberOfComponentsOfType[nt.SOUND];this.removeRobotComponentWithTypeAndId(nt.SOUND,t)}},{key:"addLightSensor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:45,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"sim_canvas light_canvas";this.logger.recordEvent(this.logger.createEvent(M.addRobotComponent,nt.LIGHT)),this.incrementNumberOf(nt.LIGHT);var l=this._numberOfComponentsOfType[nt.LIGHT],c=new K(this._eventBus,l,t,e,n,i,o,r,a,s);this._robot.push(c),this.renderer.initializeCanvas(this._robot,c)}},{key:"removeLightSensor",value:function(){this.logger.recordEvent(this.logger.createEvent(M.removeRobotComponent,nt.LIGHT));var t=this._numberOfComponentsOfType[nt.LIGHT];this.removeRobotComponentWithTypeAndId(nt.LIGHT,t)}},{key:"incrementNumberOf",value:function(t){this._numberOfComponentsOfType[t]+=1}},{key:"decrementNumberOf",value:function(t){this._numberOfComponentsOfType[t]-=1}}]),e}();var ot={DISPLAY:"display",SEGMENT:"segment"};Object.freeze(ot);var rt=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e,n,i,r,s,l,c,u,d,h,p){var f;return t(this,a),(f=o.call(this,e,p))._id=n,f._type=nt.LEDMATRIX,f._x=c,f._y=u,f._offset={left:d,top:h},f._dataPin=i,f._csPin=r,f._clkPin=s,console.log("state adjusted"),f._state=a.getEmptyLedMatrix(),f._canvasId="sim_ledmatrix_canvas"+f._id,f._ledSvg=new Image,f._ledSvg.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/led_matrix_on.svg"),f._ledOffsets={left:15,led_x:1.14,led_y:1.25,led_between_x:8.65,led_between_y:8.53,led_radius:6.35,matrix_segment_between_x:71.01},f._ledmatrixBackground=new Image,f._ledmatrixBackground.src="".concat(settings.basepath,"DwenguinoIDE/img/socialrobot/led_matrix_1x4.svg"),f.insertHtml(),f.toggleVisibility(l),f}return r(a,[{key:"toString",value:function(){return"LED MATRIX"}},{key:"insertHtml",value:function(){var t=this;$("#sim_container").append("<div id='sim_"+this.getType()+this.getId()+"' class='sim_element sim_element_"+this.getType()+" draggable'><div><span class='grippy'></span>"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[this.getType()])+" "+this.getId()+"</div></div>"),$("#sim_"+this.getType()+this.getId()).css("top",this.getOffset().top+"px"),$("#sim_"+this.getType()+this.getId()).css("left",this.getOffset().left+"px"),$("#sim_"+this.getType()+this.getId()).append("<canvas id='"+this.getCanvasId()+"' class='"+this.getHtmlClasses()+"'></canvas>"),document.getElementById("sim_"+this.getType()+this.getId()).addEventListener("dblclick",(function(){t.createComponentOptionsModalDialog(DwenguinoBlocklyLanguageSettings.translate(["ledmatrixOptions"])),t.showDialog()}))}},{key:"removeHtml",value:function(){$("#sim_"+this.getType()+this.getId()).remove()}},{key:"toXml",value:function(){var t="";t=(t=(t=t.concat("<Item ")).concat(" Type='",this.getType(),"'")).concat(" Id='",this.getId(),"'");var e="#sim_"+this.getType()+this.getId();return t=$(e).attr("data-x")?t.concat(" OffsetLeft='",parseFloat(this.getOffset().left)+parseFloat($(e).attr("data-x")),"'"):t.concat(" OffsetLeft='",parseFloat(this.getOffset().left),"'"),(t=(t=(t=(t=(t=$(e).attr("data-y")?t.concat(" OffsetTop='",parseFloat(this.getOffset().top)+parseFloat($(e).attr("data-y")),"'"):t.concat(" OffsetTop='",parseFloat(this.getOffset().top),"'")).concat(" DataPin='",this.getDataPin(),"'")).concat(" CsPin='",this.getCsPin(),"'")).concat(" ClkPin='",this.getClkPin(),"'")).concat(" Classes='",this.getHtmlClasses(),"'")).concat("></Item>")}},{key:"reset",value:function(){this.setX(0),this.setY(0);var t={dataType:ot.DISPLAY,data:a.getEmptyLedMatrix()};this.setState(t)}},{key:"toggleVisibility",value:function(t){t?$("#sim_ledmatrix"+this.getId()).css("visibility","visible"):$("#sim_ledmatrix"+this.getId()).css("visibility","hidden")}},{key:"showDialog",value:function(){$("#componentOptionsModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#componentOptionsModal"),$(".modal-backdrop").remove()}},{key:"createComponentOptionsModalDialog",value:function(t){this.removeDialog(),$("#db_body").append('<div id="componentOptionsModal" class="modal fade" role="dialog"></div>'),$("#componentOptionsModal").append('<div id="componentOptionsModalDialog" class="modal-dialog"></div>'),$("#componentOptionsModalDialog").append('<div id="componentOptionsModalContent" class="modal-content"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalHeader" class="modal-header"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalBody" class="modal-body container"></div>'),$("#componentOptionsModalContent").append('<div id="componentOptionsModalFooter" class="modal-footer"></div>'),$("#componentOptionsModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#componentOptionsModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>'),this.createPinOptionsInModalDialog()}},{key:"createPinOptionsInModalDialog",value:function(){$("#componentOptionsModalBody").append('<div id="componentOptionsDataPin" class="ui-widget row mb-4"></div>'),$("#componentOptionsDataPin").append('<div class="col-md-2">Data pin</div>'),$("#componentOptionsDataPin").append('<div id="dataPin" class="col-md-10"></div>'),$("#componentOptionsModalBody").append('<div id="componentOptionsCsPin" class="ui-widget row mb-4"></div>'),$("#componentOptionsCsPin").append('<div class="col-md-2">Cs pin</div>'),$("#componentOptionsCsPin").append('<div id="csPin" class="col-md-10"></div>'),$("#componentOptionsModalBody").append('<div id="componentOptionsClkPin" class="ui-widget row mb-4"></div>'),$("#componentOptionsClkPin").append('<div class="col-md-2">Clk pin</div>'),$("#componentOptionsClkPin").append('<div id="clkPin" class="col-md-10"></div>');var t=this.getPossibleDataPin(),e=this.getPossibleCsPin(),n=this.getPossibleClkPin();$("#dataPin").append('<button type="button" id=dataPin'+t+" name="+t+' class="col-md-1 ml-2 mb-2 dataPinButton pinButton option_button_enabled">'+t+"</button>"),$("#dataPin"+t).addClass("option_button_selected"),$("#csPin").append('<button type="button" id=csPin'+e+" name="+e+' class="col-md-1 ml-2 mb-2 csPinButton pinButton option_button_enabled">'+e+"</button>"),$("#csPin"+e).addClass("option_button_selected"),$("#clkPin").append('<button type="button" id=clkPin'+n+" name="+n+' class="col-md-1 ml-2 mb-2 clkPinButton pinButton option_button_enabled">'+n+"</button>"),$("#clkPin"+n).addClass("option_button_selected")}},{key:"getPossibleDataPin",value:function(){return"2"}},{key:"getPossibleCsPin",value:function(){return"10"}},{key:"getPossibleClkPin",value:function(){return"13"}},{key:"getId",value:function(){return this._id}},{key:"getType",value:function(){return this._type}},{key:"setX",value:function(t){this._x=t}},{key:"getX",value:function(){return this._x}},{key:"setY",value:function(t){this._y=t}},{key:"getY",value:function(){return this._y}},{key:"setOffset",value:function(t){this._offset=t}},{key:"getOffset",value:function(){return this._offset}},{key:"setDataPin",value:function(t){this._dataPin=t}},{key:"getDataPin",value:function(){return this._dataPin}},{key:"setCsPin",value:function(t){this._csPin=t}},{key:"getCsPin",value:function(){return this._csPin}},{key:"setClkPin",value:function(t){this._clkPin=t}},{key:"getClkPin",value:function(){return this._clkPin}},{key:"setState",value:function(t){if(t.dataType==ot.DISPLAY)for(var e=0;e<4;e++)this._state[e]=t.data[e];else if(t.dataType==ot.SEGMENT){var n=t.data[0];this._state[n]=t.data[1]}}},{key:"getState",value:function(){return this._state}},{key:"getCanvasId",value:function(){return this._canvasId}},{key:"getLedSvg",value:function(){return this._ledSvg}},{key:"getLedOffsets",value:function(){return this._ledOffsets}},{key:"getLedmatrixBackground",value:function(){return this._ledmatrixBackground}}],[{key:"getEmptyLedMatrix",value:function(){return[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]]}}]),a}(P);const at=function(){function e(n){t(this,e),a(this,"boardState",null),a(this,"currentScenario",null),a(this,"stepmotorQueue",[]),a(this,"servoAngleQueue",[]),a(this,"colorQueue",[]),a(this,"stepperPins",[33,34]),a(this,"penPositionPins",[36,37]),a(this,"colorPin",35),a(this,"stylusPosPin",38),a(this,"drawingActive",!1),this.boardState=n}return r(e,[{key:"setCurrentScenario",value:function(t){this.currentScenario=t}},{key:"clearLcd",value:function(){for(var t=0;t<2;t++)this.writeLcd(" ".repeat(16),t,0)}},{key:"writeLcd",value:function(t,e,n){this.boardState.setBacklight(1);var i=this.boardState.getLcdContent(e).substr(0,n),o=0;i.length<n&&(o=n-i.length),t=i+" ".repeat(o)+t.substring(0,16-n),this.boardState.getLcdContent(e).substr(t.length+n,16),this.boardState.setLcdContent(e,t)}},{key:"digitalWrite",value:function(t,e){var n=Number(t);n>=32&&n<=39||13===n?(n>=32&&n<=39&&(n-=32),"HIGH"===e||1==e?13===n?this.boardState.setLedState(8,1):this.boardState.setLedState(n,1):13===n?this.boardState.setLedState(8,0):this.boardState.setLedState(n,0)):this.boardState.setIoPinState(n,e)}},{key:"analogWrite",value:function(t,e){this.boardState.isPWMPin(t)?this.boardState.setIoPinState(t,e):this.boardState.setAnalogIoPinState(t,e)}},{key:"digitalRead",value:function(t){if(t.startsWith("SW_")){var e=v.mapButtonPinNameToIndex(t);return this.boardState.getButtonState(e)}return(t=Number(t))>=32&&t<=39||13===t?(t>=32&&t<=39&&(t-=32),this.boardState.getLedState(t)):this.boardState.getIoPinState(t)}},{key:"analogRead",value:function(t){return this.boardState.getAnalogIoPinState(t)}},{key:"setLeds",value:function(t){t=t.toString(2);for(var e=0;e<8;e++)this.digitalWrite(32+e,0);var n=8-t.length;for(n<0&&(n=0),e=0;e<Math.min(t.length,8);e++)this.digitalWrite(39-(n+e),t[e])}},{key:"tone",value:function(t,e){"BUZZER"===t&&this.boardState.setTonePlaying(e)}},{key:"noTone",value:function(t){"BUZZER"===t&&this.boardState.setTonePlaying(0)}},{key:"servo",value:function(t,e){e>180&&(e=180),e<0&&(e=0);var n=t+35;e!==this.boardState.getServoAngle(t)&&(this.boardState.setServoAngle(t,e),this.boardState.setIoPinState(n,e))}},{key:"servoWithPin",value:function(t,e){e!==this.boardState.getIoPinState(t)&&this.boardState.setIoPinState(t,e)}},{key:"startDcMotor",value:function(t,e){e>255&&(e=255),e<-255&&(e=-255),e!==this.boardState.getMotorSpeed(t)&&this.boardState.setMotorSpeed(t,e)}},{key:"sonar",value:function(t,e){return Math.round(this.boardState.getSonarDistance(t,e))}},{key:"pir",value:function(t){return this.boardState.getIoPinState(t)}},{key:"soundSensor",value:function(t){return this.boardState.getIoPinState(t)}},{key:"touchSensor",value:function(t){return this.boardState.getIoPinState(t)}},{key:"readButton",value:function(t){return console.log(this.boardState.getIoPinState(t)),this.boardState.getIoPinState(t)}},{key:"rgbLed",value:function(t,e){this.analogWrite(t[0],e[0]),this.analogWrite(t[1],e[1]),this.analogWrite(t[2],e[2])}},{key:"ledmatrixDisplaySegment",value:function(t){var e={dataType:ot.SEGMENT,data:t};this.boardState.setIoPinState(2,e)}},{key:"clearLedmatrixDisplaySegment",value:function(t){var e={dataType:ot.SEGMENT,data:[t,rt.getEmptyLedMatrix()[0]]};this.boardState.setIoPinState(2,e)}},{key:"clearLedmatrixDisplay",value:function(){var t={dataType:ot.DISPLAY,data:rt.getEmptyLedMatrix()};this.boardState.setIoPinState(2,t)}},{key:"sleep",value:function(t){}},{key:"stepperMotorStep",value:function(t,e){var n=e>0?1:-1;this.boardState.setIoPinState(t,this.boardState.getIoPinState(t)+n)}},{key:"stepMotorSteps",value:function(t,e){for(var n=0;n<Math.abs(e);++n)this.stepperMotorStep(t,e)}},{key:"stepMotorsTo",value:function(t){for(var e=[0,0],n=0;n<e.length;++n)e[n]=this.boardState.getIoPinState(this.penPositionPins[n])+t[n];for(var i=this.coordinatesToSteps(e),o=0;o<i.length;++o)this.boardState.setIoPinState(this.stepperPins[o],i[o])}},{key:"coordinatesToSteps",value:function(t){var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)),n=Math.sqrt(Math.pow(t[1],2)+Math.pow(T-t[0],2)),i=2*Math.PI*C/E;return[e/=i,n/=i]}},{key:"drawRobotCheckPosition",value:function(t){var e=DwenguinoSimulation.currentScenario;(t[0]<e.paper.position.x||t[0]>e.paper.position.x+e.paper.width||t[1]<e.paper.position.y||t[1]>e.paper.position.y+e.paper.height)&&(window.stepMotorError||(alert(DwenguinoBlocklyLanguageSettings.translate(["bounds"])),DwenguinoSimulation.handleSimulationStop(),window.stepMotorError=!0))}},{key:"drawRobotLine",value:function(t,e,n){n&&(t+=20,e+=40);for(var i=[0,0],o=0;o<i.length;++o)i[o]=this.boardState.getIoPinState(this.penPositionPins[o]);var r=i,a=Math.atan((e-r[1])/(t-r[0])),s=Math.sqrt(Math.pow(r[0]-t,2)+Math.pow(r[1]-e,2)),l=Math.cos(a),c=Math.sin(a);this.update(s,l,c),this.drawingActive=!0}},{key:"update",value:function(t,e,n){var i=this;t>0?(this.stepMotorsTo([e,n]),this.currentScenario.updateScenario(this.boardState),setTimeout((function(){i.update(t-1,e,n)}),30)):this.drawingActive=!1}},{key:"drawRobotLowerStylus",value:function(){this.boardState.setIoPinState(this.stylusPosPin,0)}},{key:"drawRobotLiftStylus",value:function(){this.boardState.setIoPinState(this.stylusPosPin,90)}},{key:"changeColor",value:function(t){this.boardState.setIoPinState(this.colorPin,t)}},{key:"ledStrip",value:function(t){if(this.currentScenario instanceof S)for(var e=0;e<t.length;e++)if(t[e]>0){var n=Math.trunc(t[e]/65536),i=Math.trunc((t[e]-65536*n)/256),o=Math.trunc(t[e]-65536*n-256*i);this.currentScenario.state.leds[e].on=!0,this.currentScenario.state.leds[e].r=o,this.currentScenario.state.leds[e].g=i,this.currentScenario.state.leds[e].b=n}else this.currentScenario.state.leds[e].on=!1}},{key:"rgbColorSensor",value:function(t){if(this.currentScenario instanceof S){var e=this.currentScenario.getColorSensorOnPin(t);return e[0]+256*e[1]+65536*e[2]}return 0}},{key:"readButtonValue",value:function(t){return this.boardState.getIoPinState(t)}},{key:"areColorsSimilar",value:function(t,e,n){var i=Math.trunc(t/65536),o=Math.trunc((t-65536*i)/256),r=Math.trunc(t-65536*i-256*o),a=Math.trunc(e/65536),s=Math.trunc((e-65536*a)/256),l=Math.trunc(e-65536*a-256*s);return Math.abs(i-a)<=n&&Math.abs(o-s)<=n&&Math.abs(r-l)<=n}}]),e}();const st=function(e){p(s,e);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function s(e,n){var i;return t(this,s),a(c(i=o.call(this)),"logger",null),a(c(i),"workspace",null),a(c(i),"simulationViewContainerId","db_simulator_panes"),i.logger=e,i.workspace=n,i}return r(s,[{key:"resetDwenguino",value:function(){d(u(s.prototype),"resetDwenguino",this).call(this),-1!==this.debugger.blocks.lastColours[0]&&this.debugger.blocks.lastBlocks[0].setColour(this.debugger.blocks.lastColours[0]),this.debugger.blocks.lastColours=[-1,-1],this.debugger.blocks.lastBlocks=[null,null]}},{key:"initScenario",value:function(){this.currentScenario.initSimulationState(this.board),this.currentScenario.initSimulationDisplay(this.simulationViewContainerId),this.currentScenario.updateScenario(this.board)}},{key:"initDebugger",value:function(){var t=Blockly.JavaScript.workspaceToCode(this.workspace);d(u(s.prototype),"initDebugger",this).call(this,t),this.mapBlocksToCode(),this.updateBlocklyColour()}},{key:"step",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d(u(s.prototype),"step",this).call(this,t),(this.isDebugging||!this.isSimulationPaused&&this.isSimulationRunning)&&this.updateBlocklyColour()}},{key:"mapBlocksToCode",value:function(){for(var t=this,e=this.workspace.getAllBlocks()[0],n=0,i=this.debugger.code.split("\n"),o=[],r=function(){if(i[n].trim()===Blockly.JavaScript.blockToCode(a).split("\n")[0]&&(i[n].trim().startsWith("for")||i[n].trim().startsWith("while")||i[n].trim().startsWith("if"))?(o.push(a),t.debugger.blocks.blockMapping[n]=a,a=a.getInputTargetBlock("DO")||a.getInputTargetBlock("DO0")):i[n].trim()===Blockly.JavaScript.blockToCode(a).split("\n")[0]&&(t.debugger.blocks.blockMapping[n]=a,a=a.getNextBlock()),null===a&&o.length>0){var e=o.pop();a=e.getNextBlock(),n++}n++},a=e.getInputTargetBlock("SETUP");null!==a&&n<i.length;)r();for(;o.length>0;)o.pop(),n++;for(;n<i.length&&"while (true) {"!==i[n];)n++;for(n<i.length&&(this.debugger.blocks.blockMapping[n]=e,n++),a=e.getInputTargetBlock("LOOP");null!==a&&n<i.length;)r()}},{key:"updateBlocklyColour",value:function(){if(this.debugger.debuggerjs){var t=this.debugger.debuggerjs.machine.getCurrentLoc().start.line-1;""!==this.debugger.code&&void 0!==this.debugger.blocks.blockMapping[t]&&(null!==this.debugger.blocks.lastBlocks[0]&&this.debugger.blocks.lastBlocks[0].setColour(this.debugger.blocks.lastColours[0]),this.debugger.blocks.lastBlocks[0]=this.debugger.blocks.lastBlocks[1],this.debugger.blocks.lastColours[0]=this.debugger.blocks.lastColours[1],this.debugger.blocks.lastBlocks[1]=this.debugger.blocks.blockMapping[t],this.debugger.blocks.lastColours[1]=this.debugger.blocks.blockMapping[t].getColour(),null!==this.debugger.blocks.lastBlocks[0]&&this.debugger.blocks.lastBlocks[0].setColour(210))}}}]),s}(function(){function e(){t(this,e),a(this,"board",null),a(this,"debugger",null),a(this,"simulationSandbox",null),a(this,"currentScenario",null),a(this,"speedDelay",16),a(this,"baseSpeedDelay",16),a(this,"isSimulationRunning",!1),a(this,"isSimulationPaused",!1),a(this,"isDebugging",!1),this.board=new _,this.simulationSandbox=new at(this.board),this.initDebuggerState()}return r(e,[{key:"initDebuggerState",value:function(){this.debugger={debuggerjs:null,code:"",blocks:{lastBlocks:[null,null],lastColours:[-1,-1],blockMapping:{}}}}},{key:"setCurrentScenario",value:function(t){this.currentScenario=t,this.simulationSandbox.setCurrentScenario(this.currentScenario),this.resetDwenguino()}},{key:"initScenario",value:function(){this.currentScenario.initSimulationState(this.board),this.currentScenario.initSimulationDisplay(""),this.currentScenario.updateScenario(this.board)}},{key:"resetDwenguino",value:function(){this.debugger.debuggerjs=null,this.debugger.code="",this.debugger.blocks.blockMapping={},this.board.resetBoard(),this.initScenario()}},{key:"createDebugger",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return debugjs.createDebugger(t)}},{key:"initDebugger",value:function(t){this.resetDwenguino(),this.debugger.code=t,this.debugger.debuggerjs=this.createDebugger({iframeParentElement:document.getElementById("debug"),sandbox:{DwenguinoSimulation:this.simulationSandbox}}),this.debugger.debuggerjs.machine.on("error",(function(t){console.log(t),console.error(t.message)})),this.debugger.debuggerjs.load(this.debugger.code,"DwenguinoSimulation"),this.debugger.debuggerjs.machine.step()}},{key:"step",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isDebugging||!this.isSimulationPaused&&this.isSimulationRunning){if(this.debugger.debuggerjs){var e=this.debugger.debuggerjs.machine.getCurrentLoc().start.line-1;this.debugger.debuggerjs.machine.step()}var n=void 0===this.debugger.code.split("\n")[e]?"":this.debugger.code.split("\n")[e];if(this.currentScenario.updateScenario(this.board),n.trim().startsWith("DwenguinoSimulation.sleep")){var i=Number(this.debugger.code.split("\n")[e].replace(/\D+/g,""));this.delayStepsTaken=0,this.delayStepsToTake=Math.floor(i/this.baseSpeedDelay),this.delayRemainingAfterSteps=i%this.baseSpeedDelay,this.performDelayLoop(t)}else t?this.setIsSimulationPaused(!0):setTimeout(this.step.bind(this),this.speedDelay);this.checkForEnd()}}},{key:"performDelayLoop",value:function(t){var e=this;this.delayStepsTaken<this.delayStepsToTake?(this.currentScenario.updateScenario(this.board),this.delayStepsTaken++,setTimeout((function(){e.performDelayLoop(t)}),this.speedDelay)):t?this.setIsSimulationPaused(!0):setTimeout((function(){e.step()}),this.delayRemainingAfterSteps)}},{key:"handleScope",value:function(){var t=this.debugger.debuggerjs.machine.getCurrentStackFrame().scope;for(var e in t){var n=t[e];this.debugger.debuggerjs.machine.$runner.gen.stackFrame.evalInScope(n.name)}}},{key:"checkForEnd",value:function(){(this.isSimulationRunning||this.isSimulationPaused)&&this.debugger.debuggerjs.machine.halted&&(this.setIsSimulationRunning(!1),this.setIsSimulationPaused(!1))}},{key:"setIsSimulationRunning",value:function(t){this.isSimulationRunning=t,this.currentScenario.setIsSimulationRunning(this.isSimulationRunning)}},{key:"setIsSimulationPaused",value:function(t){this.isSimulationPaused=t}},{key:"setIsDebugging",value:function(t){this.isDebugging=t}}]),e}()),lt=function(){function e(n,i,o){t(this,e),a(this,"simulationRunner",null),a(this,"scenarioView","spyrograph"),a(this,"scenarios",null),a(this,"logger",null),this.logger=n,this.scenarios=o,this.simulationRunner=new st(this.logger,i),this.simulationRunner.setCurrentScenario(this.scenarios[this.scenarioView]),this.initSimulationControlsUI(o)}return r(e,[{key:"initSimulationControlsUI",value:function(t){var e=this;$("#db_simulator_menu").empty(),$("#db_infopane").prepend('<div id="db_simulator_menu"></div>'),$("#db_simulator_menu").append('<div id="sim_menu"></div>'),$("#sim_menu").append('<div id="sim_menu_buttons"></div>'),$("#sim_menu_buttons").append('<div id="sim_start" class="sim_item"></div>'),$("#sim_menu_buttons").append('<div id="sim_pause" class="sim_item_disabled"></div>'),$("#sim_menu_buttons").append('<div id="sim_stop" class="sim_item_disabled"></div>'),$("#sim_menu_buttons").append('<div id="sim_step" class="sim_item"></div>'),$("#sim_menu").append('<div id="sim_scenarios" class="btn-group btn-group-toggle" data-toggle="buttons"></div>'),$("#sim_scenarios").append('<div id="sim_scenarioTag" ></div>'),$.each(Object.keys(this.scenarios),(function(t,n){var i='<div id="scenario_item_'+n+'" class="sim_scenario_item"></div>',o='<label id="scenario_label_'+n+'" class="btn sim_scenario_btn"></label>',r='<input id="sim_scenario_'+n+'"type="radio" name="scenario_type" class="sim_scenario_radio" value="'+n+'" autocomplete="off">'+'<img src="'.concat(settings.basepath,"DwenguinoIDE/img/scenarios/scenario_")+n+'.png" class="scenario_image">';$("#sim_scenarios").append(i),$("#scenario_item_"+n).append(o),$("#scenario_label_"+n).append(r),n==e.scenarioView&&($("#sim_scenario_"+n).attr("checked","checked"),$("#scenario_label_"+n).attr("class","btn sim_scenario_btn active"))})),this.updateProgrammingBlocks(),this.translateSimulatorInterface(),$("#sim_speed").on("change",(function(){e.setSpeed()}));var n=this;$("input[name=scenario_type]:radio").change((function(){console.log($(this).val()),n.scenarioView=$(this).val(),n.translateSimulatorInterface(),n.handleSimulationStop(),n.simulationRunner.setCurrentScenario(n.scenarios[n.scenarioView]);var t={scenario:n.scenarioView};n.updateProgrammingBlocks(),n.logger.recordEvent(n.logger.createEvent(M.changedScenario,t))})),$("#sim_start").click((function(){var t=Blockly.Xml.workspaceToDom(Vt.workspace),n=Blockly.Xml.domToText(t),i="",o="";try{i=Blockly.JavaScript.workspaceToCode(Vt.workspace)}catch(t){i="invalid code"}try{o=Blockly.Python.workspaceToCode(Vt.workspace)}catch(t){o="invalid code"}var r={xmlCode:n,javascriptCode:i,pythonCode:o};e.setButtonsStart(),e.simulationRunner.isSimulationRunning||e.simulationRunner.isSimulationPaused?e.simulationRunner.isSimulationRunning||(e.logger.recordEvent(e.logger.createEvent(M.simResume,r)),e.simulationRunner.setIsSimulationPaused(!1),e.simulationRunner.setIsSimulationRunning(!0),e.resumeSimulation()):(e.simulationRunner.setIsSimulationRunning(!0),e.startSimulation(),e.logger.recordEvent(e.logger.createEvent(M.simStart,r)))})),$("#sim_pause").click((function(){var t=Blockly.Xml.workspaceToDom(Vt.workspace),n=Blockly.Xml.domToText(t),i="",o="";try{i=Blockly.JavaScript.workspaceToCode(Vt.workspace)}catch(t){i="invalid code"}try{o=Blockly.Python.workspaceToCode(Vt.workspace)}catch(t){o="invalid code"}var r={xmlCode:n,javascriptCode:i,pythonCode:o};e.logger.recordEvent(e.logger.createEvent(M.simPause,r)),e.simulationRunner.setIsSimulationRunning(!1),e.simulationRunner.setIsSimulationPaused(!0),e.setButtonsPause()})),$("#sim_stop").click((function(){var t=Blockly.Xml.workspaceToDom(Vt.workspace),n=Blockly.Xml.domToText(t),i="",o="";try{i=Blockly.JavaScript.workspaceToCode(Vt.workspace)}catch(t){i="invalid code"}try{o=Blockly.Python.workspaceToCode(Vt.workspace)}catch(t){o="invalid code"}var r={xmlCode:n,javascriptCode:i,pythonCode:o};e.logger.recordEvent(e.logger.createEvent(M.simStopButtonClicked,r)),e.handleSimulationStop()})),$("#sim_step").click((function(){var t=Blockly.Xml.workspaceToDom(Vt.workspace),n=Blockly.Xml.domToText(t),i="",o="";try{i=Blockly.JavaScript.workspaceToCode(Vt.workspace)}catch(t){i="invalid code"}try{o=Blockly.Python.workspaceToCode(Vt.workspace)}catch(t){o="invalid code"}var r={xmlCode:n,javascriptCode:i,pythonCode:o};e.setButtonsStep(),e.logger.recordEvent(e.logger.createEvent(M.simStep,r)),e.simulationRunner.isSimulationPaused||e.simulationRunner.isSimulationRunning?e.simulationRunner.isSimulationRunning||(e.simulationRunner.setIsDebugging(!0),e.simulationRunner.setIsSimulationPaused(!1),e.simulationRunner.step(!0),e.simulationRunner.setIsSimulationPaused(!0),e.simulationRunner.setIsDebugging(!1)):(e.simulationRunner.setIsDebugging(!0),e.startStepSimulation(),e.simulationRunner.setIsSimulationPaused(!0),e.simulationRunner.setIsDebugging(!1))}));var i=function(t,e,n){$.each(e,(function(t,e){var n=$(e.attr("href"));e.removeClass("active"),n.hide()})),$(t).addClass("active"),$(t.hash).show(),n.preventDefault()};$("a[href$='#db_code_pane']").click((function(t){i(this,[$("a[href$='#db_robot_pane']")],t)})),$("a[href$='#db_robot_pane']").click((function(t){i(this,[$("a[href$='#db_code_pane']")],t)})),$("a[href$='#db_robot_pane']").trigger("click")}},{key:"updateProgrammingBlocks",value:function(){$("#toolbox").load(Vt.basepath+"/DwenguinoIDE/levels/"+this.scenarioView+".xml",(function(){Vt.doTranslation(),Vt.workspace.updateToolbox(document.getElementById("toolbox"))}))}},{key:"translateSimulatorInterface",value:function(){document.getElementById("sim_start").innerHTML="<span class='fas fa-play' alt='"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["start"])+"'></span>",document.getElementById("sim_stop").innerHTML="<span class='fas fa-stop' alt='"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["stop"])+"'></span>",document.getElementById("sim_pause").innerHTML="<span class='fas fa-pause' alt='"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["pause"])+"'></span>",document.getElementById("sim_step").innerHTML="<span class='fas fa-step-forward' alt='"+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["step"])+"'></span>",document.getElementById("sim_scenarioTag").textContent=DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["scenario"])+":"}},{key:"startSimulation",value:function(){this.startDebuggingView(),this.simulationRunner.initDebugger(),this.simulationRunner.step()}},{key:"startStepSimulation",value:function(){this.startDebuggingView(),this.simulationRunner.initDebugger(),this.simulationRunner.step(!0)}},{key:"stopSimulation",value:function(){this.stopDebuggingView(),this.simulationRunner.resetDwenguino()}},{key:"resumeSimulation",value:function(){this.simulationRunner.step()}},{key:"handleSimulationStop",value:function(){var t=Blockly.Xml.workspaceToDom(Vt.workspace),e=Blockly.Xml.domToText(t),n="",i="";try{n=Blockly.JavaScript.workspaceToCode(Vt.workspace)}catch(t){n="invalid code"}try{i=Blockly.Python.workspaceToCode(Vt.workspace)}catch(t){i="invalid code"}var o={xmlCode:e,javascriptCode:n,pythonCode:i};this.logger.recordEvent(this.logger.createEvent(M.simStop,o)),this.simulationRunner.setIsSimulationRunning(!1),this.simulationRunner.setIsSimulationPaused(!1),this.setButtonsStop(),this.stopSimulation()}},{key:"setButtonsStart",value:function(){document.getElementById("sim_pause").className="sim_item",document.getElementById("sim_stop").className="sim_item",document.getElementById("sim_start").className="sim_item_disabled",document.getElementById("sim_step").className="sim_item_disabled"}},{key:"setButtonsPause",value:function(){document.getElementById("sim_start").className="sim_item",document.getElementById("sim_step").className="sim_item",document.getElementById("sim_stop").className="sim_item",document.getElementById("sim_pause").className="sim_item_disabled"}},{key:"setButtonsStop",value:function(){document.getElementById("sim_start").className="sim_item",document.getElementById("sim_step").className="sim_item",document.getElementById("sim_stop").className="sim_item_disabled",document.getElementById("sim_pause").className="sim_item_disabled"}},{key:"setButtonsStep",value:function(){document.getElementById("sim_start").className="sim_item",document.getElementById("sim_step").className="sim_item",document.getElementById("sim_stop").className="sim_item",document.getElementById("sim_pause").className="sim_item_disabled"}},{key:"startDebuggingView",value:function(){0!==document.getElementsByClassName("alertDebug").length&&document.getElementsByClassName("alertDebug")[0].remove();var t='<div class ="alertDebug">'+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["alertDebug"])+"</div>";$("#db_body").append(t),document.getElementsByClassName("alertDebug")[0].style.width=document.getElementById("blocklyDiv").style.width,document.querySelector('input[id="code_checkbox"]').checked?(document.getElementById("blocklyDiv").style.visibility="hidden",document.getElementById("db_code_pane").style.visibility="visible"):(document.getElementById("blocklyDiv").style.visibility="visible",document.getElementById("blocklyDiv").style.opacity="0.5",document.getElementById("db_code_pane").style.visibility="hidden"),document.getElementById("db_code_pane").style.opacity="0.5",document.getElementById("blocklyDiv").style.opacity="0.5"}},{key:"stopDebuggingView",value:function(){document.querySelector('input[id="code_checkbox"]').checked?(document.getElementById("blocklyDiv").style.visibility="hidden",document.getElementById("db_code_pane").style.visibility="visible"):(document.getElementById("blocklyDiv").style.visibility="visible",document.getElementById("db_code_pane").style.visibility="hidden"),document.getElementById("db_code_pane").style.opacity="1",document.getElementById("blocklyDiv").style.opacity="1",document.getElementById("blocklyDiv").style.pointerEvents="auto",0!==document.getElementsByClassName("alertDebug").length&&document.getElementsByClassName("alertDebug")[0].remove()}},{key:"setSpeed",value:function(){var t=document.getElementById("sim_speed"),e=t.options[t.selectedIndex].value;switch(this.logger.recordEvent(this.logger.createEvent(M.setSpeed,"","","",e)),e){case"veryslow":this.simulationRunner.speedDelay=600;break;case"slow":this.simulationRunner.speedDelay=300;break;case"medium":this.simulationRunner.speedDelay=150;break;case"fast":this.simulationRunner.speedDelay=75;break;case"veryfast":this.simulationRunner.speedDelay=32;break;case"realtime":this.simulationRunner.speedDelay=16}}}]),e}();var ct=function(){function e(){t(this,e),this.events={}}return r(e,[{key:"registerEvent",value:function(t){var e=new B(t);this.events[t]=e}},{key:"dispatchEvent",value:function(t,e){this.events[t].callbacks.forEach((function(t){t(e)}))}},{key:"addEventListener",value:function(t,e){this.events[t].registerCallback(e)}}]),e}();const ut=function(){function e(n){t(this,e),a(this,"socialRobotScenario",{}),this._eventBus=n,this._components=[{type:nt.SERVO,maximumAmount:6},{type:nt.LED,maximumAmount:3},{type:nt.RGBLED,maximumAmount:3},{type:nt.LEDMATRIX,maximumAmount:1},{type:nt.LEDMATRIXSEGMENT,maximumAmount:4},{type:nt.TOUCH,maximumAmount:3},{type:nt.BUTTON,maximumAmount:3},{type:nt.PIR,maximumAmount:2},{type:nt.SONAR,maximumAmount:4},{type:nt.LCD,maximumAmount:1},{type:nt.SOUND,maximumAmount:4},{type:nt.LIGHT,maximumAmount:2}]}return r(e,[{key:"setupEnvironment",value:function(t){this.socialRobotScenario=t,console.debug("setupEnvironment"),this.initMenu(),this.translateRobotComponents()}},{key:"initMenu",value:function(){$("#db_simulator_top_pane").append('<div id="robot_components_menu" class="scrolling-wrapper-flexbox"></div>'),$("#robot_components_menu").append('<div id="rc_sonar" class="robot_components_item bg-c-4 card"></div>'),$("#rc_sonar").append('<div id="rc_sonar_tag" class="rc_tag text-center"></div>'),$("#rc_sonar").append('<div id="rc_sonar_img" class="rc_img"></div>'),$("#rc_sonar").append('<div id="rc_sonar_value"></div>'),$("#rc_sonar").append('<div id="rc_sonar_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_sound" class="robot_components_item bg-c-4 card"></div>'),$("#rc_sound").append('<div id="rc_sound_tag" class="rc_tag text-center"></div>'),$("#rc_sound").append('<div id="rc_sound_img" class="rc_img"></div>'),$("#rc_sound").append('<div id="rc_sound_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_servo" class="robot_components_item bg-c-4 card"></div>'),$("#rc_servo").append('<div id="rc_servo_tag" class="rc_tag text-center"></div>'),$("#rc_servo").append('<div id="rc_servo_img" class="rc_img"></div>'),$("#rc_servo").append('<div id="rc_servo_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_lcd" class="robot_components_item bg-c-4 card"></div>'),$("#rc_lcd").append('<div id="rc_lcd_tag" class="rc_tag text-center"></div>'),$("#rc_lcd").append('<div id="rc_lcd_img" class="rc_img"></div>'),$("#rc_lcd").append('<div id="rc_lcd_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_ledmatrixsegment" class="robot_components_item bg-c-4 card"></div>'),$("#rc_ledmatrixsegment").append('<div id="rc_ledmatrixsegment_tag" class="rc_tag text-center"></div>'),$("#rc_ledmatrixsegment").append('<div id="rc_ledmatrixsegment_img" class="rc_img"></div>'),$("#rc_ledmatrixsegment").append('<div id="rc_ledmatrixsegment_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_rgbled" class="robot_components_item bg-c-4 card"></div>'),$("#rc_rgbled").append('<div id="rc_rgbled_tag" class="rc_tag text-center"></div>'),$("#rc_rgbled").append('<div id="rc_rgbled_img" class="rc_img"></div>'),$("#rc_rgbled").append('<div id="rc_rgbled_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_pir" class="robot_components_item bg-c-4 card"></div>'),$("#rc_pir").append('<div id="rc_pir_tag" class="rc_tag text-center"></div>'),$("#rc_pir").append('<div id="rc_pir_img" class="rc_img"></div>'),$("#rc_pir").append('<div id="rc_pir_value"></div>'),$("#rc_pir").append('<div id="rc_pir_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_touch" class="robot_components_item bg-c-4 card"></div>'),$("#rc_touch").append('<div id="rc_touch_tag" class="rc_tag text-center"></div>'),$("#rc_touch").append('<div id="rc_touch_img" class="rc_img"></div>'),$("#rc_touch").append('<div id="rc_touch_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_led" class="robot_components_item bg-c-4 card"></div>'),$("#rc_led").append('<div id="rc_led_tag" class="rc_tag text-center"></div>'),$("#rc_led").append('<div id="rc_led_img" class="rc_img"></div>'),$("#rc_led").append('<div id="rc_led_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_ledmatrix" class="robot_components_item bg-c-4 card"></div>'),$("#rc_ledmatrix").append('<div id="rc_ledmatrix_tag" class="rc_tag text-center"></div>'),$("#rc_ledmatrix").append('<div id="rc_ledmatrix_img" class="rc_img"></div>'),$("#rc_ledmatrix").append('<div id="rc_ledmatrix_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_button" class="robot_components_item bg-c-4 card"></div>'),$("#rc_button").append('<div id="rc_button_tag" class="rc_tag text-center"></div>'),$("#rc_button").append('<div id="rc_button_img" class="rc_img"></div>'),$("#rc_button").append('<div id="rc_button_options" class="rc_options"></div>'),$("#robot_components_menu").append('<div id="rc_light" class="robot_components_item bg-c-4 card"></div>'),$("#rc_light").append('<div id="rc_light_tag" class="rc_tag text-center"></div>'),$("#rc_light").append('<div id="rc_light_img" class="rc_img"></div>'),$("#rc_light").append('<div id="rc_light_options" class="rc_options"></div>'),this.initButtons()}},{key:"initButtons",value:function(){for(var t=null,e=0,n=Object.entries(nt);e<n.length;e++){var i=I(n[e],2),o=(i[0],i[1]);t=this.generateButtonTemplate(o),$("#rc_"+o+"_options").append(t)}var r=this;$(".btn-number").click((function(t){t.preventDefault();var e=$(this).attr("data-field"),n=$(this).attr("data-type"),i=$("input[name='"+e+"']"),o=parseInt(i.val());isNaN(o)?i.val(0):"minus"==n?(o>i.attr("min")&&(i.val(o-1).change(),r.removeRobotComponent(t.target.id)),parseInt(i.val())==i.attr("min")&&$(this).attr("disabled",!0)):"plus"==n&&(o<i.attr("max")&&(i.val(o+1).change(),r.addRobotComponent(t.target.id)),parseInt(i.val())==i.attr("max")&&$(this).attr("disabled",!0))})),$(".input-number").focusin((function(){$(this).data("oldValue",$(this).val())})),$(".input-number").change((function(){var t=parseInt($(this).attr("min")),e=parseInt($(this).attr("max")),n=parseInt($(this).val()),i=$(this).attr("name");n>=t?$(".component_item_input[data-type='minus'][data-field='"+i+"']").removeAttr("disabled"):$(this).val($(this).data("oldValue")),n<=e?$(".component_item_input[data-type='plus'][data-field='"+i+"']").removeAttr("disabled"):$(this).val($(this).data("oldValue"))})),$(".input-number").keydown((function(t){-1!==$.inArray(t.keyCode,[46,8,9,27,13,190])||65==t.keyCode&&!0===t.ctrlKey||t.keyCode>=35&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()}))}},{key:"resetButtons",value:function(){for(var t=0,e=Object.entries(nt);t<e.length;t++){var n=I(e[t],2),i=(n[0],n[1]);$("input[name='"+i+"']").val(0).change()}}},{key:"changeValue",value:function(t,e){var n=$("input[name='"+t+"']"),i=parseInt(n.val());n.val(i+e).change()}},{key:"translateRobotComponents",value:function(){for(var t=0,e=Object.entries(nt);t<e.length;t++){var n=I(e[t],2),i=(n[0],n[1]);null!=document.getElementById("rc_"+i+"_tag")?document.getElementById("rc_"+i+"_tag").textContent=DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[i]):console.debug("Translation error --- No component of type ",i)}}},{key:"generateButtonTemplate",value:function(t){var e="";return this._components.forEach((function(n){n.type==t&&(e='<fieldset><button type="button" id="rc_'+t+'_minus_button" class="component_item_input btn-number" disabled="disabled" data-type="minus" data-field="'+t+'"><span class="fas fa-minus" id="rc_'+t+'_minus_button"></span></button><input type="text" name="'+t+'" class="component_item_input input-number" size="2" value="0" min="0" max="'+n.maximumAmount+'"><button type="button" id="rc_'+t+'_plus_button" class="component_item_input btn-number float-right" data-type="plus" data-field="'+t+'"><span class="fas fa-plus" id="rc_'+t+'_plus_button"></span></button></fieldset>')})),e}},{key:"addRobotComponent",value:function(t){var e=this.extractType(t);this.socialRobotScenario.addRobotComponent(e),this._eventBus.dispatchEvent(A.SAVE)}},{key:"extractType",value:function(t){var e=t.split("_");return e.length>=2?e[1]:(console.debug("No component type could be extracted from id ",t),"")}},{key:"removeRobotComponent",value:function(t){var e=this.extractType(t);this.socialRobotScenario.removeRobotComponent(e),this._eventBus.dispatchEvent(A.SAVE)}}]),e}();var dt=i(496);const ht=function(){function e(n,i){t(this,e),a(this,"socialRobotScenario",null),this.socialRobotScenario=n,this._eventBus=i,this.setupInteract(),window.dragMoveListener=this.dragMoveListener}return r(e,[{key:"setupInteract",value:function(){var t=this;dt(".draggable").draggable({inertia:!0,modifiers:[dt.modifiers.restrict({restriction:"parent",elementRect:{left:0,right:0,top:0,bottom:0},endOnly:!0})],autoScroll:!0,onmove:this.dragMoveListener,onend:function(e){var n=e.target.querySelector("p");n&&(n.textContent="moved a distance of "+Math.sqrt(Math.pow(e.pageX-e.x0,2)+Math.pow(e.pageY-e.y0,2)|0).toFixed(2)+"px"),t._eventBus.dispatchEvent(A.SAVE);var i={id:e.target.id};i=JSON.stringify(i),t.socialRobotScenario.logger.recordEvent(t.socialRobotScenario.logger.createEvent(M.moveRobotComponent,i))}})}},{key:"dragMoveListener",value:function(t){var e=t.target,n=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,i=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.style.webkitTransform=e.style.transform="translate("+n+"px, "+i+"px)",e.setAttribute("data-x",n),e.setAttribute("data-y",i)}},{key:"fireCustomEvent",value:function(t,e,n){var i;n=n||{},document.createEvent?(i=document.createEvent("HTMLEvents")).initEvent(t,!0,!0):(i=document.createEventObject()).eventType=t,i.eventName=t,i=$.extend(i,n),document.createEvent?e.dispatchEvent(i):e.fireEvent("on"+i.eventType,i)}}]),e}();function pt(t,e,n,i,o,r,a){try{var s=t[r](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,o)}var ft=i(757);const gt=function(){function e(){t(this,e)}return r(e,null,[{key:"download",value:function(t,e){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"uploadXml",value:function(){return new Promise((function(t,e){var n="";if(window.File&&window.FileReader&&window.FileList&&window.Blob){$("#dropzoneModal .modal-header").empty(),$("#dropzoneModal .modal-header").append('<h4 class="modal-title">Upload</h4>'),$("#dropzoneModal .modal-header").append('<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>'),$("#dropzoneModal .modal-body .message").empty(),$("#dropzoneModal .modal-body .message").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("dropzone",["dictSelectFile"])+"</p>"),$("#dropzoneModal .modal-body .message").append('<label for="fileInput" class="form-label">Choose file </label><input type="file" id="fileInput" class="form-control">'),$("#dropzoneModal .modal-body .message").append('<div id="filedrag">'+DwenguinoBlocklyLanguageSettings.translateFrom("dropzone",["dictDefaultMessage"])+"</div>"),$("#dropzoneModal .modal-body .message").append('<pre id="fileDisplayArea"></pre>'),$("#dropzoneModal .modal-footer").empty(),$("#dropzoneModal .modal-footer").append('<button id="submit_upload_modal_dialog_button" type="button" class="btn btn-default" data-dismiss="modal">Ok</button>'),$("#dropzoneModal").modal("show");var i=function(t){if(t.type.match(/text.*/)){var e=new FileReader;e.onload=function(i){r.innerText=t.name,n=e.result},e.readAsText(t)}else r.innerText=DwenguinoBlocklyLanguageSettings.translateFrom("dropzone",["dictFileNotSupported"])},o=document.getElementById("fileInput"),r=document.getElementById("fileDisplayArea");o.addEventListener("change",(function(t){var e=o.files[0];i(e)}));var a=function(t){t.stopPropagation(),t.preventDefault(),t.target.className="dragover"==t.type?"hover":""},s=document.getElementById("filedrag");s.addEventListener("dragover",a,!1),s.addEventListener("dragleave",a,!1),s.addEventListener("drop",(function(t){a(t);var e=(t.target.files||t.dataTransfer.files)[0];i(e)}),!1),s.style.display="block",$("#dropzoneModal").on("click",(function(t){var n=$(t.target);console.log(n),(n.is("button.close")||n.is("div#dropzoneModal.modal.fade"))&&e("Dialog closed without result")})),$("#submit_upload_modal_dialog_button").click((function(){t(n)}))}else e("File IO libraries not supported")}))}}]),e}();var mt=function(){function e(n,i){t(this,e),a(this,"ioController",null),this.scenario=n,this._eventBus=i,this.ioController=new gt}var n,i;return r(e,[{key:"saveScenario",value:function(t){console.log("save scenario"),gt.download("scenario.xml",t);var e=this.scenario.logger.createEvent(M.downloadScenarioClicked,"");this.scenario.logger.recordEvent(e)}},{key:"loadScenario",value:(n=ft.mark((function t(){var e;return ft.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gt.uploadXml();case 3:e=t.sent,this.scenario.xmlToRobot(e),this._eventBus.dispatchEvent(A.SAVE),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})),i=function(){var t=this,e=arguments;return new Promise((function(i,o){var r=n.apply(t,e);function a(t){pt(r,i,o,a,s,"next",t)}function s(t){pt(r,i,o,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"textToDom",value:function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return e&&e.firstChild&&"xml"==e.firstChild.nodeName.toLowerCase()&&e.firstChild===e.lastChild||goog.asserts.fail("Blockly.Xml.textToDom did not obtain a valid XML tree."),e.firstChild}}]),e}();const vt=function(e){p(s,e);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function s(e){var n;return t(this,s),a(c(n=o.call(this,e)),"simulationComponentsMenu",null),a(c(n),"simulationRobotComponents",null),a(c(n),"audioStarted",!1),a(c(n),"prevFreq",0),n._eventBus=new ct,n._eventBus.registerEvent(A.SAVE),n._eventBus.addEventListener(A.SAVE,(function(){n.saveRobot()})),n.simulationRobotComponents=new ht(c(n),n._eventBus),n.simulationComponentsMenu=new ut(n._eventBus),n.initAudioContext(),n}return r(s,[{key:"initSimulationState",value:function(t){var e=this;d(u(s.prototype),"initSimulationState",this).call(this,t),this.renderer=new D,this.scenarioUtils=new mt(this,this._eventBus),this.robotComponentsFactory=new it(this.scenarioUtils,this.logger,this._eventBus),this._eventBus.registerEvent(A.CLEARCANVAS),this._eventBus.addEventListener(A.CLEARCANVAS,(function(t){e.renderer.clearCanvas(t)})),this._eventBus.registerEvent(A.INITIALIZECANVAS),this._eventBus.addEventListener(A.INITIALIZECANVAS,(function(t){e.renderer.initializeCanvas(e.robotComponentsFactory.getRobot(),t)}))}},{key:"initSimulationDisplay",value:function(t){d(u(s.prototype),"initSimulationDisplay",this).call(this);var e=$("#".concat(t));e.empty();var n=$("<div>").attr("id","db_simulator_top_pane"),i=$("<div>").attr("id","db_simulator_bottom_pane");e.append(n).append(i),this.simulationComponentsMenu.setupEnvironment(this),this.initSimulation(t);var o=this;$("#sim_stop").click((function(){setTimeout((function(){o.resetSocialRobot(),o.renderer.render(o.robotComponentsFactory.getRobot())}),500)})),this.setBackground(),this.initScenarioOptions(),this.setSensorOptions(),this.loadRobot()}},{key:"initScenarioOptions",value:function(){var t=this,e=this,n=$("<div>").attr("id","scenario_options");$("#sim_container").append(n),n.append("<div id='load_scenario' class='' alt='Load'><span class='fas fa-cloud-upload-alt'></span></div>"),n.append("<div id='save_scenario' class='fas fa-cloud-download-alt' alt='Save'></div>"),n.append("<div id='switch_background' class='fas fa-sync-alt'></div>"),$("#load_scenario").click((function(){e.removeSocialRobotComponents(),e.scenarioUtils.loadScenario()})),$("#save_scenario").click((function(){var t=e.loadToXml();e.scenarioUtils.saveScenario(t)})),document.getElementById("switch_background").addEventListener("click",(function(){t.switchBackground()}))}},{key:"initSimulation",value:function(t){var e=$("#".concat(t));$("#db_simulator_top_pane").css("height","25%"),$("#db_simulator_bottom_pane").css("height","75%");var n=$("<div>").attr("id","sim_container").attr("style","margin: auto"),i=this;new ResizeSensor(n,(function(){i.containerWidth=n.width(),i.containerHeight=n.height()})),e.append(n)}},{key:"updateScenario",value:function(t){d(u(s.prototype),"updateScenario",this).call(this,t),this.updateScenarioState(t),this.updateScenarioDisplay(t)}},{key:"updateScenarioState",value:function(t){d(u(s.prototype),"updateScenarioState",this).call(this,t),this.robotComponentsFactory.updateScenarioState(t)}},{key:"updateScenarioDisplay",value:function(t){d(u(s.prototype),"updateScenarioDisplay",this).call(this,t),this.renderer.render(this.robotComponentsFactory.getRobot()),this.renderAudio(t)}},{key:"renderAudio",value:function(t){this.audiocontext&&(0!==this.prevFreq&&this.prevFreq!==t.getTonePlaying()&&(this.osc.stop(),this.osc.disconnect(this.audiocontext.destination),this.osc=null),t.getTonePlaying()!==this.prevFreq&&(this.osc=this.audiocontext.createOscillator(),this.osc.frequency.value=t.getTonePlaying(),this.osc.start(this.audiocontext.currentTime),this.osc.connect(this.audiocontext.destination),this.prevFreq=t.getTonePlaying()))}},{key:"initAudioContext",value:function(){if(null==this.audiocontext)try{this.audiocontext=new AudioContext}catch(t){console.log("Web Audio API is not supported in this browser")}}},{key:"setSensorOptions",value:function(){if(!document.getElementById("sensor_options")){var t=$("<div>").attr("id","sensor_options");$("#sim_container").append(t)}}},{key:"setBackground",value:function(){$("#sim_container").append("<div id='sim_background' class='sim_element row'></div>"),$("#sim_background").append("<div id='sim_background_img' class='background1'></div>"),this._background=1;var t=$("#sensor_options").width(),e=($("#sim_background").width()-t-$("#sim_background_img").width())/2;$("#sim_background_img").css("top","0px"),$("#sim_background_img").css("margin-left",e+"px")}},{key:"switchBackground",value:function(){this._background<3?this._background+=1:this._background=1,document.getElementById("sim_background_img").className="",document.getElementById("sim_background_img").className="background"+this._background,this._eventBus.dispatchEvent(A.SAVE)}},{key:"backgroundToXml",value:function(){var t="";return(t=(t=(t=(t=t.concat("<Item ")).concat(" Type='","background","'")).concat(" Class='",document.getElementById("sim_background_img").className,"'")).concat(" Id='",this._background,"'")).concat("></Item>")}},{key:"resetSocialRobot",value:function(t){this.robotComponentsFactory.resetSocialRobot()}},{key:"removeSocialRobotComponents",value:function(){this.robotComponentsFactory.removeAllSocialRobotComponents()}},{key:"addRobotComponent",value:function(t){this.robotComponentsFactory.addRobotComponent(t)}},{key:"removeRobotComponent",value:function(t){this.robotComponentsFactory.removeRobotComponent(t),this.renderer.render(this.robotComponentsFactory.getRobot())}},{key:"setLedColor",value:function(t,e){var n=this.robotComponentsFactory.getRobotComponentWithTypeAndId(nt.LED,t);void 0!==n&&n.setOnColor(e)}},{key:"loadToXml",value:function(){if(window.localStorage&&window.localStorage.getItem("dwenguinoSocialRobot"))return this.robotToXml()}},{key:"robotToXml",value:function(){var t='<xml xmlns="http://www.w3.org/1999/xhtml">';t=t.concat(this.backgroundToXml());for(var e=this.robotComponentsFactory.getRobot(),n=0;n<e.length;n++)t=t.concat(e[n].toXml());return t.concat("</xml>")}},{key:"xmlToRobot",value:function(t){for(var e=this.scenarioUtils.textToDom(t),n=e.childNodes.length,i=0;i<n;i++){var o=e.childNodes[i],r=o.getAttribute("Type");"background"!==r?(this.robotComponentsFactory.addRobotComponentFromXml(o),this.simulationComponentsMenu.changeValue(r,1)):(this._background=parseInt(o.getAttribute("Id")),document.getElementById("sim_background_img").className=o.getAttribute("Class"))}}},{key:"saveRobot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t?"permanentDwenguinoSocialRobot"+e:"dwenguinoSocialRobot"+e;console.log("%c saving robot","color: green");var i=window.localStorage;if(i){var o=this.robotToXml();i.setItem(n,o)}}},{key:"loadRobot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t?"permanentDwenguinoSocialRobot"+e:"dwenguinoSocialRobot"+e;console.log("%c loading robot","color: green");var i=window.localStorage;if(i){var o=i.getItem(n);o&&this.xmlToRobot(o)}}},{key:"clearRobot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="dwenguinoSocialRobot"+t;console.log("%c clearing robot","color: green");var n=window.localStorage;n&&n.removeItem(e)}}]),s}(y);const _t=function(e){p(s,e);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function s(e){var n;return t(this,s),a(c(n=o.call(this,e)),"dwenguinoBoardSimulation",null),n.dwenguinoBoardSimulation=new b(e),n.initSimulationState(null),n}return r(s,[{key:"initSimulationState",value:function(t){d(u(s.prototype),"initSimulationState",this).call(this,t),this.robot={image:{width:65,height:83},start:{x:100,y:100,angle:0},position:{x:100,y:100,angle:0},collision:[{type:"circle",radius:25}]},this.containerWidth=0,this.containerHeight=0}},{key:"initSimulationDisplay",value:function(t){d(u(s.prototype),"initSimulationDisplay",this).call(this,t);var e=$("#".concat(t)),n=$("<div>").attr("id","db_simulator_top_pane"),i=$("<div>").attr("id","db_simulator_bottom_pane"),o=$("<div>").attr("id","db_robot_pane"),r=$("<div>").attr("id","sim_container"),a=$("<div>").attr("id","sim_animation");r.append(a),o.append(r),i.append(o),e.append(n).append(i),this.dwenguinoBoardSimulation.initSimulationState(null),this.dwenguinoBoardSimulation.initSimulationDisplay("db_simulator_top_pane"),$("#sim_board").addClass("sim_board_row_placement");var l=$("#db_robot_pane"),c=this;new ResizeSensor(r,(function(){console.log("myelement has been resized"),c.containerWidth=r.width(),c.containerHeight=r.height()}));var h=$("<div>").attr("id","sim_animation");r.append(h),l.append(r),$("#db_simulator_bottom_pane").css("display","flex").css("flex-direction","column"),$("#db_robot_pane").css("flex: 1"),$("#sim_container").css("position","relative").css("width","80%").css("height","80%").css("box-sizing","border-box"),$("#sim_animation").css("width",this.robot.image.width+"px").css("height",this.robot.image.height+"px").css("maring-left","-25px").css("maring-right","-20px").css("position","absolute").css("background-image","url('".concat(settings.basepath,"DwenguinoIDE/img/board/robot.png')")).css("background-size","100%").css("top",this.robot.position.y+"px").css("left",this.robot.position.x+"px")}},{key:"updateScenario",value:function(t){d(u(s.prototype),"updateScenario",this).call(this,t),this.updateScenarioState(t),this.updateScenarioDisplay(t),this.dwenguinoBoardSimulation.updateScenario(t)}},{key:"updateScenarioState",value:function(t){d(u(s.prototype),"updateScenarioState",this).call(this,t),this.containerWidth=$("#sim_container").width(),this.containerHeight=$("#sim_container").height();var e=t.getMotorSpeed(1),n=t.getMotorSpeed(2),i=this.robot.position.x,o=this.robot.position.y,r=this.robot.position.angle,a=(e+n)/100;e!==n&&(r+=(n-e)/30),i+=a*Math.cos(Math.PI/180*r),o+=a*Math.sin(Math.PI/180*r),i>this.containerWidth?i=0:i<0&&(i=this.containerWidth),o>this.containerHeight?o=0:o<0&&(o=this.containerHeight),this.robot.position={x:i,y:o,angle:r}}},{key:"updateScenarioDisplay",value:function(t){d(u(s.prototype),"updateScenarioDisplay",this).call(this,t),this.robot;var e=$("#sim_animation");this.containerWidth=$("#sim_container").width(),this.containerHeight=$("#sim_container").height(),e.css("top",this.robot.position.y+"px").css("left",this.robot.position.x+"px").css("transform","rotate("+this.robot.position.angle+"deg)")}},{key:"setIsSimulationRunning",value:function(t){this.isSimulationRunning=t,this.dwenguinoBoardSimulation.setIsSimulationRunning(t)}}]),s}(y);const yt=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(e){var n;return t(this,a),(n=o.call(this,e)).initSimulationState(null),n}return r(a,[{key:"initSimulationState",value:function(t){d(u(a.prototype),"initSimulationState",this).call(this,t)}},{key:"initSimulationDisplay",value:function(t){d(u(a.prototype),"initSimulationDisplay",this).call(this,t),$("#sim_board").addClass("sim_board_row_placement"),$("#sim_container").css("border","solid").css("border-width","3px").css("border-color","black").css("max-width","80%").css("max-height","80%"),this.containerWidth=$("#sim_container").width(),this.containerHeight=$("#sim_container").height()}},{key:"updateScenario",value:function(t){d(u(a.prototype),"updateScenario",this).call(this,t)}},{key:"updateScenarioState",value:function(t){var e=t.getMotorSpeed(1),n=t.getMotorSpeed(2),i=this.robot.position.x,o=this.robot.position.y,r=this.robot.position.angle,a=(e+n)/100;e!==n&&(r+=(n-e)/30%360),i+=a*Math.cos(Math.PI/180*r),o+=a*Math.sin(Math.PI/180*r),i>this.containerWidth-this.robot.image.width?i=this.containerWidth-this.robot.image.width:i<0&&(i=0),o>this.containerHeight-this.robot.image.height?o=this.containerHeight-this.robot.image.height:o<0&&(o=0);var s=o;r=(r%360+360)%360;var l=i+this.robot.image.width/2*Math.cos(Math.PI/180*r),c=s+this.robot.image.width/2*Math.sin(Math.PI/180*r),u=[[this.containerWidth,this.containerHeight],[0,this.containerHeight],[0,0],[this.containerWidth,0]],d=[0,0],h=[0,0];if(90==r)d=h=[l,this.containerHeight];else if(270==r)d=h=[l,0];else if(180==r)d=h=[0,c];else if(0==r)d=h=[this.containerWidth,c];else{Math.tan(r);var p=u[Math.floor(r/90)%4];d=[p[0],Math.tan(r*Math.PI/180)*(p[0]-l)+c],h=[(p[1]-c)/Math.tan(r*Math.PI/180)+l,p[1]]}var f=Math.min(this.calcDistanceBetweenPoints(d,[l,c]),this.calcDistanceBetweenPoints(h,[l,c]));return t.setSonarDistance(11,12,Math.abs(f-25)),this.robot.position={x:i,y:o,angle:r},t}},{key:"calcDistanceBetweenPoints",value:function(t,e){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}},{key:"updateScenarioDisplay",value:function(t){d(u(a.prototype),"updateScenarioDisplay",this).call(this,t)}},{key:"setIsSimulationRunning",value:function(t){this.isSimulationRunning=t,this.dwenguinoBoardSimulation.setIsSimulationRunning(t)}}]),a}(_t),bt=function(){function e(n,i){t(this,e),a(this,"x",0),a(this,"y",0),this.x=n,this.y=i}return r(e,[{key:"getEuclideanDistanceTo",value:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}},{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;t.beginPath(),t.arc(this.x,this.y,e,0,360),t.closePath(),t.stroke(),t.fill()}},{key:"getX",value:function(){return this.x}},{key:"setX",value:function(t){this.x=t}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(t){this.y=t}}]),e}(),wt=function(){function e(n,i){t(this,e),a(this,"point1",null),a(this,"point2",null),this.point1=n,this.point2=i}return r(e,[{key:"getSlope",value:function(){return(this.point2.getY()-this.point1.getY())/(this.point2.getX()-this.point1.getX())}},{key:"getOffset",value:function(){return this.point1.getY()-this.getSlope()*this.point1.getX()}},{key:"getPointsPerpendicular",value:function(t,e){var n=1/this.getSlope()*-1;return this.getPointAtDistanceFromPointWithSlope(t,e,n)}},{key:"getPointAtDistanceFromPointWithSlope",value:function(t,e,n){var i=Math.atan(n),o=e*Math.cos(i),r=e*Math.sin(i);return[new bt(t.getX()+o,t.getY()+r),new bt(t.getX()-o,t.getY()-r)]}},{key:"getPointsOnLineAtSetDistanceFromOtherPointOnLine",value:function(t,e){return this.getPointAtDistanceFromPointWithSlope(t,e,this.getSlope())}}]),e}(),kt=function(){function e(){t(this,e)}return r(e,[{key:"drawRobotArm",value:function(t,e,n,i,o,r){this.drawConvexHull(t,e,n,o),this.drawArmHoles(t,e,n,i,r)}},{key:"drawArmHoles",value:function(t,e,n,i,o){var r=e.getEuclideanDistanceTo(n)/i,a=new wt(e,n).getSlope(),s=Math.atan(a);e.getX()>n.getX()&&(s+=Math.PI);for(var l=e,c=0;c<i;++c){t.beginPath(),t.arc(l.getX(),l.getY(),o,0,360),t.closePath(),t.stroke();var u=r*Math.cos(s),d=r*Math.sin(s);l=new bt(l.getX()+u,l.getY()+d)}}},{key:"drawConvexHull",value:function(t,e,n,i){var o=new wt(e,n),r=o.getPointsPerpendicular(e,i/2),a=o.getPointsPerpendicular(n,i/2),s=o.getPointsOnLineAtSetDistanceFromOtherPointOnLine(e,i/2),l=o.getPointsOnLineAtSetDistanceFromOtherPointOnLine(n,i/2),c=[];c.push(r[0]),c.push(a[0]);var u=null;u=this.checkIfInnerPointOfLineBetweenPoints(e,n,l[0])?l[1]:l[0];var d=new bt(u.getX()+(a[0].getX()-n.getX()),u.getY()+(a[0].getY()-n.getY()));c.push(d),c.push(u),d=new bt(u.getX()+(a[1].getX()-n.getX()),u.getY()+(a[1].getY()-n.getY())),c.push(d),c.push(a[1]),c.push(r[1]),u=this.checkIfInnerPointOfLineBetweenPoints(e,n,s[0])?s[1]:s[0],d=new bt(u.getX()+(r[1].getX()-e.getX()),u.getY()+(r[1].getY()-e.getY())),c.push(d),c.push(u),d=new bt(u.getX()+(r[0].getX()-e.getX()),u.getY()+(r[0].getY()-e.getY())),c.push(d),t.beginPath(),t.moveTo(c[0].getX(),c[0].getY()),t.lineTo(c[1].getX(),c[1].getY()),t.quadraticCurveTo(c[2].getX(),c[2].getY(),c[3].getX(),c[3].getY()),t.quadraticCurveTo(c[4].getX(),c[4].getY(),c[5].getX(),c[5].getY()),t.lineTo(c[6].getX(),c[6].getY()),t.quadraticCurveTo(c[7].getX(),c[7].getY(),c[8].getX(),c[8].getY()),t.quadraticCurveTo(c[9].getX(),c[9].getY(),c[0].getX(),c[0].getY()),t.closePath(),t.stroke()}},{key:"drawBasePlate",value:function(t,e,n){this.drawConvexHull(t,e,n,80),t.fillStyle="#8bab42",t.font="40px Courier New",t.textAlign="center",t.textBaseline="middle",t.fillText("dwengo",e.getX()+(n.getX()-e.getX())/2,e.getY())}},{key:"checkIfInnerPointOfLineBetweenPoints",value:function(t,e,n){return n.getEuclideanDistanceTo(t)+n.getEuclideanDistanceTo(e)<=t.getEuclideanDistanceTo(e)+.1}}]),e}();const xt=function(e){p(s,e);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function s(e){var n;return t(this,s),a(c(n=o.call(this,e)),"startScale",400),a(c(n),"currentScale",400),a(c(n),"currentColor","#4a9234"),a(c(n),"representationScale",{motorAxes:[[30,30],[280,30]],motorAngles:[0,0],segmentLengths:[30,20,150,170,120,150,160,150,50],segmentCount:[3,2,15,17,12,15,14,16,5],segmentRanges:[[2,3],[2,3],[10,20],[10,20],[5,15],[5,15],[5,15],[5,15],[0,2]],segmentIncrement:10,armWidth:10,holeDiameter:2.5,hinges:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]]}),a(c(n),"drawingScale",{motorAxes:[[0,0],[0,0]],segmentLengths:[0,0,0,0,0,0,0,0,0],hinges:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],armWidth:0,holeDiameter:10}),a(c(n),"canvases",[]),a(c(n),"contexts",[]),a(c(n),"canvasNames",{SPYROGRAPH_CANVAS:0,SPYROGRAPH_DRAWING_CANVAS:1}),a(c(n),"container",null),a(c(n),"imageData",null),a(c(n),"graphicsLib",null),a(c(n),"dwenguinoBoardSimulation",null),a(c(n),"scaleFactorForDisplay",.8),n.initSimulationState(null),n.graphicsLib=new kt,n.dwenguinoBoardSimulation=new b(e),n.dwenguinoBoardSimulation.setBoardDisplayWidthWidth("100%"),n}return r(s,[{key:"initSimulationState",value:function(t){d(u(s.prototype),"initSimulationState",this).call(this,t),this.representationScale.motorAngles=[0,0]}},{key:"initSimulationDisplay",value:function(t){var e=this;d(u(s.prototype),"initSimulationDisplay",this).call(this,t),this.canvases=[],this.contexts=[],this.initDrawingEnvironment(t),this.loadPreviousImageIfExists(),this.createControlsMenu(),this.convertToDisplayAndRender(!1),this.container=$("#".concat(t));var n="boardContainer",i=$("<div>").attr("id",n).css({position:"absolute",width:"40%",right:"10px",top:"10px"});this.container.append(i),this.dwenguinoBoardSimulation.setBoardDisplayWidthWidth("100%"),this.dwenguinoBoardSimulation.setComponentsTopOffset("55%"),this.dwenguinoBoardSimulation.setComponentsRightPosition("55px"),this.dwenguinoBoardSimulation.initSimulationState(null),this.dwenguinoBoardSimulation.initSimulationDisplay(n),$("#sim_board").addClass("sim_board_column_placement"),new ResizeObserver((function(){for(var t=0;t<e.canvases.length;++t)e.canvases[t].width=e.container.width(),e.canvases[t].height=e.container.height();e.loadPreviousImageIfExists(),e.convertToDisplayAndRender(!0)})).observe(document.querySelector("#".concat(t)))}},{key:"initDrawingEnvironment",value:function(t){this.container=$("#".concat(t)),this.container.css({position:"relative"});for(var e=0,n=["spyrograph_canvas","spyrograph_drawing_canvas"];e<n.length;e++){var i=n[e];this.setupCanvas(i,this.container)}}},{key:"loadPreviousImageIfExists",value:function(){null!=this.imageData&&this.contexts[this.canvasNames.SPYROGRAPH_DRAWING_CANVAS].putImageData(this.imageData,0,0)}},{key:"setupCanvas",value:function(t,e){var n=$("<canvas>").attr("id",t).css({position:"absolute",left:"10px",top:0})[0],i=n.getContext("2d");n.width=e.width(),n.height=e.height(),this.canvases.push(n),this.contexts.push(i),this.container.append(n)}},{key:"createControlsMenu",value:function(){var t=this,e=$("<span>").css({position:"absolute",right:0,bottom:0,width:"15%","text-align":"center","margin-right":"20px","margin-bottom":"20px"}),n=$("<input>").attr("type","color").attr("value",this.currentColor),i=this;n.on("change",(function(t){console.log($(this).val()),i.currentColor=$(this).val()})),e.append(n);var o=$("<button>").attr("value","Clear").html(DwenguinoBlocklyLanguageSettings.translate(["clear"])).css({width:"90%","margin-top":"5px"});o.on("click",(function(e){t.contexts[t.canvasNames.SPYROGRAPH_DRAWING_CANVAS].clearRect(0,0,t.canvases[t.canvasNames.SPYROGRAPH_DRAWING_CANVAS].width,t.canvases[t.canvasNames.SPYROGRAPH_DRAWING_CANVAS].height),t.imageData=null})),e.append(o);var r=$("<button>").attr("value","Save").html(DwenguinoBlocklyLanguageSettings.translate(["save"])).css({width:"90%","margin-top":"5px"});r.on("click",(function(e){var n=t.canvases[t.canvasNames.SPYROGRAPH_DRAWING_CANVAS].toDataURL("image/png"),i=document.createElement("a");i.download="tekening.png",i.href=n,i.click()})),e.append(r),this.container.append(e)}},{key:"createSlidersForSegments",value:function(t){for(var e=this,n=function(n){var i=$("<span>"),o=$("<span>").html("l"+n),r=$("<input>").attr("type","range").attr("min",e.representationScale.segmentRanges[n][0]).attr("max",e.representationScale.segmentRanges[n][1]).attr("value",e.representationScale.segmentCount[n]);r.css({"border-radius":"5px"});var a=e;r.on("change",(function(t){var e=parseInt($(this).val());console.log(e),a.representationScale.segmentCount[n]=e,a.representationScale.segmentLengths[n]=a.representationScale.segmentIncrement*e,a.calculateHingePoints(),a.convertToDisplayAndRender(!1)})),i.append(o),i.append(r),t.append(i)},i=0;i<this.representationScale.segmentLengths.length-1;++i)n(i)}},{key:"updateScenario",value:function(t){d(u(s.prototype),"updateScenario",this).call(this,t),this.updateScenarioState(t),this.updateScenarioDisplay(t),this.dwenguinoBoardSimulation.updateScenario(t)}},{key:"updateScenarioState",value:function(t){d(u(s.prototype),"updateScenarioState",this).call(this,t),this.timestep++;for(var e=0;e<2;e++)this.representationScale.motorAngles[e]+=t.getMotorSpeed(e+1)/3825;this.calculateHingePoints()}},{key:"calculateHingePoints",value:function(){for(var t=0;t<2;t++)this.representationScale.hinges[t]=[this.representationScale.motorAxes[t][0]+this.representationScale.segmentLengths[t]*Math.cos(this.representationScale.motorAngles[t]),this.representationScale.motorAxes[t][1]+this.representationScale.segmentLengths[t]*Math.sin(this.representationScale.motorAngles[t])];this.calulateFirstHingePoint(),this.calculateCentralHingePoints(),this.calculateFinalHingePoint()}},{key:"calulateFirstHingePoint",value:function(){var t=this.representationScale.segmentLengths[2],e=this.representationScale.segmentLengths[3],n=this.representationScale.hinges[0][0],i=this.representationScale.hinges[0][1],o=this.representationScale.hinges[1][0],r=this.representationScale.hinges[1][1],a=this.calculateHingePoint(n,i,o,r,t,e);this.representationScale.hinges[2][0]=a[0],this.representationScale.hinges[2][1]=a[1]}},{key:"calculateCentralHingePoints",value:function(){var t=this.representationScale.segmentLengths[3],e=this.representationScale.segmentLengths[4],n=this.representationScale.hinges[1][0],i=this.representationScale.hinges[1][1],o=this.representationScale.hinges[2][0],r=this.representationScale.hinges[2][1];this.representationScale.hinges[3][0]=n+(t+e)*(o-n)/t,this.representationScale.hinges[3][1]=i+(t+e)*(r-i)/t,t=this.representationScale.segmentLengths[2],e=this.representationScale.segmentLengths[5],n=this.representationScale.hinges[0][0],i=this.representationScale.hinges[0][1],o=this.representationScale.hinges[2][0],r=this.representationScale.hinges[2][1],this.representationScale.hinges[4][0]=n+(t+e)*(o-n)/t,this.representationScale.hinges[4][1]=i+(t+e)*(r-i)/t}},{key:"calculateFinalHingePoint",value:function(){var t=this.representationScale.hinges[3][0],e=this.representationScale.hinges[3][1],n=this.representationScale.hinges[4][0],i=this.representationScale.hinges[4][1],o=this.representationScale.segmentLengths[6],r=this.representationScale.segmentLengths[7],a=this.calculateHingePoint(t,e,n,i,o,r);this.representationScale.hinges[5][0]=a[0],this.representationScale.hinges[5][1]=a[1]}},{key:"calculateHingePoint",value:function(t,e,n,i,o,r){var a=r*r-o*o-n*n+t*t-i*i+e*e,s=2*(t-n),l=4*(i-e)*(i-e)/(s*s)+1,c=4*(i-e)*(i-e)+s*s,u=s*s,d=4*a*(i-e)/(s*s)-4*t*(i-e)/s-2*e,h=a*a/(s*s)-2*t*a/s+t*t+e*e-o*o,p=(-1*d+Math.sqrt(d*d-4*l*h))*u/(2*c),f=(-1*d-Math.sqrt(d*d-4*l*h))*u/(2*c);return p>f?[(2*p*(i-e)+a)/s,p]:[(2*f*(i-e)+a)/s,f]}},{key:"updateScenarioDisplay",value:function(t){d(u(s.prototype),"updateScenarioDisplay",this).call(this,t),this.convertToDisplayAndRender(!0)}},{key:"convertToDisplayAndRender",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scaleRepresentationToDrawing(this.canvases[this.canvasNames.SPYROGRAPH_CANVAS].width),this.mirrorDisplayVertically(this.canvases[this.canvasNames.SPYROGRAPH_CANVAS].height),window.requestAnimationFrame((function(){t.render(e)}))}},{key:"mirrorDisplayVertically",value:function(t){for(var e=0;e<this.drawingScale.motorAxes.length;++e)this.drawingScale.motorAxes[e][1]=-1*this.drawingScale.motorAxes[e][1]+t;for(var n=0;n<this.drawingScale.hinges.length;++n)this.drawingScale.hinges[n][1]=-1*this.drawingScale.hinges[n][1]+t}},{key:"scaleRepresentationToDrawing",value:function(t){this.scaleSegementLengths(t),this.scaleHingePoints(t),this.scaleArmProperties(t)}},{key:"scaleArmProperties",value:function(t){this.drawingScale.armWidth=this.representationScale.armWidth/this.startScale*t,this.drawingScale.holeDiameter=this.representationScale.holeDiameter/this.startScale*t}},{key:"scaleHingePoints",value:function(t){for(var e=t*this.scaleFactorForDisplay,n=0;n<this.representationScale.motorAxes.length;++n)for(var i=0;i<this.representationScale.motorAxes[n].length;++i)this.drawingScale.motorAxes[n][i]=this.representationScale.motorAxes[n][i]/this.startScale*e;for(var o=0;o<this.representationScale.hinges.length;++o)for(var r=0;r<this.representationScale.hinges[o].length;++r)this.drawingScale.hinges[o][r]=this.representationScale.hinges[o][r]/this.startScale*e}},{key:"scaleSegementLengths",value:function(t){for(var e=t*this.scaleFactorForDisplay,n=0;n<this.representationScale.motorAxes.length;n++)for(var i=0;i<this.representationScale.motorAxes[n].length;i++)this.drawingScale.motorAxes[n][i]=this.representationScale.motorAxes[n][i]/this.startScale*e;for(var o=0;o<this.representationScale.segmentLengths.length;o++)this.drawingScale.segmentLengths[o]=this.representationScale.segmentLengths[o]/this.startScale*e;this.currentScale=e}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TextTrackCueList,e=this.canvases[this.canvasNames.SPYROGRAPH_CANVAS].width,n=this.canvases[this.canvasNames.SPYROGRAPH_CANVAS].height;this.contexts[this.canvasNames.SPYROGRAPH_CANVAS].clearRect(0,0,e,n),this.contexts[this.canvasNames.SPYROGRAPH_CANVAS].fillStyle="#000000",this.graphicsLib.drawBasePlate(this.contexts[this.canvasNames.SPYROGRAPH_CANVAS],new bt(this.drawingScale.motorAxes[0][0],this.drawingScale.motorAxes[0][1]),new bt(this.drawingScale.motorAxes[1][0],this.drawingScale.motorAxes[1][1])),this.contexts[this.canvasNames.SPYROGRAPH_CANVAS].fillStyle="#FF0000";for(var i=this.drawingScale.hinges.concat(this.drawingScale.motorAxes),o=0;o<i.length;o++)this.contexts[this.canvasNames.SPYROGRAPH_CANVAS].beginPath(),this.contexts[this.canvasNames.SPYROGRAPH_CANVAS].arc(i[o][0],i[o][1],3,0,360),this.contexts[this.canvasNames.SPYROGRAPH_CANVAS].closePath(),this.contexts[this.canvasNames.SPYROGRAPH_CANVAS].fill();this.graphicsLib.drawRobotArm(this.contexts[this.canvasNames.SPYROGRAPH_CANVAS],new bt(this.drawingScale.motorAxes[0][0],this.drawingScale.motorAxes[0][1]),new bt(this.drawingScale.hinges[0][0],this.drawingScale.hinges[0][1]),this.representationScale.segmentCount[0],this.drawingScale.armWidth,this.drawingScale.holeDiameter),this.graphicsLib.drawRobotArm(this.contexts[this.canvasNames.SPYROGRAPH_CANVAS],new bt(this.drawingScale.motorAxes[1][0],this.drawingScale.motorAxes[1][1]),new bt(this.drawingScale.hinges[1][0],this.drawingScale.hinges[1][1]),this.representationScale.segmentCount[1],this.drawingScale.armWidth,this.drawingScale.holeDiameter),this.graphicsLib.drawRobotArm(this.contexts[this.canvasNames.SPYROGRAPH_CANVAS],new bt(this.drawingScale.hinges[0][0],this.drawingScale.hinges[0][1]),new bt(this.drawingScale.hinges[4][0],this.drawingScale.hinges[4][1]),this.representationScale.segmentCount[2]+this.representationScale.segmentCount[5],this.drawingScale.armWidth,this.drawingScale.holeDiameter),this.graphicsLib.drawRobotArm(this.contexts[this.canvasNames.SPYROGRAPH_CANVAS],new bt(this.drawingScale.hinges[1][0],this.drawingScale.hinges[1][1]),new bt(this.drawingScale.hinges[3][0],this.drawingScale.hinges[3][1]),this.representationScale.segmentCount[3]+this.representationScale.segmentCount[4],this.drawingScale.armWidth,this.drawingScale.holeDiameter),this.graphicsLib.drawRobotArm(this.contexts[this.canvasNames.SPYROGRAPH_CANVAS],new bt(this.drawingScale.hinges[3][0],this.drawingScale.hinges[3][1]),new bt(this.drawingScale.hinges[5][0],this.drawingScale.hinges[5][1]),this.representationScale.segmentCount[6],this.drawingScale.armWidth,this.drawingScale.holeDiameter),this.graphicsLib.drawRobotArm(this.contexts[this.canvasNames.SPYROGRAPH_CANVAS],new bt(this.drawingScale.hinges[4][0],this.drawingScale.hinges[4][1]),new bt(this.drawingScale.hinges[5][0],this.drawingScale.hinges[5][1]),this.representationScale.segmentCount[7],this.drawingScale.armWidth,this.drawingScale.holeDiameter),t&&(this.contexts[this.canvasNames.SPYROGRAPH_DRAWING_CANVAS].fillStyle=this.currentColor,this.contexts[this.canvasNames.SPYROGRAPH_DRAWING_CANVAS].beginPath(),this.contexts[this.canvasNames.SPYROGRAPH_DRAWING_CANVAS].arc(this.drawingScale.hinges[5][0],this.drawingScale.hinges[5][1],1,0,360),this.contexts[this.canvasNames.SPYROGRAPH_DRAWING_CANVAS].closePath(),this.contexts[this.canvasNames.SPYROGRAPH_DRAWING_CANVAS].fill());try{this.imageData=this.contexts[this.canvasNames.SPYROGRAPH_DRAWING_CANVAS].getImageData(0,0,this.container.width(),this.container.height())}catch(t){}}},{key:"setIsSimulationRunning",value:function(t){this.isSimulationRunning=t,this.dwenguinoBoardSimulation.setIsSimulationRunning(t)}}]),s}(y);const St=function(e){p(s,e);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function s(e){var n;return t(this,s),a(c(n=o.call(this,e)),"stepperMotorPins",[33,34]),a(c(n),"penPositionPins",[36,37]),a(c(n),"colorPin",35),a(c(n),"dwenguinoBoardSimulation",null),a(c(n),"previousProgramColor","#000"),a(c(n),"motor",{image:{radius:C},position:{xL:20,xR:20+T,y:20},settings:{nrOfSteps:E,currentSteps:[0,0]}}),a(c(n),"wireLengths",[300,200]),a(c(n),"startWireLengths",n.wireLengths),a(c(n),"stylus",{image:{radius:5},position:{x:80,y:80},prevPosition:{x:0,y:0},drawing:{radius:2,drawingColor:"#000",selectedColor:"#000",boardColor:"#000",liftStylus:!1}}),a(c(n),"paper",{height:(n.motor.position.xR-n.motor.position.xL)/Math.sqrt(2),width:n.motor.position.xR-n.motor.position.xL,position:{x:n.motor.position.xL,y:40}}),a(c(n),"containerWidth",0),a(c(n),"containerHeight",0),n.dwenguinoBoardSimulation=new b(e),n}return r(s,[{key:"initSimulationState",value:function(t){d(u(s.prototype),"initSimulationState",this).call(this,t),this.caclulateStylusPoint(),t&&(t.setIoPinState(this.stepperMotorPins[0],this.wireLengths[0]/(2*Math.PI*C/E)),t.setIoPinState(this.stepperMotorPins[1],this.wireLengths[1]/(2*Math.PI*C/E)),t.setIoPinState(this.penPositionPins[0],this.stylus.position.x-this.motor.position.xL),t.setIoPinState(this.penPositionPins[1],this.stylus.position.y-this.motor.position.y))}},{key:"initSimulationDisplay",value:function(t){d(u(s.prototype),"initSimulationDisplay",this).call(this,t),this.initSimulationState(null);var e=$("#".concat(t)),n=$("<div>").attr("id","db_simulator_top_pane"),i=$("<div>").attr("id","db_simulator_bottom_pane");e.append(n).append(i),this.dwenguinoBoardSimulation.initSimulationState(null),this.dwenguinoBoardSimulation.initSimulationDisplay("db_simulator_top_pane"),$("#sim_board").addClass("sim_board_row_placement"),i.append($("<canvas>").attr("id","sim_canvas").attr("class","canvas")),i.append($("<canvas>").attr("id","sim_canvas_drawing").attr("class","canvas")),i.append($("<canvas>").attr("id","sim_canvas_grid").attr("class","canvas")),i.append($("<div>").attr("id","sim_grid"));var o=$("<ul>").attr("id","sim_settings"),r=$("<li>").attr("class","sim_setting");$("<input />",{type:"checkbox",id:"cb_grid",value:"grid"}).prop("checked",!0).appendTo(r),$("<label />",{for:"cb_grid",id:"txt_grid",text:MSG.drawingrobotgrid}).appendTo(r),o.append(r),r=$("<li>").attr("class","sim_setting"),$("#colorpicker");var a=$("<input />",{type:"color",id:"colorpicker",name:"colorpicker",value:this.stylus.drawing.drawingColor});a.appendTo(r),$("<label />",{for:"colorpicker",id:"txt_colorpicker",text:MSG.colorpicker}).appendTo(r),o.append(r),r=$("<li>").attr("class","sim_setting"),$("<button />",{type:"button",id:"btn_saveImage",text:MSG.drawingrobotSaveImage}).appendTo(r),o.append(r),i.append(o);var l=this;a.on("change",(function(t){console.log($(this).val()),l.updateColor($(this).val())}));var c=$("#sim_canvas")[0],h=$("#sim_canvas_drawing")[0],p=$("#sim_canvas_grid")[0];$(".canvas").css("position","absolute").css("top","O").css("left","O"),$("#sim_settings").css("position","absolute").css("right","20px").css("top","0px").css("list-style","none"),$("#sim_grid").css("position","absolute").css("left",this.paper.position.x).css("top",this.paper.position.y).css("width",this.paper.width).css("height",this.paper.height),$(".sim_setting").css("vertical-align","middle"),this.containerWidth=i.width(),this.containerHeight=i.height(),c.width=this.containerWidth,c.height=this.containerHeight,h.width=this.containerWidth,h.height=this.containerHeight,p.width=this.containerWidth,p.height=this.containerHeight,this.drawGrid(),$("#cb_grid").click((function(){$("#svg_grid").toggle(this.checked),$("#sim_canvas_grid").toggle(this.checked)})),$("#btn_saveImage").click((function(){var t="image/png",e=$("#sim_canvas_drawing")[0].toDataURL(t),n=document.createElement("a");n.download=MSG.drawingrobotDrawing,n.href=e,n.dataset.downloadurl=[t,n.download,n.href].join(":"),document.body.appendChild(n),n.click(),document.body.removeChild(n)})),this.redraw()}},{key:"updateScenario",value:function(t){d(u(s.prototype),"updateScenarioState",this).call(this,t),this.updateScenarioState(t),this.updateScenarioDisplay(t)}},{key:"updateScenarioState",value:function(t){d(u(s.prototype),"updateScenarioState",this).call(this,t),this.updateServoAngle(t.getIoPinState(38)),this.previousProgramColor!=t.getIoPinState(this.colorPin)&&this.updateColor(t.getIoPinState(this.colorPin));var e=t.getIoPinState(this.stepperMotorPins[0]),n=t.getIoPinState(this.stepperMotorPins[1]);this.updateLengths([e,n]),this.caclulateStylusPoint(),t.setIoPinState(this.penPositionPins[0],this.stylus.position.x-this.motor.position.xL),t.setIoPinState(this.penPositionPins[1],this.stylus.position.y-this.motor.position.y)}},{key:"updateLengths",value:function(t){var e=this,n=t.map((function(t,n){var i=t*(2*Math.PI*e.motor.image.radius/e.motor.settings.nrOfSteps);return i>=0?i:0}));this.wireLengths=n}},{key:"calculateWireLengths",value:function(t){}},{key:"caclulateStylusPoint",value:function(){var t=this.wireLengths[0],e=this.wireLengths[1],n=this.motor.position.xR-this.motor.position.xL,i=(Math.pow(t,2)-Math.pow(e,2)+Math.pow(n,2))/(2*n);t+e>=n&&(this.stylus.position.x=this.motor.position.xL+i,this.stylus.position.y=this.motor.position.y+Math.sqrt(Math.pow(t,2)-Math.pow(i,2)))}},{key:"updateScenarioDisplay",value:function(t){d(u(s.prototype),"updateScenarioDisplay",this).call(this,t),this.redraw()}},{key:"redraw",value:function(){var t=$("#sim_canvas")[0],e=t.getContext("2d"),n=$("#sim_canvas_drawing")[0].getContext("2d");e.clearRect(0,0,t.width,t.height),e.beginPath(),e.strokeStyle="#848484",e.moveTo(this.motor.position.xL,this.motor.position.y),e.lineTo(this.stylus.position.x,this.stylus.position.y),e.moveTo(this.motor.position.xR,this.motor.position.y),e.lineTo(this.stylus.position.x,this.stylus.position.y),e.stroke(),e.beginPath(),e.globalAlpha=.5,e.fillStyle=this.stylus.drawing.drawingColor,e.arc(this.stylus.position.x,this.stylus.position.y,this.stylus.image.radius,0,2*Math.PI),e.fill(),e.beginPath(),e.fillStyle="#848484",e.arc(this.motor.position.xL,this.motor.position.y,this.motor.image.radius,0,2*Math.PI),e.fill(),e.beginPath(),e.fillStyle="#848484",e.arc(this.motor.position.xR,this.motor.position.y,this.motor.image.radius,0,2*Math.PI),e.fill(),this.stylus.drawing.liftStylus||(n.beginPath(),n.fillStyle=this.stylus.drawing.drawingColor,n.arc(this.stylus.position.x,this.stylus.position.y,this.stylus.drawing.radius,0,2*Math.PI),n.fill())}},{key:"drawGrid",value:function(){var t=this.paper.position.x,e=this.paper.position.y,n=$("#sim_canvas_grid")[0].getContext("2d");n.font="10px Arial",n.fillText("0",t,e),n.fillText("100",t+100,e),n.fillText("200",t+200,e),n.fillText("300",t+300,e),n.fillText("300",t-15,e+100),n.fillText("200",t-15,e+200),n.fillText("100",t-15,e+300),$("#sim_grid").append('        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" id="svg_grid">          <defs>            <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">            <path d="M 10 0 L 0 0 0 10" fill="none" stroke="gray" stroke-width="0.5"/>            </pattern>            <pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse">              <rect width="100" height="100" fill="url(#smallGrid)"/>              <path d="M 100 0 L 0 0 0 100" fill="none" stroke="gray" stroke-width="1"/>            </pattern>          </defs>          <rect width="100%" height="100%" fill="url(#grid)" />        </svg>')}},{key:"updateServoAngle",value:function(t){90===t&&(this.stylus.drawing.liftStylus=!0),0===t&&(this.stylus.drawing.liftStylus=!1)}},{key:"checkServoAngle",value:function(t,e){return!(90===t&&e.stylus.drawing.liftStylus||0===t&&!e.stylus.drawing.liftStylus)}},{key:"updateColor",value:function(t){0!=t&&(this.stylus.drawing.drawingColor=t)}},{key:"setIsSimulationRunning",value:function(t){this.isSimulationRunning=t,this.dwenguinoBoardSimulation.setIsSimulationRunning(t)}}]),s}(y),Ct=function(){function e(n,i){t(this,e),a(this,"logger",null),a(this,"workspace",null),a(this,"scenarios",null),this.scenarios={spyrograph:new xt(n),moving:new _t(n),wall:new yt(n),socialrobot:new vt(n),plotter:new St(n),conveyor:new S(n)},this.logger=n,this.workspace=i,this.simControlsController=new lt(this.logger,this.workspace,this.scenarios)}return r(e,[{key:"open",value:function(){}},{key:"stop",value:function(){this.simControlsController.handleSimulationStop()}}]),e}();var Tt=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"buzzer"}}],[{key:"getType",value:function(){return U.BUZZER}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["buzzerDescription"])}},{key:"getInputPins",value:function(){return[]}},{key:"getOutputPins",value:function(){return["frequency"]}}]),a}(Y);var Et=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"lcd"}}],[{key:"getType",value:function(){return U.LCD}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["lcdDescription"])}},{key:"getInputPins",value:function(){return[]}},{key:"getOutputPins",value:function(){return[]}}]),a}(Y);var Pt=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"led"}}],[{key:"getType",value:function(){return U.LED}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["ledDescription"])}},{key:"getInputPins",value:function(){return[]}},{key:"getOutputPins",value:function(){return[]}}]),a}(Y);var It=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"light sensor"}}],[{key:"getType",value:function(){return U.LIGHT}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["lightDescription"])}},{key:"getInputPins",value:function(){return[]}},{key:"getOutputPins",value:function(){return[]}}]),a}(Y);var Dt=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"PIR sensor"}}],[{key:"getType",value:function(){return U.PIR}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["pirDescription"])}},{key:"getInputPins",value:function(){return[]}},{key:"getOutputPins",value:function(){return[]}}]),a}(Y);var Ot=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"Servo"}}],[{key:"getType",value:function(){return U.SERVO}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["servoDescription"])}},{key:"getInputPins",value:function(){return[]}},{key:"getOutputPins",value:function(){return["angle"]}}]),a}(Y);var Mt=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"Sonar"}}],[{key:"getType",value:function(){return U.SONAR}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["sonarDescription"])}},{key:"getInputPins",value:function(){return["trigger"]}},{key:"getOutputPins",value:function(){return["echo"]}}]),a}(Y);var At=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"touch sensor"}}],[{key:"getType",value:function(){return U.TOUCH}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["touchDescription"])}},{key:"getInputPins",value:function(){return[]}},{key:"getOutputPins",value:function(){return[]}}]),a}(Y);var Bt=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"rgbled"}}],[{key:"getType",value:function(){return U.RGBLED}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["rgbledDescription"])}},{key:"getInputPins",value:function(){return[]}},{key:"getOutputPins",value:function(){return[]}}]),a}(Y);var Rt=function(e){p(a,e);var n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(i){var o=u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return g(this,t)});function a(){return t(this,a),o.call(this)}return r(a,[{key:"toString",value:function(){return"DC Motor"}}],[{key:"getType",value:function(){return U.DCMOTOR}},{key:"getDescription",value:function(){return DwenguinoBlocklyLanguageSettings.translateFrom("simulator",["DCMotorDescription"])}},{key:"getInputPins",value:function(){return[]}},{key:"getOutputPins",value:function(){return["speed"]}}]),a}(Y),Lt={dwenguino:"db_menu_item_dwengo_robot_teacher_image",workspaceArea:"blocklyDiv",toolboxArea:"db_blocklyToolboxDiv",toolbox:"blocklyToolboxDiv",languageMenu:"db_menu_item_language",difficultyMenu:"db_menu_item_difficulty",dwengoBooksMenu:"db_tutorials",playButton:"db_menu_item_run",uploadButton:"db_menu_item_upload",openButton:"db_menu_item_upload",saveButton:"db_menu_item_download",simulatorButton:"db_menu_item_simulator",codeArea:"db_code_pane",simulatorArea:"db_simulator_pane",simulatorStartButton:"sim_start",simulatorStopButton:"sim_stop",simulatorScenarioTag:"sim_scenarioTag",simulatorBottomPane:"db_simulator_bottom_pane",simulatorScenarioSocialRobot:"sim_scenario",robotComponentsMenuLedPlusButton:"rc_led_plus_button",robotComponentsMenuLedMinusButton:"rc_led_minus_button",robotcomponentsMenuLedOptions:"rc_led_options",robotComponentsMenuLcdPlusbutton:"rc_lcd_plus_button",robotComponensMenu:"robot_components_menu"},$t={introduction:{category:"dwenguino",targets:[Lt.dwenguino,Lt.workspaceArea,"db_blocklyToolboxDiv","db_menu_item_language","db_menu_item_difficulty","books_dropdown","db_menu_item_run","db_menu_item_upload","db_menu_item_download","db_menu_item_simulator"],placements:["left","right","right","left","left","left","left","left","left","left"],nrOfSteps:10,xOffsets:[0,"center",0,0,0,0,0,0,0,0],yOffsets:[0,"center",0,0,0,0,0,0,0,0],steps:[],id:"tutsIntroduction",label:MSG.tutsIntroduction,initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.introduction.stepTitles[t],content:MSG.tutorials.introduction.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="yMwUfZQ@p0kW8udJ1vEa" x="-88" y="-382"></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()}},avoidWall:{category:"ridingrobot",id:"tutsAvoidWall",label:MSG.tutsAvoidWall,targets:[Lt.simulatorButton,Lt.simulatorScenarioTab,Lt.simulatorScenarioSelection,Lt.simulatorStartButton],placements:["left","left","left","left"],nrOfSteps:4,xOffsets:[0,0,0,0],yOffsets:[0,-20,-20,0],steps:[],initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.avoidWall.stepTitles[t],content:MSG.tutorials.avoidWall.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="yMwUfZQ@p0kW8udJ1vEa" x="-152" y="43"><statement name="LOOP"><block type="controls_if" id="@5_v({:-p!8Gi,2CfS*2"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="pO3`z[KM7dM91a$uJnV="><field name="OP">GTE</field><value name="A"><block type="char_type" id="r)z[m@Nos2|cpm^(MovD"><field name="BITMASK">30</field></block></value><value name="B"><block type="sonar_sensor" id="%Ha2KSwLpWq]5!^?mUn?"><value name="trig"><block type="char_type" id="t3zJd~XLa:~hNsD11;$("><field name="BITMASK">11</field></block></value><value name="echo"><block type="char_type" id="Ohz-(RX2RI34`HQmDv,s"><field name="BITMASK">12</field></block></value></block></value></block></value><statement name="DO0"><block type="dc_motor" id="7S)A(0|1NJY$trtQzX,3"><value name="channel"><block type="math_number" id="32"><field name="NUM">1</field></block></value><value name="speed"><block type="math_number" id="37"><field name="NUM">100</field></block></value><next><block type="dc_motor" id="mvt87=#!=N4y.]LDT2Tm"><value name="channel"><block type="math_number" id="H0_b%l*{mJ45Li+J+87l"><field name="NUM">2</field></block></value><value name="speed"><block type="math_number" id="Zt+djA7XMOi9Zp/%]??C"><field name="NUM">-100</field></block></value></block></next></block></statement><statement name="ELSE"><block type="dc_motor" id="{|*6o9^%o+R~*cTn_CfU"><value name="channel"><block type="math_number" id="P#QoZo*y11wAim[,gWvA"><field name="NUM">1</field></block></value><value name="speed"><block type="math_number" id="nB/xoT!1$Slx0jAKrT;n"><field name="NUM">255</field></block></value><next><block type="dc_motor" id="IENQp`U=)/.K^:61n`3K"><value name="channel"><block type="math_number" id="K[n0u(V:ugdW?t1.p!le"><field name="NUM">2</field></block></value><value name="speed"><block type="math_number" id="YDYgsSjexNArI#`f:@#V"><field name="NUM">255</field></block></value></block></next></block></statement><next><block type="dwenguino_delay" id="Ve-hN}})E6#/rWFaP`be"><value name="DELAY_TIME"><block type="char_type" id="W^^#Oxga@%ncB=Vi:coG"><field name="BITMASK">50</field></block></value></block></next></block></statement></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()}},driveForward:{category:"ridingrobot",targets:[Lt.simulatorButton,Lt.simulatorScenarioTab,Lt.simulatorStartButton,Lt.dwenguino],placements:["left","left","left"],nrOfSteps:3,xOffsets:[0,0,0],yOffsets:[0,-20,0],steps:[],id:"tutsDriveForward",label:MSG.tutsDriveForward,initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.driveForward.stepTitles[t],content:MSG.tutorials.driveForward.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="yMwUfZQ@p0kW8udJ1vEa" x="-88" y="-382"><statement name="LOOP"><block type="dc_motor" id="}m$#-.GS5+AKD-gI}OY,"><value name="channel"><block type="math_number" id="32"><field name="NUM">1</field></block></value><value name="speed"><block type="math_number" id="37"><field name="NUM">100</field></block></value><next><block type="dc_motor" id="cgSFVxrXN$Sgeiy15T;?"><value name="channel"><block type="math_number" id="oA@j2Jdo#=lH`r:+![%K"><field name="NUM">2</field></block></value><value name="speed"><block type="math_number" id="a[y,hG3rY^+Pk+cjv=8m"><field name="NUM">-100</field></block></value><next><block type="dwenguino_delay" id="to!Bxm`]gQzEi;K`Bx%s"><value name="DELAY_TIME"><block type="char_type" id="FsFIj~`KNGMlcHhp^^gj"><field name="BITMASK">100</field></block></value></block></next></block></next></block></statement></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()}},rideInSquare:{category:"ridingrobot",id:"tutsRideInSquare",label:MSG.tutsRideInSquare,targets:[Lt.simulatorButton,Lt.simulatorScenarioTab,Lt.simulatorStartButton,Lt.simulatorStartButton],placements:["left","left","left","left"],nrOfSteps:4,xOffsets:[0,0,0,0],yOffsets:[0,-20,0,0],steps:[],initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.rideInSquare.stepTitles[t],content:MSG.tutorials.rideInSquare.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="yMwUfZQ@p0kW8udJ1vEa" x="-187" y="-164"><statement name="LOOP"><block type="dc_motor" id="2~!yv!MW{1Hr7=a=q^aT"><value name="channel"><block type="math_number" id="32"><field name="NUM">1</field></block></value><value name="speed"><block type="math_number" id="37"><field name="NUM">100</field></block></value><next><block type="dc_motor" id="k|$W/{v:t)Ri*1iI2c]E"><value name="channel"><block type="math_number" id="wne%a{,$k%a@w,sKH?a]"><field name="NUM">2</field></block></value><value name="speed"><block type="math_number" id="{6ghh[Yn?Jc$jNeC)?wv"><field name="NUM">100</field></block></value><next><block type="dwenguino_delay" id="Un-0xX*gj~d[dzM2VPW{"><value name="DELAY_TIME"><block type="char_type" id="O8V/|K]MghjNUo^;u*Z7"><field name="BITMASK">1500</field></block></value><next><block type="dc_motor" id="#b8ipVpP2%f@GX{1*cEh"><value name="channel"><block type="math_number" id="1Bv@--r|;e:;{Tcs[0sp"><field name="NUM">1</field></block></value><value name="speed"><block type="math_number" id="W9onZYpkG)?oZXg+D.mP"><field name="NUM">-100</field></block></value><next><block type="dc_motor" id="br1l/`ornE`|7lUs0e!v"><value name="channel"><block type="math_number" id="spfET~H),:iUz7wM%7_}"><field name="NUM">2</field></block></value><value name="speed"><block type="math_number" id=":v_5D%Zxo$8F9#*mn{T["><field name="NUM">172</field></block></value><next><block type="dwenguino_delay" id="fUAytMwz;AODn(w;=(]i"><value name="DELAY_TIME"><block type="char_type" id="N@OUe?*wdU4M64`^4oVM"><field name="BITMASK">100</field></block></value><next><block type="dc_motor" id="hqOS]]B(sc98`z/$0}ll"><value name="channel"><block type="math_number" id="5I?rQjd]q(-CC6U.,cBM"><field name="NUM">1</field></block></value><value name="speed"><block type="math_number" id="HA_k5I*sC`55]E:Y).[["><field name="NUM">100</field></block></value><next><block type="dc_motor" id="`D{WegX*xn@F]K5=@EvF"><value name="channel"><block type="math_number" id="oV,/.U@niXOwlvvM]WpC"><field name="NUM">2</field></block></value><value name="speed"><block type="math_number" id="9^4I@Scrp(K2+.J7^p0;"><field name="NUM">100</field></block></value><next><block type="dwenguino_delay" id="J2$2d,OC8RV:+T!Re6X0"><value name="DELAY_TIME"><block type="char_type" id="ZM@t|GIBj##i(0vS8r:k"><field name="BITMASK">1500</field></block></value><next><block type="dc_motor" id=";u/@8A47:TKzi6F#%CGb"><value name="channel"><block type="math_number" id="]X@nX0adD06-`$RZ{},G"><field name="NUM">1</field></block></value><value name="speed"><block type="math_number" id="I[_cmLEv4];|ZSX59LdP"><field name="NUM">-100</field></block></value><next><block type="dc_motor" id="|:Sz^|w6bvv%3`ReTx8|"><value name="channel"><block type="math_number" id="ay6tlwL/NUW^@z3Y`,1e"><field name="NUM">2</field></block></value><value name="speed"><block type="math_number" id=")}wry~D^GS~nx+nJ4299"><field name="NUM">172</field></block></value><next><block type="dwenguino_delay" id="}]TPc%CK(bh,WY?va56["><value name="DELAY_TIME"><block type="char_type" id="XV0xogxOQ/+HvYzr}o5k"><field name="BITMASK">200</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()}},rideToWall:{category:"ridingrobot",id:"tutsRideToWall",label:MSG.tutsRideToWall,targets:[Lt.simulatorButton,Lt.simulatorScenarioTab,Lt.simulatorScenarioSelection,Lt.simulatorStartButton],placements:["left","left","left","left"],nrOfSteps:4,xOffsets:[0,0,0,0],yOffsets:[0,-20,-20,0],steps:[],initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.rideToWall.stepTitles[t],content:MSG.tutorials.rideToWall.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="yMwUfZQ@p0kW8udJ1vEa" x="-48" y="-12"><statement name="LOOP"><block type="controls_if" id="@5_v({:-p!8Gi,2CfS*2"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="pO3`z[KM7dM91a$uJnV="><field name="OP">GTE</field><value name="A"><block type="char_type" id="`pUCfCWqQ-!Y8Hc4DFul"><field name="BITMASK">175</field></block></value><value name="B"><block type="sonar_sensor" id="%Ha2KSwLpWq]5!^?mUn?"><value name="trig"><block type="char_type" id="72"><field name="BITMASK">11</field></block></value><value name="echo"><block type="char_type" id="77"><field name="BITMASK">12</field></block></value></block></value></block></value><statement name="DO0"><block type="dc_motor" id="P4X+*n{_@l|O~^r3M$+P"><value name="channel"><block type="math_number" id="32"><field name="NUM">1</field></block></value><value name="speed"><block type="math_number" id="37"><field name="NUM">100</field></block></value><next><block type="dc_motor" id="b]=`Pdj9m@E^lqhSf+j7"><value name="channel"><block type="math_number" id="-w/)R/{#UU20.gVTQ:n)"><field name="NUM">2</field></block></value><value name="speed"><block type="math_number" id="KWy~7`w*vC_K}G@ma:$H"><field name="NUM">100</field></block></value></block></next></block></statement><statement name="ELSE"><block type="dc_motor" id="WF@SV9}kgwe`Dx1KEdfO"><value name="channel"><block type="math_number" id="p|~*dbxFy-j|.oB!i5$g"><field name="NUM">1</field></block></value><value name="speed"><block type="math_number" id="*Nynrtc$eF,g^0)az}^R"><field name="NUM">0</field></block></value><next><block type="dc_motor" id="oz9a#j`Kv,ZVyL35B{J6"><value name="channel"><block type="math_number" id="okt3fpvN^;FR?TW?wly|"><field name="NUM">2</field></block></value><value name="speed"><block type="math_number" id="vf/?P:IP6mI%GD-!biz~"><field name="NUM">0</field></block></value></block></next></block></statement><next><block type="dwenguino_delay" id="Ve-hN}})E6#/rWFaP`be"><value name="DELAY_TIME"><block type="char_type" id="r)z[m@Nos2|cpm^(MovD"><field name="BITMASK">100</field></block></value></block></next></block></statement></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()}},introduceYourself:{category:"wegostem",targets:[Lt.simulatorButton,Lt.workspaceArea,Lt.simulatorStartButton,Lt.simulatorStopButton,Lt.workspaceArea,Lt.workspaceArea,Lt.simulatorStartButton,Lt.dwenguino],placements:["left","top","left","left","top","top","left","left"],nrOfSteps:6,xOffsets:[0,"center",0,0,"center","center",0],yOffsets:[0,"top",0,0,"top","top",0],steps:[],initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.introduceYourself.stepTitles[t],content:MSG.tutorials.introduceYourself.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},id:"tutsIntroduceYourselfWeGoSTEM",label:MSG.tutsIntroduceYourselfWeGoSTEM,onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="ndSZof?3RjcH}j2Lp/XZ" x="0" y="0"><statement name="LOOP"><block type="dwenguino_lcd" id="P~z0QTD+UA%Wvi-1|pJi"><value name="text"><block type="text" id="48"><field name="TEXT">Hallo ik ben</field></block></value><value name="line_number"><block type="char_type" id="53"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="58"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="8^{{=Y9|}Yjf}J~*A}Ug"><value name="DELAY_TIME"><block type="char_type" id="TO?6iQPh}HsK1u6/()KQ"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="mZ@64g4j].F$R?6I2;|e"><next><block type="dwenguino_lcd" id=",9zhGR,lzKr175:cPC*_"><value name="text"><block type="text" id="w8Id%a/kU}P]3_TQV1V^"><field name="TEXT">Tom</field></block></value><value name="line_number"><block type="char_type" id="VruQbfPoZ[O~4VG#:`[v"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="-7M*Tw!{?A}JvmAw(0_X"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="$W3lceEvUBsyDFFMM-Rf"><value name="DELAY_TIME"><block type="char_type" id="F-`0yf?Z6xT^qV5x(YV@"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="a5X=ZhxL5lziaL[@+1q6"><next><block type="dwenguino_lcd" id="l`pv.^G_BTi%EpsWCp3d"><value name="text"><block type="text" id="L+/nc=~kAE0A)8hYW^b|"><field name="TEXT">en ik ben</field></block></value><value name="line_number"><block type="char_type" id=",9#]]M|vVX:X`i2FLYk9"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="IgSB;tv7Q63a*I/8c9xO"><field name="BITMASK">0</field></block></value><next><block type="clear_lcd" id="bV|!1IpEB|pF6zyTGedz"><next><block type="dwenguino_lcd" id="V_ap+n0Ve.h;yqUOiap]"><value name="text"><block type="text" id="FW[UnvsP|RyxEeB)*sw?"><field name="TEXT">27 jaar oud.</field></block></value><value name="line_number"><block type="char_type" id="?0+(u3VHL7RwnU6roe8o"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="g7)%Ze+Q`)7(XB?2H1g/"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="t*AwHh}[O0Oa:iWRf=Bi"><value name="DELAY_TIME"><block type="char_type" id="MT%/M(V*Sh@Lq?2s~|@C"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="B*^u3w%Jw`6F^5V~RI?!"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()},onNext:function(){Vt.logger.recordEvent(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting))},onPrev:function(){Vt.logger.recordEvent(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting))}},lampOnOffWeGoSTEM:{category:"wegostem",targets:[Lt.simulatorButton,Lt.workspaceArea,Lt.simulatorStartButton,Lt.simulatorStopButton,Lt.workspaceArea,Lt.workspaceArea,Lt.simulatorStartButton,Lt.dwenguino],placements:["left","top","left","left","top","top","left","left"],nrOfSteps:6,xOffsets:[0,"center",0,0,"center","center",0],yOffsets:[0,"top",0,0,"top","top",0],steps:[],initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.lampOnOffWeGoSTEM.stepTitles[t],content:MSG.tutorials.lampOnOffWeGoSTEM.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},id:"tutsLampOnOffWeGoSTEM",label:MSG.tutsLampOnOffWeGoSTEM,onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="ndSZof?3RjcH}j2Lp/XZ" x="-312" y="822"><statement name="SETUP"><block type="dwenguino_set_led" id="JRP=z*2cxmd77C1]%2_j"><value name="LED"><block type="dwenguino_led_pins" id="`6(1#3#Z#$M@Xbq?1Xfd"><field name="LED_NUMBER">3</field></block></value><value name="LED_STATE"><block type="dwenguino_on_off" id="@5tkt/z/jAQ:%,nb:Bb-"><field name="LED_ON_OFF">ON</field></block></value><next><block type="dwenguino_delay" id="UY`BuwYMQ$Q@W/RBx4W6"><value name="DELAY_TIME"><block type="char_type" id="mj5fa8/DHdN^R`GxC1?-"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_set_led" id=";^M:Bzu.h.,8-bH|((6J"><value name="LED"><block type="dwenguino_led_pins" id="4fPa^^](u@WY76EvFzq3"><field name="LED_NUMBER">3</field></block></value><value name="LED_STATE"><block type="dwenguino_on_off" id="Vb]-SSu`gi!r(Jcf[GAP"><field name="LED_ON_OFF">OFF</field></block></value><next><block type="dwenguino_delay" id="b{y].+kK+[2Im*dxbNbG"><value name="DELAY_TIME"><block type="char_type" id="30LY_FvNethd98Kevj|b"><field name="BITMASK">500</field></block></value></block></next></block></next></block></next></block></statement></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()},onNext:function(){Vt.logger.recordEvent(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting))},onPrev:function(){Vt.logger.recordEvent(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting))}},nameOnLcd:{category:"wegostem",targets:[Lt.simulatorButton,Lt.workspaceArea,Lt.simulatorStartButton,Lt.simulatorStopButton,Lt.workspaceArea,Lt.workspaceArea,Lt.simulatorStartButton,Lt.dwenguino],placements:["left","top","left","left","top","top","left","left"],nrOfSteps:7,xOffsets:[0,"center",0,0,"center","center",0],yOffsets:[0,"top",0,0,"top","top",0],steps:[],initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.nameOnLcdWeGoSTEM.stepTitles[t],content:MSG.tutorials.nameOnLcdWeGoSTEM.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},id:"tutsNameOnLcdWeGoSTEM",label:MSG.tutsNameOnLcdWeGoSTEM,onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="V9/6@;rsE|D#Da%TQ1aq" x="-79" y="184"><statement name="SETUP"><block type="dwenguino_lcd" id="4[oLkNw/z5;Ou4dn-zdD"><value name="text"><block type="text" id="48"><field name="TEXT">Tom</field></block></value><value name="line_number"><block type="char_type" id="53"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="58"><field name="BITMASK">0</field></block></value></block></statement></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()},onNext:function(){Vt.logger.recordEvent(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting))},onPrev:function(){Vt.recordEvent(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting))}},poem1:{category:"wegostem",targets:[Lt.simulatorButton,Lt.workspaceArea,Lt.simulatorStartButton,Lt.simulatorStopButton,Lt.workspaceArea,Lt.workspaceArea,Lt.simulatorStartButton,Lt.dwenguino],placements:["left","top","left","left","top","top","left","left"],nrOfSteps:6,xOffsets:[0,"center",0,0,"center","center",0],yOffsets:[0,"top",0,0,"top","top",0],steps:[],initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.poem1.stepTitles[t],content:MSG.tutorials.poem1.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},id:"tutsPoem1",label:MSG.tutsPoem1,onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="ndSZof?3RjcH}j2Lp/XZ" x="-20" y="56"><statement name="LOOP"><block type="dwenguino_lcd" id="P~z0QTD+UA%Wvi-1|pJi"><value name="text"><block type="text" id="48"><field name="TEXT">Ik fiets</field></block></value><value name="line_number"><block type="char_type" id="53"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="58"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="8^{{=Y9|}Yjf}J~*A}Ug"><value name="DELAY_TIME"><block type="char_type" id="TO?6iQPh}HsK1u6/()KQ"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="mZ@64g4j].F$R?6I2;|e"><next><block type="dwenguino_delay" id="]ou@Z_|5^GvXMS68m4Y#"><value name="DELAY_TIME"><block type="char_type" id="LNrn.uWc!l{k)lWdw9xu"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="U37Ix-]Ulb(y%rp+HmMK"><value name="text"><block type="text" id="62=RnV.lI.d94k41Y|Wg"><field name="TEXT">en fiets</field></block></value><value name="line_number"><block type="char_type" id="XPa1w4n/89hzWxAri?_Z"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="Mj.b?|/ktlgxW9^Lv+GB"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="qA+kIka6dC`XK2Zat.^e"><value name="DELAY_TIME"><block type="char_type" id="WxmGodyzXxbbWo)/zP0j"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="m5J96Dy^pC:gh?H)nGT#"><next><block type="dwenguino_delay" id="%?k#,bPe1-.s6Z7_S8qn"><value name="DELAY_TIME"><block type="char_type" id="!(gLCQ_G4;$(a`n7`O[="><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="TMkN#X]!w%McWa+(x=`9"><value name="text"><block type="text" id="IZ|[v`1EEX*`RQf+b5qF"><field name="TEXT">en fiets</field></block></value><value name="line_number"><block type="char_type" id="iu*fPG%V5+ylVMoYt^jx"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="xL-yEduk#tQd$~t|1xBe"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="}KCE%K7;EC#vmey7^_Jo"><value name="DELAY_TIME"><block type="char_type" id="{Qw5:{GSy/lpM]ZiaD]!"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="FS#9!f68];h@Hgj8D`EH"><next><block type="dwenguino_delay" id="d,ppwLH6:]IWf8u,D}~S"><value name="DELAY_TIME"><block type="char_type" id="ve7y8sxdW$N[k3Lpj4K2"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="0j6gbZ`fQp^lzmur:H(i"><value name="text"><block type="text" id="-f]hE(|MCiW#54W#}kLK"><field name="TEXT">en fiets</field></block></value><value name="line_number"><block type="char_type" id="K)vYa`Z)#deQ!1}q{H.Q"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="LrH3gTKol.2*[p4jH4D0"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="C0:#WaEgbVZ[r~G@q|8b"><value name="DELAY_TIME"><block type="char_type" id="gZQ`(0$Bx-3=@BNWMrxO"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="%[VVkF7@588nv1he[fA+"><next><block type="dwenguino_delay" id="u-M}Ap5N:_2+,:-`@4?E"><value name="DELAY_TIME"><block type="char_type" id="+V7?6g(f`(Da3.R+Ok2-"><field name="BITMASK">1000</field></block></value><next><block type="dwenguino_lcd" id="4;?GCk$#1]UKqc*JpCtJ"><value name="text"><block type="text" id=".p6;|WP*pK!5P)^Ibi,-"><field name="TEXT">tegen de wind.</field></block></value><value name="line_number"><block type="char_type" id="yWI%[,$r2zZ.PH0((f:i"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="t_H?BNzNHvT2@CNp%@#7"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="19c_V.(8_w+v6);fCwfb"><value name="DELAY_TIME"><block type="char_type" id="6WH|Q$Q])3;UFw!KD!T?"><field name="BITMASK">1000</field></block></value><next><block type="dwenguino_delay" id="TXE6?Wg@/oIBY$p[Ga`z"><value name="DELAY_TIME"><block type="char_type" id="%cORf5sbBjB-.(-iG@AH"><field name="BITMASK">1000</field></block></value><next><block type="dwenguino_lcd" id=";DtXuybn,xF/FOwjCF:4"><value name="text"><block type="text" id="t^{u]hkT)4L^+p!F[G2["><field name="TEXT">Trappen</field></block></value><value name="line_number"><block type="char_type" id="0p`XD[NDyMNta|%A7t/3"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="X;|n1^p*Chsc^vz,C@eT"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="wJt.NHYCT?xxFT0a|l-S"><value name="DELAY_TIME"><block type="char_type" id="mo?t2aHT*Uo*nC.GuTk}"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="m2JGGH-h$jb)lM9CXYe0"><next><block type="dwenguino_delay" id="j?55rb3}E;+|Co*S`hM="><value name="DELAY_TIME"><block type="char_type" id="1BqO7(NNgg),p%MZHjA,"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id=":(tHu6%DX8iR?metFeL4"><value name="text"><block type="text" id="OYCuh1oaO@[PhnMV)b[J"><field name="TEXT">en trappen</field></block></value><value name="line_number"><block type="char_type" id="mXr+iQF]OYanHl6]k-vM"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="eqvW,Y~do5;yeOS16mZ!"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="jNUVPY(fkulqIW406a;S"><value name="DELAY_TIME"><block type="char_type" id="?T{RaN{N^O?S^,m2uL[F"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="MyQf_q(vqm-4Kx_ho/$u"><next><block type="dwenguino_delay" id="VD_W^T{~dxNxg+ZJRrXi"><value name="DELAY_TIME"><block type="char_type" id="+{%R9Y^?n4lmJ)~5/cuF"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="/9?@iKh%N%b029DX4a/y"><value name="text"><block type="text" id="wfjtaN2m3P6y}W+m[1/e"><field name="TEXT">en trappen</field></block></value><value name="line_number"><block type="char_type" id="INY`bm#sWx3kX0IL?kXK"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="I.bF136;-%aT?*HI$X+2"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="OB@:R;FWiU0/DWh~BdPW"><value name="DELAY_TIME"><block type="char_type" id="kZ[ges6!FQi[V[*cMA12"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="|O~qL_TJ__o~oivI7foI"><next><block type="dwenguino_delay" id="Qoi4Q0WT!4n-a04+G4%V"><value name="DELAY_TIME"><block type="char_type" id=";bjjtx40w|%CvcF`r~:j"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="@4@sN;=}m^8TF;t(nAer"><value name="text"><block type="text" id="ikdC`Zv[xMl0{]pR)fX#"><field name="TEXT">en trappen</field></block></value><value name="line_number"><block type="char_type" id="lSH?~`gnf%JviI:2}XJa"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="CVE!tF8@md9U@rJgE4Dp"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="T%l(=V4s=SMhd}1vUxhO"><value name="DELAY_TIME"><block type="char_type" id="kvZqY}2@Wx=.oK}MQE*`"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="drLvsnCiFEO=F@]r#v4Q"><next><block type="dwenguino_delay" id="%MnMga`gWN]%+32u!RgU"><value name="DELAY_TIME"><block type="char_type" id="5kN0m5!C?@CWtjguYWE?"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="6s|0$NVe+8umnbfq{NMT"><value name="text"><block type="text" id="~L+6,{(?3yAP6xK,efvE"><field name="TEXT">tot ik de</field></block></value><value name="line_number"><block type="char_type" id="qKk!A~k$:Mfer04ru%qy"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="}4;f_3pfEL]+mV|2ERvU"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="5y|#JTSHq_7OSw}[$Xs2"><value name="DELAY_TIME"><block type="char_type" id="GK;j0.zlVIIBGr=*4/}D"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="{peMF%hI`]z?9xGfcz:-"><next><block type="dwenguino_delay" id="h~OBWExeL3ARveT/(HrJ"><value name="DELAY_TIME"><block type="char_type" id="i4cO:Zk3g@8H.c~CE+p!"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="Tt-^0U-/AlU[zNYL*2i~"><value name="text"><block type="text" id="eU6fM4.r;iyJT%0QtE%X"><field name="TEXT">terugweg</field></block></value><value name="line_number"><block type="char_type" id=";A@Mjgew#J6ly=Rrne^J"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="Zwb0f$9HU@EA`Csj`9X;"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="2,dHZC$8Bapou6cguPPq"><value name="DELAY_TIME"><block type="char_type" id=";$}G/:ENCQU,IZC7Ugeu"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="a$8|j|+r8;K2l:531Ks8"><next><block type="dwenguino_delay" id="lYLnC,T[q.O{L{bGiaWj"><value name="DELAY_TIME"><block type="char_type" id="4=dUiv1|T{_Ka`gdQe3."><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="r;3ncPFmQh!eK_WX9#_A"><value name="text"><block type="text" id="wdH=[^XHUAYF,gw26L!P"><field name="TEXT">vind</field></block></value><value name="line_number"><block type="char_type" id="_3{h1-PT^:FLw[KYSgiR"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="8J87Y.-o)HM[~u{ma$p-"><field name="BITMASK">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()},onNext:function(){Vt.logger.recordEvent(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting))},onPrev:function(){Vt.logger.recordEvent(Vt.logger.createEvent(EVENT_NAMEStutorialPrevStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting))}},poem2:{category:"wegostem",targets:[Lt.simulatorButton,Lt.workspaceArea,Lt.simulatorStartButton,Lt.simulatorStopButton,Lt.workspaceArea,Lt.workspaceArea,Lt.simulatorStartButton,Lt.dwenguino],placements:["left","top","left","left","top","top","left","left"],nrOfSteps:6,xOffsets:[0,"center",0,0,"center","center",0],yOffsets:[0,"top",0,0,"top","top",0],steps:[],initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.poem2.stepTitles[t],content:MSG.tutorials.poem2.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},id:"tutsPoem2",label:MSG.tutsPoem2,onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="ndSZof?3RjcH}j2Lp/XZ" x="-20" y="56"><statement name="LOOP"><block type="dwenguino_lcd" id="P~z0QTD+UA%Wvi-1|pJi"><value name="text"><block type="text" id="48"><field name="TEXT">Luie</field></block></value><value name="line_number"><block type="char_type" id="53"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="58"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="8^{{=Y9|}Yjf}J~*A}Ug"><value name="DELAY_TIME"><block type="char_type" id="TO?6iQPh}HsK1u6/()KQ"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="mZ@64g4j].F$R?6I2;|e"><next><block type="dwenguino_delay" id="]ou@Z_|5^GvXMS68m4Y#"><value name="DELAY_TIME"><block type="char_type" id="LNrn.uWc!l{k)lWdw9xu"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="U37Ix-]Ulb(y%rp+HmMK"><value name="text"><block type="text" id="62=RnV.lI.d94k41Y|Wg"><field name="TEXT">luie</field></block></value><value name="line_number"><block type="char_type" id="XPa1w4n/89hzWxAri?_Z"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="Mj.b?|/ktlgxW9^Lv+GB"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="qA+kIka6dC`XK2Zat.^e"><value name="DELAY_TIME"><block type="char_type" id="WxmGodyzXxbbWo)/zP0j"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="m5J96Dy^pC:gh?H)nGT#"><next><block type="dwenguino_delay" id="%?k#,bPe1-.s6Z7_S8qn"><value name="DELAY_TIME"><block type="char_type" id="!(gLCQ_G4;$(a`n7`O[="><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="TMkN#X]!w%McWa+(x=`9"><value name="text"><block type="text" id="IZ|[v`1EEX*`RQf+b5qF"><field name="TEXT">luie</field></block></value><value name="line_number"><block type="char_type" id="iu*fPG%V5+ylVMoYt^jx"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="xL-yEduk#tQd$~t|1xBe"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="}KCE%K7;EC#vmey7^_Jo"><value name="DELAY_TIME"><block type="char_type" id="{Qw5:{GSy/lpM]ZiaD]!"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="FS#9!f68];h@Hgj8D`EH"><next><block type="dwenguino_delay" id="d,ppwLH6:]IWf8u,D}~S"><value name="DELAY_TIME"><block type="char_type" id="ve7y8sxdW$N[k3Lpj4K2"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="0j6gbZ`fQp^lzmur:H(i"><value name="text"><block type="text" id="-f]hE(|MCiW#54W#}kLK"><field name="TEXT">luie</field></block></value><value name="line_number"><block type="char_type" id="K)vYa`Z)#deQ!1}q{H.Q"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="LrH3gTKol.2*[p4jH4D0"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="C0:#WaEgbVZ[r~G@q|8b"><value name="DELAY_TIME"><block type="char_type" id="gZQ`(0$Bx-3=@BNWMrxO"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="%[VVkF7@588nv1he[fA+"><next><block type="dwenguino_delay" id="u-M}Ap5N:_2+,:-`@4?E"><value name="DELAY_TIME"><block type="char_type" id="+V7?6g(f`(Da3.R+Ok2-"><field name="BITMASK">1000</field></block></value><next><block type="dwenguino_lcd" id="4;?GCk$#1]UKqc*JpCtJ"><value name="text"><block type="text" id=".p6;|WP*pK!5P)^Ibi,-"><field name="TEXT">luie</field></block></value><value name="line_number"><block type="char_type" id="yWI%[,$r2zZ.PH0((f:i"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="t_H?BNzNHvT2@CNp%@#7"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="19c_V.(8_w+v6);fCwfb"><value name="DELAY_TIME"><block type="char_type" id="6WH|Q$Q])3;UFw!KD!T?"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="Ycv@=wOlPFRmBR2e0=O/"><next><block type="dwenguino_delay" id="TXE6?Wg@/oIBY$p[Ga`z"><value name="DELAY_TIME"><block type="char_type" id="%cORf5sbBjB-.(-iG@AH"><field name="BITMASK">1000</field></block></value><next><block type="dwenguino_lcd" id=";DtXuybn,xF/FOwjCF:4"><value name="text"><block type="text" id="t^{u]hkT)4L^+p!F[G2["><field name="TEXT">luie</field></block></value><value name="line_number"><block type="char_type" id="0p`XD[NDyMNta|%A7t/3"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="X;|n1^p*Chsc^vz,C@eT"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="wJt.NHYCT?xxFT0a|l-S"><value name="DELAY_TIME"><block type="char_type" id="mo?t2aHT*Uo*nC.GuTk}"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="m2JGGH-h$jb)lM9CXYe0"><next><block type="dwenguino_delay" id="j?55rb3}E;+|Co*S`hM="><value name="DELAY_TIME"><block type="char_type" id="1BqO7(NNgg),p%MZHjA,"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id=":(tHu6%DX8iR?metFeL4"><value name="text"><block type="text" id="OYCuh1oaO@[PhnMV)b[J"><field name="TEXT">luie</field></block></value><value name="line_number"><block type="char_type" id="mXr+iQF]OYanHl6]k-vM"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="eqvW,Y~do5;yeOS16mZ!"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="jNUVPY(fkulqIW406a;S"><value name="DELAY_TIME"><block type="char_type" id="?T{RaN{N^O?S^,m2uL[F"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="MyQf_q(vqm-4Kx_ho/$u"><next><block type="dwenguino_delay" id="VD_W^T{~dxNxg+ZJRrXi"><value name="DELAY_TIME"><block type="char_type" id="+{%R9Y^?n4lmJ)~5/cuF"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="z2G$,+(O8MXqsG@%H11H"><value name="text"><block type="text" id="]`3zL$n)c4Iq*xzBgH.T"><field name="TEXT">Trui</field></block></value><value name="line_number"><block type="char_type" id="pS%A*`i=OI[^JkNaC7BV"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="r/BGRl]k^1B9);lmYZA+"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id=")lfqScQ#!=TX.Ue)taec"><value name="DELAY_TIME"><block type="char_type" id="iiD^.IY_C*84m;faJ,`o"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="cH7Pj9[Ip;DY!r7!v?dc"><next><block type="dwenguino_delay" id="#U+By.Ih$=e?BFb,FO7l"><value name="DELAY_TIME"><block type="char_type" id="p%akSl+Egf)|/q!XnJ(i"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="/9?@iKh%N%b029DX4a/y"><value name="text"><block type="text" id="wfjtaN2m3P6y}W+m[1/e"><field name="TEXT">ze wil</field></block></value><value name="line_number"><block type="char_type" id="INY`bm#sWx3kX0IL?kXK"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="I.bF136;-%aT?*HI$X+2"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="OB@:R;FWiU0/DWh~BdPW"><value name="DELAY_TIME"><block type="char_type" id="kZ[ges6!FQi[V[*cMA12"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="|O~qL_TJ__o~oivI7foI"><next><block type="dwenguino_delay" id="Qoi4Q0WT!4n-a04+G4%V"><value name="DELAY_TIME"><block type="char_type" id=";bjjtx40w|%CvcF`r~:j"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="@4@sN;=}m^8TF;t(nAer"><value name="text"><block type="text" id="ikdC`Zv[xMl0{]pR)fX#"><field name="TEXT">een beetje</field></block></value><value name="line_number"><block type="char_type" id="lSH?~`gnf%JviI:2}XJa"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="CVE!tF8@md9U@rJgE4Dp"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="T%l(=V4s=SMhd}1vUxhO"><value name="DELAY_TIME"><block type="char_type" id="kvZqY}2@Wx=.oK}MQE*`"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="drLvsnCiFEO=F@]r#v4Q"><next><block type="dwenguino_delay" id="%MnMga`gWN]%+32u!RgU"><value name="DELAY_TIME"><block type="char_type" id="5kN0m5!C?@CWtjguYWE?"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="6s|0$NVe+8umnbfq{NMT"><value name="text"><block type="text" id="~L+6,{(?3yAP6xK,efvE"><field name="TEXT">water</field></block></value><value name="line_number"><block type="char_type" id="qKk!A~k$:Mfer04ru%qy"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="}4;f_3pfEL]+mV|2ERvU"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="5y|#JTSHq_7OSw}[$Xs2"><value name="DELAY_TIME"><block type="char_type" id="GK;j0.zlVIIBGr=*4/}D"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="{peMF%hI`]z?9xGfcz:-"><next><block type="dwenguino_delay" id="h~OBWExeL3ARveT/(HrJ"><value name="DELAY_TIME"><block type="char_type" id="i4cO:Zk3g@8H.c~CE+p!"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="Tt-^0U-/AlU[zNYL*2i~"><value name="text"><block type="text" id="eU6fM4.r;iyJT%0QtE%X"><field name="TEXT">dus wacht ze</field></block></value><value name="line_number"><block type="char_type" id=";A@Mjgew#J6ly=Rrne^J"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="Zwb0f$9HU@EA`Csj`9X;"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="2,dHZC$8Bapou6cguPPq"><value name="DELAY_TIME"><block type="char_type" id=";$}G/:ENCQU,IZC7Ugeu"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="a$8|j|+r8;K2l:531Ks8"><next><block type="dwenguino_delay" id="lYLnC,T[q.O{L{bGiaWj"><value name="DELAY_TIME"><block type="char_type" id="4=dUiv1|T{_Ka`gdQe3."><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="w1KB0pSAA!d(biO9]JkD"><value name="text"><block type="text" id="a=y!$ACL_i[bntAB)aJu"><field name="TEXT">en</field></block></value><value name="line_number"><block type="char_type" id="QzOY1(6flDF2U:wxct=a"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="c]_+qZCDBN^6RLN!y!1C"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="9(?sJuxj6j@;x@7Asi|c"><value name="DELAY_TIME"><block type="char_type" id="BxwWPv_K3%X$BG3e|_Oc"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="{f]kzKN1KgQ04-`ne1;7"><next><block type="dwenguino_delay" id="cuokpl:?{2A@~M@7`OJP"><value name="DELAY_TIME"><block type="char_type" id="ko.6d~(W|RHjt!.[oc+3"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="d(2/Uxt1k-Am7ShkBH:_"><value name="text"><block type="text" id="uQWlQI8MXKv]upN92?^4"><field name="TEXT">wacht ze</field></block></value><value name="line_number"><block type="char_type" id="gA1O7dtGAkwnDPod-qkJ"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="0T3suk9E8^[zKtWs$1u{"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="!#wStl5v`X#o+LT2yZ)l"><value name="DELAY_TIME"><block type="char_type" id="^OUEa:xd}n%%%I5XhxM:"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="rhu,trF%un+^egaUO:^4"><next><block type="dwenguino_delay" id="gv~6C5Lw@BAwk_,Y`cHx"><value name="DELAY_TIME"><block type="char_type" id="(E2[@~[ye`E^:b/%Cc6Y"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="r;3ncPFmQh!eK_WX9#_A"><value name="text"><block type="text" id="wdH=[^XHUAYF,gw26L!P"><field name="TEXT">en</field></block></value><value name="line_number"><block type="char_type" id="_3{h1-PT^:FLw[KYSgiR"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="8J87Y.-o)HM[~u{ma$p-"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="y0GhV=5]ABe?=zbLvf7v"><value name="DELAY_TIME"><block type="char_type" id=":}QFXZ7`nnXwB`(V_ad:"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="?K(I5BVBS^ur(9~DAn8Q"><next><block type="dwenguino_delay" id="5F(mmk#|BZA{FYK9FA5P"><value name="DELAY_TIME"><block type="char_type" id="_B*H^I#x3LH,lvRige]$"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="fI_KQvo@Jc?tO(O(oG]Z"><value name="text"><block type="text" id="m%o7bigf~!hj.k^Nba?p"><field name="TEXT">wacht ze</field></block></value><value name="line_number"><block type="char_type" id="+4$/h26osEjf,+J@?aGm"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="1)uzWjEHVqs!UVQm{Z^o"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="EH(/x2ezA[g-/$RE4X2q"><value name="DELAY_TIME"><block type="char_type" id="jvuTJE+;=/uEEAr@)/yO"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="MZWY%~bbn2ZRrpOv3vE!"><next><block type="dwenguino_delay" id="c{6-WNdwSti%V+Pwq9c0"><value name="DELAY_TIME"><block type="char_type" id="nl3)@R}ab?$2DCPhHyDx"><field name="BITMASK">500</field></block></value><next><block type="dwenguino_lcd" id="u15(rgZKNp)p,^*nLK0X"><value name="text"><block type="text" id="}Dbqsn@^U.iCAi9j(hKK"><field name="TEXT">op een bui.</field></block></value><value name="line_number"><block type="char_type" id="8Hzg*-d1C7l@rJvfCHq@"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="lBM0=O*pNp!41R{!k/My"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="Kg*!@evlzIz/1~B3%,-7"><value name="DELAY_TIME"><block type="char_type" id="Xp-Oiku[1GMpeTsaBWbK"><field name="BITMASK">1000</field></block></value><next><block type="clear_lcd" id="o!TOAVQ.XXt%|lX4EF;-"><next><block type="dwenguino_delay" id="-E@C,!R2MbOs5Psn9nNK"><value name="DELAY_TIME"><block type="char_type" id="pN@k9d(?_Lq:20,9tVW]"><field name="BITMASK">2000</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()},onNext:function(){Vt.logger.recordEvent(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting))},onPrev:function(){Vt.logger.recordEvent(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting))}},showNameAndDisappear:{category:"wegostem",targets:[Lt.simulatorButton,Lt.workspaceArea,Lt.simulatorStartButton,Lt.simulatorStopButton,Lt.workspaceArea,Lt.workspaceArea,Lt.simulatorStartButton,Lt.dwenguino],placements:["left","top","left","left","top","top","left","left"],nrOfSteps:6,xOffsets:[0,"center",0,0,"center","center",0],yOffsets:[0,"top",0,0,"top","top",0],steps:[],initSteps:function(){var t;for(t=0;t<this.nrOfSteps;t++)this.steps.push({title:MSG.tutorials.showNameAndDisappear.stepTitles[t],content:MSG.tutorials.showNameAndDisappear.stepContents[t],target:this.targets[t],placement:this.placements[t],showCloseButton:"true",width:400,xOffset:this.xOffsets[t],yOffset:this.yOffsets[t]})},id:"tutsShowNameAndDisappearWeGoSTEM",label:MSG.tutsShowNameAndDisappearWeGoSTEM,onStart:function(){Vt.loadFileXmlIntoWorkspace('<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup_loop_structure" id="ndSZof?3RjcH}j2Lp/XZ" x="-20" y="56"><statement name="SETUP"><block type="dwenguino_lcd" id="P~z0QTD+UA%Wvi-1|pJi"><value name="text"><block type="text" id="48"><field name="TEXT">Tom</field></block></value><value name="line_number"><block type="char_type" id="53"><field name="BITMASK">0</field></block></value><value name="character_number"><block type="char_type" id="58"><field name="BITMASK">0</field></block></value><next><block type="dwenguino_delay" id="8^{{=Y9|}Yjf}J~*A}Ug"><value name="DELAY_TIME"><block type="char_type" id="TO?6iQPh}HsK1u6/()KQ"><field name="BITMASK">7000</field></block></value><next><block type="clear_lcd" id="mZ@64g4j].F$R?6I2;|e"></block></next></block></next></block></statement></block></xml>')},onEnd:function(){Vt.tutorialMenu.endTutorial()},onNext:function(){Vt.logger.recordEvent(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialNextStep,Vt.logger.tutorialIdSetting))},onPrev:function(){Vt.logger.recordEvent(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting)),console.log(Vt.logger.createEvent(M.tutorialPrevStep,Vt.logger.tutorialIdSetting))}}};const Nt=function(){function e(n){t(this,e),a(this,"tutorialId",""),a(this,"tutorialCategory",""),a(this,"eventLogger",null),this.eventLogger=n,this.initTutorialMenu()}return r(e,[{key:"initTutorialMenu",value:function(){var t=this;$("#db_tutorials").click((function(){t.loadTutorialDialog(),t.addTutorialDialogEventHandlers(),t.showTutorialDialog()}))}},{key:"loadTutorialDialog",value:function(){$("#tutorialModal .modal-header").text(MSG.tutorialMenu.header),$("#tutorialModal .modal-header").append('<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>'),$("#tutorialModal .modal-body .message").empty(),$("#tutorialModal .modal-body .message").append('<div class="tutorial_label">'+MSG.tutorialMenu.chooseCategory+"</div>"),$("#tutorialModal .modal-body .message").append('<div id="tutorialModal_categories_menu" class="tutorial_categories_wrapper"></div>'),$("#tutorialModal_categories_menu").append('<div id="tutorial_category_dwenguino_components" class="tutorial_categories_item card"></div>'),$("#tutorial_category_dwenguino_components").append('<div class="category_tag">'+MSG.tutorialMenu.catDwenguinoComponents+"</div>"),$("#tutorial_category_dwenguino_components").append('<div id="tutorial_categories_dwenguino_components_img" class="tutorial_categories_img"></div>'),$("#tutorialModal_categories_menu").append('<div id="tutorial_category_dwenguino_connector" class="tutorial_categories_item card"></div>'),$("#tutorial_category_dwenguino_connector").append('<div class="category_tag">'+MSG.tutorialMenu.catDwenguinoConnector+"</div>"),$("#tutorial_category_dwenguino_connector").append('<div id="tutorial_categories_dwenguino_connector_img" class="tutorial_categories_img"></div>'),$("#tutorialModal_categories_menu").append('<div id="tutorial_category_wegostem" class="tutorial_categories_item card"></div>'),$("#tutorial_category_wegostem").append('<div class="category_tag">'+MSG.tutorialMenu.catWeGoStem+"</div>"),$("#tutorial_category_wegostem").append('<div id="tutorial_categories_wegostem_img" class="tutorial_categories_img"></div>'),$("#tutorialModal_categories_menu").append('<div id="tutorial_category_dwenguino" class="tutorial_categories_item card"></div>'),$("#tutorial_category_dwenguino").append('<div class="category_tag">'+MSG.tutorialMenu.catDwenguino+"</div>"),$("#tutorial_category_dwenguino").append('<div id="tutorial_categories_dwenguino_img" class="tutorial_categories_img"></div>'),$("#tutorialModal_categories_menu").append('<div id="tutorial_category_riding_robot" class="tutorial_categories_item card"></div>'),$("#tutorial_category_riding_robot").append('<div class="category_tag">'+MSG.tutorialMenu.catRidingRobot+"</div>"),$("#tutorial_category_riding_robot").append('<div id="tutorial_categories_riding_robot_img" class="tutorial_categories_img"></div>'),$("#tutorialModal_categories_menu").append('<div id="tutorial_category_social_robot" class="tutorial_categories_item card"></div>'),$("#tutorial_category_social_robot").append('<div class="category_tag">'+MSG.tutorialMenu.catSocialRobot+"</div>"),$("#tutorial_category_social_robot").append('<div id="tutorial_categories_social_robot_img" class="tutorial_categories_img"></div>'),$("#tutorialModal .modal-footer").empty(),$("#tutorialModal .modal-footer").append('<button id="close_tutorial_dialog" type="button" class="btn btn-default" data-dismiss="modal">'+MSG.tutorialMenu.close+"</button>")}},{key:"addTutorialDialogEventHandlers",value:function(){var t=this;$("#tutorial_category_dwenguino_components").click((function(){t.loadComponentsOverview()})),$("#tutorial_category_dwenguino_connector").click((function(){t.loadConnectorOverview()})),$("#tutorial_category_wegostem").click((function(){t.loadTutorialsMenu("wegostem")})),$("#tutorial_category_dwenguino").click((function(){t.loadTutorialsMenu("dwenguino")})),$("#tutorial_category_riding_robot").click((function(){t.loadTutorialsMenu("ridingrobot")})),$("#tutorial_category_social_robot").click((function(){t.loadTutorialsMenu("socialrobot")})),$(".close").click((function(){t.hideTutorialDialog()}))}},{key:"showTutorialDialog",value:function(){$("#tutorialModal").modal("show")}},{key:"hideTutorialDialog",value:function(){$("#tutorialModal").modal("hide")}},{key:"loadTutorialsMenu",value:function(t){var e=this;$("#tutorialModal .modal-header").text(MSG.tutorialMenu.header),$("#tutorialModal .modal-body .message").empty(),$("#tutorialModal .modal-body .message").append('<div class="tutorial_label">'+MSG.tutorialMenu.chooseTutorial+"</div>"),$("#tutorialModal .modal-body .message").append('<div id="tutorialModal_tutorials_menu"></div>'),$("#tutorialModal .modal-footer").empty(),$("#tutorialModal .modal-footer").append('<button id="previous_tutorial_dialog" type="button" class="btn btn-default">'+MSG.tutorialMenu.previous+"</button>"),$("#tutorialModal .modal-footer").append('<button id="close_tutorial_dialog" type="button" class="btn btn-default" data-dismiss="modal">'+MSG.tutorialMenu.close+"</button>"),$("#previous_tutorial_dialog").click((function(){e.loadTutorialDialog(),e.addTutorialDialogEventHandlers()}));var n={category:t},i=this,o={type:"POST",url:s.getServerUrl()+"/tutorials/completedTutorials",data:n,retryLimit:1};function r(e){$.each($t,(function(n,o){if(o.category==t){var r=!1;$.each(e,(function(t,e){o.id==e.tutorial_id&&(r=!0)})),i.addTutorial(o,r)}}))}$.ajax(o).done(r).fail((function t(e,n){o.retryLimit>0&&(o.retryLimit--,$.ajax({type:"POST",url:s.getServerUrl()+"/auth/renew"}).done((function(e){$.ajax(o).done(r).fail(t)})).fail((function(t,e){console.log(e),console.warn("Failed to log in:",t)})))}))}},{key:"loadComponentsOverview",value:function(){var t=this;$("#tutorialModal .modal-header").text(MSG.tutorialMenu.dwenguinoComponents),$("#tutorialModal .modal-body .message").empty(),$("#tutorialModal .modal-body .message").append('<div class="container"></div>'),$("#tutorialModal .modal-body .message .container").append('<div id="row1" class="row"></div>'),$("#row1").append("<h2>"+MSG.tutorialMenu.sensors+"</h2>"),$("#tutorialModal .modal-body .message .container").append('<ul id="tutorialModal_sensors_menu" class=" row components_overview_cards"></ul>');for(var e=[Mt,It,V,Dt,At],n=0;n<e.length;n++){var i=e[n].getType();$("#tutorialModal_sensors_menu").append('<li id="tutorial_sensors_item_'+i+'" class="components_overview_cards_item"></li>'),$("#tutorial_sensors_item_"+i).append('<div id="tutorial_sensors_card_'+i+'" class="components_overview_card bg-c-4"></div>'),$("#tutorial_sensors_card_"+i).append('<div id="tutorial_sensors_'+i+'" class="components_overview_card_content"></div>'),$("#tutorial_sensors_"+i).append('<div class="components_overview_card_title">'+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[i])+"</div>"),$("#tutorial_sensors_"+i).append('<div id="tutorial_categories_dwenguino_components_img"></div>'),$("#tutorial_sensors_"+i).append('<div class="components_overview_card_text">'+e[n].getDescription()+"</div>"),$("#tutorial_sensors_"+i).append('<div id="input_pins'+i+'" class="components_overview_card_label">in: </div>'),$("#tutorial_sensors_"+i).append('<div id="output_pins'+i+'" class="components_overview_card_label">out: </div>'),$("#tutorial_sensors_"+i).append('<div id="circuit_pins'+i+'" class="components_overview_card_label">circuit: </div>')}$("#tutorialModal .modal-body .message .container").append('<div id="row2" class="row"></div>'),$("#row2").append("<h2>"+MSG.tutorialMenu.actuators+"</h2>"),$("#tutorialModal .modal-body .message .container").append('<div id="row3" class="row"></div>'),$("#row3").append("<h3>"+MSG.tutorialMenu.movement+"</h3>"),$("#tutorialModal .modal-body .message .container").append('<ul id="tutorialModal_movement_menu" class=" row components_overview_cards"></ul>');for(var o=[Ot,Rt],r=0;r<o.length;r++){var a=o[r].getType();$("#tutorialModal_movement_menu").append('<li id="tutorial_movement_item_'+a+'" class="components_overview_cards_item"></li>'),$("#tutorial_movement_item_"+a).append('<div id="tutorial_movement_card_'+a+'" class="components_overview_card bg-c-11"></div>'),$("#tutorial_movement_card_"+a).append('<div id="tutorial_movement_'+a+'" class="components_overview_card_content"></div>'),$("#tutorial_movement_"+a).append('<div class="components_overview_card_title">'+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[a])+"</div>"),$("#tutorial_movement_"+a).append('<div id="tutorial_categories_dwenguino_components_img"></div>'),$("#tutorial_movement_"+a).append('<div class="components_overview_card_text">'+o[r].getDescription()+"</div>"),$("#tutorial_movement_"+a).append('<div id="input_pins'+a+'" class="components_overview_card_label">in: </div>'),$("#tutorial_movement_"+a).append('<div id="output_pins'+a+'" class="components_overview_card_label">out: </div>'),$("#tutorial_movement_"+a).append('<div id="circuit_pins'+a+'" class="components_overview_card_label">circuit: </div>')}$("#tutorialModal .modal-body .message .container").append('<div id="row4" class="row"></div>'),$("#row4").append("<h3>"+MSG.tutorialMenu.display+"</h3>"),$("#tutorialModal .modal-body .message .container").append('<ul id="tutorialModal_display_menu" class=" row components_overview_cards"></ul>');for(var s=[Et,Pt,Bt],l=0;l<s.length;l++){var c=s[l].getType();$("#tutorialModal_display_menu").append('<li id="tutorial_display_item_'+c+'" class="components_overview_cards_item"></li>'),$("#tutorial_display_item_"+c).append('<div id="tutorial_display_card_'+c+'" class="components_overview_card bg-c-6"></div>'),$("#tutorial_display_card_"+c).append('<div id="tutorial_display_'+c+'" class="components_overview_card_content"></div>'),$("#tutorial_display_"+c).append('<div class="components_overview_card_title">'+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[c])+"</div>"),$("#tutorial_display_"+c).append('<div id="tutorial_categories_dwenguino_components_img"></div>'),$("#tutorial_display_"+c).append('<div class="components_overview_card_text">'+s[l].getDescription()+"</div>"),$("#tutorial_display_"+c).append('<div id="input_pins'+c+'" class="components_overview_card_label">in: </div>'),$("#tutorial_display_"+c).append('<div id="output_pins'+c+'" class="components_overview_card_label">out: </div>'),$("#tutorial_display_"+c).append('<div id="circuit_pins'+c+'" class="components_overview_card_label">circuit: </div>')}$("#tutorialModal .modal-body .message .container").append('<div id="row5" class="row"></div>'),$("#row5").append("<h3>"+MSG.tutorialMenu.audio+"</h3>"),$("#tutorialModal .modal-body .message .container").append('<div id="tutorialModal_audio_menu" class="components_overview row"></div>');for(var u=[Tt],d=0;d<u.length;d++){var h=u[d].getType();$("#tutorialModal_audio_menu").append('<li id="tutorial_audio_item_'+h+'" class="components_overview_cards_item"></li>'),$("#tutorial_audio_item_"+h).append('<div id="tutorial_audio_card_'+h+'" class="components_overview_card bg-c-3"></div>'),$("#tutorial_audio_card_"+h).append('<div id="tutorial_audio_'+h+'" class="components_overview_card_content"></div>'),$("#tutorial_audio_"+h).append('<div class="components_overview_card_title">'+DwenguinoBlocklyLanguageSettings.translateFrom("simulator",[h])+"</div>"),$("#tutorial_audio_"+h).append('<div id="tutorial_categories_dwenguino_components_img"></div>'),$("#tutorial_audio_"+h).append('<div class="components_overview_card_text">'+u[d].getDescription()+"</div>"),$("#tutorial_audio_"+h).append('<div id="input_pins'+h+'" class="components_overview_card_label">in: </div>'),$("#tutorial_audio_"+h).append('<div id="output_pins'+h+'" class="components_overview_card_label">out: </div>'),$("#tutorial_audio_"+h).append('<div id="circuit_pins'+h+'" class="components_overview_card_label">circuit: </div>')}for(var p=e.concat(o).concat(s).concat(u),f=0;f<p.length;f++){for(var g=p[f].getInputPins(),m=0;m<g.length;m++)$("#input_pins"+p[f].getType()).append('<span class="badge badge-pill">'+g[m]+"</span> ");for(var v=p[f].getOutputPins(),_=0;_<v.length;_++)$("#output_pins"+p[f].getType()).append('<span class="badge badge-pill">'+v[_]+"</span> ");$("#circuit_pins"+p[f].getType()).append('<span class="badge badge-pill">5V</span> '),$("#circuit_pins"+p[f].getType()).append('<span class="badge badge-pill">GND</span> ')}$("#tutorialModal .modal-footer").empty(),$("#tutorialModal .modal-footer").append('<button id="previous_tutorial_dialog" type="button" class="btn btn-default">'+MSG.tutorialMenu.previous+"</button>"),$("#tutorialModal .modal-footer").append('<button id="close_tutorial_dialog" type="button" class="btn btn-default" data-dismiss="modal">'+MSG.tutorialMenu.close+"</button>"),$("#previous_tutorial_dialog").click((function(){t.loadTutorialDialog(),t.addTutorialDialogEventHandlers()}))}},{key:"loadConnectorOverview",value:function(){var t=this;$("#tutorialModal .modal-header").text(MSG.tutorialMenu.catDwenguinoConnector),$("#tutorialModal .modal-body .message").empty(),$("#tutorialModal .modal-body .message").append('<div class="container"></div>'),$("#tutorialModal .modal-body .message .container").append('<div id="row1" class="row"></div>'),$("#tutorialModal .modal-body .message .container").append('<div id="row2" class="row"></div>'),$("#tutorialModal .modal-body .message .container").append('<div id="row3" class="row"></div>'),$("#row2").append('<div id="pin_mapping" class="col-lg-12 col-md-12 col-sm-12 col-xs-12"></div>'),$("#pin_mapping").append('<img src="'.concat(settings.basepath,'DwenguinoIDE/img/tutorials/pin_mapping.svg" class="img-fluid">')),$("#row3").append('<div id="connector_overview" class="col-lg-10 col-md-10 col-sm-10 col-xs-10"></div>'),$("#connector_overview").append('<img src="'.concat(settings.basepath,'DwenguinoIDE/img/tutorials/expansion_connector.svg" class="img-fluid">')),$("#tutorialModal .modal-footer").empty(),$("#tutorialModal .modal-footer").append('<button id="previous_tutorial_dialog" type="button" class="btn btn-default">'+MSG.tutorialMenu.previous+"</button>"),$("#tutorialModal .modal-footer").append('<button id="close_tutorial_dialog" type="button" class="btn btn-default" data-dismiss="modal">'+MSG.tutorialMenu.close+"</button>"),$("#previous_tutorial_dialog").click((function(){t.loadTutorialDialog(),t.addTutorialDialogEventHandlers()}))}},{key:"addTutorial",value:function(t,e){var n=this,i=$("<div>").attr("class","tutorial_item row").attr("id",t.id).attr("role","presentation");$("#tutorialModal_tutorials_menu").append(i),i.click((function(){n.eventLogger.tutorialId=t.id,n.tutorialId=t.id,n.tutorialCategory=t.category,n.eventLogger.tutorialIdSetting=t.id,t.initSteps(),hopscotch.configure({showPrevButton:"true"}),n.hideTutorialDialog(),hopscotch.startTour(t),n.eventLogger.recordEvent(n.eventLogger.createEvent(M.startTutorial,t.id))})),e?($("#"+t.id).append('<div class="fas fa-check c-6 col-auto"></div>'),$("#"+t.id).append('<div class="col-auto">'+t.label+"</div>")):($("#"+t.id).append('<div class="fas fa-times c-1 col-auto"></div>'),$("#"+t.id).append('<div class="col-auto">'+t.label+"</div>"))}},{key:"endTutorial",value:function(){var t=this.tutorialCategory;this.saveCompleteTutorial(this.tutorialId,this.tutorialCategory),this.eventLogger.tutorialId="",this.eventLogger.tutorialIdSetting="",this.tutorialId="",this.tutorialCategory="",this.eventLogger.recordEvent(this.eventLogger.createEvent(M.endTutorial,"")),this.loadTutorialsMenu(t),this.showTutorialDialog()}},{key:"saveCompleteTutorial",value:function(t,e){var n={tutorialId:t,category:e},i={type:"POST",url:s.getServerUrl()+"/tutorials/completeTutorial",data:n,retryLimit:1};$.ajax(i).fail((function t(e,n){i.retryLimit>0&&(i.retryLimit--,$.ajax({type:"POST",url:s.getServerUrl()+"/renewToken"}).done((function(e){$.ajax(i).fail(t)})).fail((function(t,e){console.log(e),console.warn("Failed to log in:",t)})))}))}}]),e}(),Ft=function(){function e(){t(this,e)}return r(e,[{key:"initCookiesInformation",value:function(){this.loadCookiesInformationDialog(),this.addCookiesInformationDialogEventHandlers(),this.showCookiesInformationDialog()}},{key:"loadCookiesInformationDialog",value:function(){$("#cookiesModal .modal-header").text(DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["whatAreCookiesTitle"]));var t='<button type="button" class="close" data-dismiss="modal" aria-label="'+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["close"])+'"><span aria-hidden="true">&times;</span></button>';$("#cookiesModal .modal-header").append(t),$("#cookiesModal .modal-body .message").empty(),$("#cookiesModal .modal-body .message").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["whatAreCookiesDescription1"])+"</p>"),$("#cookiesModal .modal-body .message").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["whatAreCookiesDescription2"])+"</p>"),$("#cookiesModal .modal-body .message").append("<h2>"+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["whatAreNecessaryCookiesTitle"])+"</h2>"),$("#cookiesModal .modal-body .message").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["whatAreNecessaryCookiesDescription"])+"</p>"),$("#cookiesModal .modal-body .message").append("<h2>"+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["whichCookiesTitle"])+"</h2>"),$("#cookiesModal .modal-body .message").append("<h3>"+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["dwengoCookieTitle"])+"</h3>"),$("#cookiesModal .modal-body .message").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["dwengoCookieDescription"])+"</p>"),$("#cookiesModal .modal-body .message").append("<h3>"+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["jenkinsCookieTitle"])+"</h3>"),$("#cookiesModal .modal-body .message").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["jenkinsCookieDescription"])+"</p>"),$("#cookiesModal .modal-footer").empty(),$("#cookiesModal .modal-footer").append('<button id="close_tutorial_dialog" type="button" class="btn btn-default" data-dismiss="modal">'+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["close"])+"</button>")}},{key:"addCookiesInformationDialogEventHandlers",value:function(){var t=this;$(".close").click((function(){t.hideTutorialDialog()}))}},{key:"showCookiesInformationDialog",value:function(){$("#cookiesModal").modal("show")}},{key:"hideCookiesInformationDialog",value:function(){$("#cookiesModal").modal("hide")}}]),e}();var jt=function(){function e(){t(this,e)}return r(e,null,[{key:"validateSchool",value:function(t){return""!==t?null:new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errSchool"]))}},{key:"validateId",value:function(t){for(var e=0;e<4;e++)if(null==t[e])return new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errId"]));return null}},{key:"validateFirstname",value:function(t){if(""==t)return new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errFirstname"]))}},{key:"validateSecretCode",value:function(t){if(""==t)return new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errSecretCode"]))}},{key:"validatePassword",value:function(t,e){if(""==t)return new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errPasswordRequirements"]));if(t.includes(e))return new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errPasswordRequirements"]));if(t.length<8)return new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errPasswordRequirements"]));var n=new Array;n.push("[$@$!%*#?&]"),n.push("[A-Z]"),n.push("[0-9]"),n.push("[a-z]");for(var i=0,o=0;o<n.length;o++)new RegExp(n[o]).test(t)&&i++;return 4!=i?new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errPasswordRequirements"])):void 0}},{key:"validatePasswords",value:function(t,e){if(t!=e)return new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errPasswordNotIdentical"]))}},{key:"validateEmail",value:function(t){if(""==t)return new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errEmail"]))}},{key:"validateAgeGroup",value:function(t){return void 0!==t?null:new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errAgeGroup"]))}},{key:"validateGender",value:function(t){return void 0!==t?null:new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errGender"]))}},{key:"validateActivityId",value:function(t){return""!==t?null:new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errActivityId"]))}},{key:"validateAcceptConditions",value:function(t){return t[0].checked?void 0:new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errAcceptConditions"]))}},{key:"validateResearchConditions",value:function(t){return t[0].checked?void 0:new Error(DwenguinoBlocklyLanguageSettings.translateFrom("validator",["errAcceptResearch"]))}},{key:"hasErrors",value:function(t){for(var e=t.length,n=0;n<e;n++)if(null!=t[n])return!0;return!1}}]),e}(),Ht=function(){function e(){t(this,e)}return r(e,null,[{key:"showDialog",value:function(){$("#loggingModal").modal("show")}},{key:"removeDialog",value:function(){$("div").remove("#loggingModal"),$(".modal-backdrop").remove()}},{key:"createLoggingModalDialog",value:function(t){e.removeDialog(),$("#db_body").append('<div id="loggingModal" class="modal fade" role="dialog"></div>'),$("#loggingModal").append('<div id="loggingModalDialog" class="modal-dialog"></div>'),$("#loggingModalDialog").append('<div id="loggingModalContent" class="modal-content"></div>'),$("#loggingModalContent").append('<div id="loggingModalHeader" class="modal-header"></div>'),$("#loggingModalContent").append('<div id="loggingModalBody" class="modal-body"></div>'),$("#loggingModalContent").append('<div id="loggingModalFooter" class="modal-footer"></div>'),$("#loggingModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#loggingModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>')}},{key:"createLoggingModalDialogWithoutFooter",value:function(t){e.removeDialog(),$("#db_body").append('<div id="loggingModal" class="modal fade" role="dialog"></div>'),$("#loggingModal").append('<div id="loggingModalDialog" class="modal-dialog"></div>'),$("#loggingModalDialog").append('<div id="loggingModalContent" class="modal-content"></div>'),$("#loggingModalContent").append('<div id="loggingModalHeader" class="modal-header"></div>'),$("#loggingModalContent").append('<div id="loggingModalBody" class="modal-body"></div>'),$("#loggingModalHeader").append('<h4 class="modal-title">'+t+"</h4>"),$("#loggingModalHeader").append('<button type="button" class="close" data-dismiss="modal">&times;</button>')}},{key:"showErrors",value:function(t){if($("div").remove("#loggingModalErrors"),$("#loggingModalBody").append('<div id="loggingModalErrors" class="mt-4"></div>'),t.length>0){var e=new Set;t.filter((function(t){if(void 0!==t){var n=e.has(t.message);return e.add(t.message),!n}return!0})).forEach((function(t){null!=t&&$("#loggingModalErrors").append("<p>"+t.message+"</p>")}))}}}]),e}(),Wt=function(){function e(n){t(this,e),this._loginMenu=n}return r(e,[{key:"showUserSettings",value:function(){var t=this;$.ajax({type:"GET",url:s.getServerUrl()+"/user"}).done((function(e){Ht.createLoggingModalDialog(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["settings"])),$("#loggingModalBody").append('<div id="nameRow" class="ui-widget row mb-4"></div>'),$("#nameRow").append('<div class="col-md-3"><p>'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["firstname"])+"</p></div>"),$("#nameRow").append('<div class="col-md-8"><p>'+e.firstname+"</p></div>"),$("#loggingModalBody").append('<div id="emailRow" class="ui-widget row mb-4"></div>'),$("#emailRow").append('<div class="col-md-3"><p>'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["email"])+"</p></div>"),$("#emailRow").append('<div class="col-md-8"><p>'+e.email+"</p></div>"),$("#loggingModalBody").append('<div id="roleRow" class="ui-widget row mb-4"></div>'),$("#roleRow").append('<div class="col-md-3"><p>'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["role"])+"</p></div>"),$("#roleRow").append('<div class="col-md-8"><p>'+e.role+"</p></div>"),$("#loggingModalBody").append('<div id="deleteAccountRow" class="ui-widget row mb-4"></div>'),$("#deleteAccountRow").append('<div class="col-md-4"><button class="btn btn-info" id="deleteAccount">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["deleteAccount"])+"</button></div>"),$("#deleteAccount").on("click",(function(e){t.deleteAccount()})),$("#loggingModalFooter").append('<button id="back_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["back"])+"</button>"),$("#back_modal_dialog_button").click((function(){t._loginMenu.createInitialMenu()})),Ht.showDialog()})).fail((function(e,n){Ht.createLoggingModalDialog(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["settings"])),$("#loggingModalFooter").append('<button id="back_modal_dialog_button" type="button" class="btn btn-default">'+MSG.logging.back+"</button>"),$("#back_modal_dialog_button").click((function(){t._loginMenu.createInitialMenu()})),Ht.showDialog()}))}},{key:"deleteAccount",value:function(){var t=this,e={type:"GET",url:s.getServerUrl()+"/user/delete",retryLimit:1};function n(){t._loginMenu.createInitialMenu()}$.ajax(e).done(n).fail((function t(i,o){e.retryLimit>0&&(e.retryLimit--,$.ajax({type:"POST",url:s.getServerUrl()+"/auth/renew"}).done((function(i){$.ajax(e).done(n).fail(t)})).fail((function(t,e){console.log(e)})))}))}}]),e}(),zt=function(){function n(e){t(this,n),this._loginMenu=e,this._userPrograms=new Array}return r(n,[{key:"showUserPrograms",value:function(){var t=this;Ht.createLoggingModalDialog(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["myPrograms"])),$("#loggingModalBody").append('<div id="saveProgramsGrid" class="container"></div>'),$("#saveProgramsGrid").append('<form id="saveProgram"></form>'),$("#saveProgram").append('<div id="saveProgramHeader" class="ui-widget row row-header pt-2 pb-2 mt-2 mb-2"></div>'),$("#saveProgramHeader").append('<div class="col-auto">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["saveCurrentProgram"])+"</div>"),$("#saveProgram").append('<div id="nameInput" class="ui-widget row mb-4"></div>'),$("#nameInput").append('<label for="nameTag" class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["programName"])+"</label>"),$("#nameInput").append('<input id="nameTag" name="nameTag" class="col-md-4" placeholder="myprogram">'),$("#nameInput").append('<button id="save_program_button" type="button" class="btn btn-info col-md-2">'+DwenguinoBlocklyLanguageSettings.translate(["save"])+"</button>"),$("#save_program_button").click((function(){t.saveCurrentProgram()})),$("#loggingModalBody").append('<div id="programsGrid" class="container"></div>');var n={type:"GET",url:s.getServerUrl()+"/user/programs",retryLimit:1};function i(n){$("#programsGrid").append('<div id="programsRow" class="ui-widget row row-header pt-2 pb-2 mt-2 mb-2"></div>'),$("#programsRow").append('<div class="col-md-5">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["programName"])+"</div>"),$("#programsRow").append('<div class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translate(["delete"])+"</div>"),$("#programsRow").append('<div class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translate(["restore"])+"</div>"),$("#programsRow").append('<div class="col-md-1"><i class="fa fa-download"></i></div>'),t._userPrograms=n,$.each(n,(function(n,i){$("#programsGrid").append('<div id="programsRow'+n+'" class="ui-widget row row-striped pt-2 pb-2"></div>'),$("#programsRow"+n).append('<div class="col-md-5"><i class="fa fa-edit pr-1"></i><div id="nameProgram'+n+'" contenteditable="true" class="nameProgram">'+i.program_name+"</div>"),$("#programsRow"+n).append('<div class="col-md-3"><button class="btn btn-info" id="deleteProgram'+n+'">'+DwenguinoBlocklyLanguageSettings.translate(["delete"])+"</button></div>"),$("#programsRow"+n).append('<div class="col-md-3"><button  class="btn btn-info" id="restoreProgram'+n+'">'+DwenguinoBlocklyLanguageSettings.translate(["open"])+"</button></div>"),$("#programsRow"+n).append('<div class="col-md-1"><i id="downloadProgram'+n+'" class="fa fa-download button text-info"></i></div>'),$("#restoreProgram"+n).on("click",(function(e){var n=e.target.id.replace(/\D/g,"");t.restoreProgram(n)})),$("#deleteProgram"+n).on("click",(function(e){var n=e.target.id.replace(/\D/g,"");t.deleteProgram(n)})),$("#editProgram"+n).on("click",(function(e){var n=e.target.id.replace(/\D/g,"");t.editProgram(n)})),$("#downloadProgram"+n).on("click",(function(e){var n=e.target.id.replace(/\D/g,"");t.downloadProgram(n)})),$("#nameProgram"+n).on("keydown",(function(n){if(13==n.keyCode){var i=n.target.id,o=i.replace(/\D/g,""),r=$("#"+i).html();t.updateProgramName(o,r),e.preventDefault()}})),$("#nameProgram"+n).on("blur",(function(n){var i=n.target.id,o=i.replace(/\D/g,""),r=$("#"+i).html();t.updateProgramName(o,r),e.preventDefault()}))})),$("#loggingModalFooter").append('<button id="back_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["back"])+"</button>"),$("#back_modal_dialog_button").click((function(){t._loginMenu.createInitialMenu()})),Ht.showDialog()}$.ajax(n).done(i).fail((function e(o,r){n.retryLimit>0&&(n.retryLimit--,$.ajax({type:"POST",url:s.getServerUrl()+"/auth/renew"}).done((function(t){$.ajax(n).done(i).fail(e)})).fail((function(e,n){console.log(n),console.warn("Failed to log in:",e),$("#loggingModalFooter").append('<button id="back_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["back"])+"</button>"),$("#back_modal_dialog_button").click((function(){t._loginMenu.createInitialMenu()})),Ht.showDialog()})))}))}},{key:"updateUserPrograms",value:function(){var t=this,n={type:"GET",url:s.getServerUrl()+"/user/programs",retryLimit:1};function i(n){$("#programsGrid").empty(),$("#programsGrid").append('<div id="programsRow" class="ui-widget row row-header pt-2 pb-2 mt-2 mb-2"></div>'),$("#programsRow").append('<div class="col-md-5">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["programName"])+"</div>"),$("#programsRow").append('<div class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translate(["delete"])+"</div>"),$("#programsRow").append('<div class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translate(["restore"])+"</div>"),$("#programsRow").append('<div class="col-md-1"><i class="fa fa-download"></i></div>'),t._userPrograms=n,$.each(n,(function(n,i){$("#programsGrid").append('<div id="programsRow'+n+'" class="ui-widget row row-striped pt-2 pb-2"></div>'),$("#programsRow"+n).append('<div class="col-md-5"><i class="fa fa-edit pr-1"></i><div id="nameProgram'+n+'" contenteditable="true" class="nameProgram">'+i.program_name+"</div>"),$("#programsRow"+n).append('<div class="col-md-3"><button id="deleteProgram'+n+'" class="btn btn-info">'+DwenguinoBlocklyLanguageSettings.translate(["delete"])+"</button></div>"),$("#programsRow"+n).append('<div class="col-md-3"><button id="restoreProgram'+n+'"  class="btn btn-info">'+DwenguinoBlocklyLanguageSettings.translate(["open"])+"</button></div>"),$("#programsRow"+n).append('<div class="col-md-1"><i id="downloadProgram'+n+'" class="fa fa-download button text-info"></i></div>'),$("#restoreProgram"+n).on("click",(function(e){var n=e.target.id.replace(/\D/g,"");t.restoreProgram(n)})),$("#deleteProgram"+n).on("click",(function(e){var n=e.target.id.replace(/\D/g,"");t.deleteProgram(n)})),$("#editProgram"+n).on("click",(function(e){var n=e.target.id.replace(/\D/g,"");t.editProgram(n)})),$("#downloadProgram"+n).on("click",(function(e){var n=e.target.id.replace(/\D/g,"");t.downloadProgram(n)})),$("#nameProgram"+n).on("keydown",(function(n){if(13==n.keyCode){var i=n.target.id,o=i.replace(/\D/g,""),r=$("#"+i).html();t.updateProgramName(o,r),e.preventDefault()}})),$("#nameProgram"+n).on("blur",(function(n){var i=n.target.id,o=i.replace(/\D/g,""),r=$("#"+i).html();t.updateProgramName(o,r),e.preventDefault()}))}))}$.ajax(n).done(i).fail((function t(e,o){n.retryLimit>0&&(n.retryLimit--,$.ajax({type:"POST",url:s.getServerUrl()+"/auth/renew"}).done((function(e){$.ajax(n).done(i).fail(t)})).fail((function(t,e){console.log(e),console.warn("Failed to log in:",t)})))}))}},{key:"saveCurrentProgram",value:function(){var t=this,e=$("input[name=nameTag]").val(),n=Blockly.Xml.workspaceToDom(Vt.workspace),i={program_name:e,program:Blockly.Xml.domToText(n)},o={type:"POST",url:s.getServerUrl()+"/user/saveProgram",headers:{"Content-Type":"application/json"},data:JSON.stringify(i),retryLimit:1};function r(e){t.showUserPrograms()}$.ajax(o).done(r).fail((function e(n,i){o.retryLimit>0&&(o.retryLimit--,$.ajax({type:"POST",url:s.getServerUrl()+"/auth/renew"}).done((function(t){$.ajax(o).done(r).fail(e)})).fail((function(e,n){console.log(n),console.warn("Failed to save program:",e),t.showUserPrograms()})))}))}},{key:"restoreProgram",value:function(t){var e=Blockly.Xml.textToDom(this._userPrograms[t].program);Blockly.Xml.domToWorkspace(e,Vt.workspace)}},{key:"deleteProgram",value:function(t){var e=this,n={type:"POST",url:s.getServerUrl()+"/user/deleteProgram",headers:{"Content-Type":"application/json"},data:JSON.stringify(this._userPrograms[t]),retryLimit:1};function i(t){e.showUserPrograms()}$.ajax(n).done(i).fail((function t(o,r){n.retryLimit>0&&(n.retryLimit--,$.ajax({type:"POST",url:s.getServerUrl()+"/auth/renew"}).done((function(e){$.ajax(n).done(i).fail(t)})).fail((function(t,n){console.log(n),console.warn("Failed to save program:",t),e.showUserPrograms()})))}))}},{key:"updateProgramName",value:function(t,e){var n=this;this._userPrograms[t].program_name=e;var i={type:"POST",url:s.getServerUrl()+"/user/updateProgramName",headers:{"Content-Type":"application/json"},data:JSON.stringify(this._userPrograms[t]),retryLimit:1};function o(t){n.updateUserPrograms()}$.ajax(i).done(o).fail((function t(e,r){i.retryLimit>0&&(i.retryLimit--,$.ajax({type:"POST",url:s.getServerUrl()+"/auth/renew"}).done((function(e){$.ajax(i).done(o).fail(t)})).fail((function(t,e){console.log(e),console.warn("Failed to save program:",t),n.updateUserPrograms()})))}))}},{key:"editProgram",value:function(t){}},{key:"downloadProgram",value:function(t){var e=Blockly.Xml.workspaceToDom(Vt.workspace),n=Blockly.Xml.domToText(e);localStorage.workspaceXml=n;var i=this._userPrograms[t].program_name.replace(/[/\\?%*:|"<> ]/g,"_");Vt.download(i+".xml",n)}}]),n}(),Ut=function(){function e(){t(this,e),this._userSettingsModal=new Wt(this),this._userProgramsModal=new zt(this)}return r(e,[{key:"createInitialMenu",value:function(){Ht.createLoggingModalDialogWithoutFooter(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["login"]));$("#loggingModalBody").append('<div id="user_info"></div>'),$("#loggingModalBody").append('<div id="authentication_menu" class="tutorial_categories_wrapper"></div>'),this.addUserInfoPanel("user_info"),this.addAuthenticationPanel("authentication_menu"),Ht.showDialog()}},{key:"addUserInfoPanel",value:function(t){$.ajax({type:"GET",url:s.getServerUrl()+"/user"}).done((function(e){var n=e.firstname;$("#"+t).append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["hello"])+n+"</p>")})).fail((function(e,n){403==e.status?$.ajax({type:"POST",url:s.getServerUrl()+"/auth/renew"}).done((function(e){$.ajax({type:"GET",url:s.getServerUrl()+"/user"}).done((function(e){var n=e.firstname;$("#"+t).append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["hello"])+n+"</p>")})).fail((function(t,e){console.log(e,t)}))})).fail((function(t,e){console.log(e,t)})):401==e.status||console.log(n,e)}))}},{key:"addAuthenticationPanel",value:function(t){var e=this;$.ajax({type:"GET",url:s.getServerUrl()+"/user"}).done((function(n){$("#"+t).append('<div id="authentication_programs" class="tutorial_categories_item card"></div>'),$("#authentication_programs").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["myPrograms"])+"</div>"),$("#authentication_programs").append('<div id="authentication_programs_img"></div>'),$("#authentication_programs").on("click",(function(){e._userProgramsModal.showUserPrograms()})),$("#"+t).append('<div id="authentication_settings" class="tutorial_categories_item card"></div>'),$("#authentication_settings").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["settings"])+"</div>"),$("#authentication_settings").append('<div id="authentication_settings_img"></div>'),$("#authentication_settings").on("click",(function(){e._userSettingsModal.showUserSettings()})),$("#"+t).append('<div id="authentication_logout" class="tutorial_categories_item card"></div>'),$("#authentication_logout").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["logout"])+"</div>"),$("#authentication_logout").append('<div id="logout_img"></div>'),$("#authentication_logout").on("click",(function(){e.logout()}))})).fail((function(n,i){403==n.status?$.ajax({type:"POST",url:s.getServerUrl()+"/auth/renew"}).done((function(n){$.ajax({type:"GET",url:s.getServerUrl()+"/user"}).done((function(n){$("#"+t).append('<div id="authentication_programs" class="tutorial_categories_item card"></div>'),$("#authentication_programs").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["myPrograms"])+"</div>"),$("#authentication_programs").append('<div id="authentication_programs_img"></div>'),$("#authentication_programs").click((function(){e._userProgramsModal.showUserPrograms()})),$("#"+t).append('<div id="authentication_settings" class="tutorial_categories_item card"></div>'),$("#authentication_settings").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["settings"])+"</div>"),$("#authentication_settings").append('<div id="authentication_settings_img"></div>'),$("#authentication_settings").click((function(){e._userSettingsModal.showUserSettings()})),$("#"+t).append('<div id="authentication_logout" class="tutorial_categories_item card"></div>'),$("#authentication_logout").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["logout"])+"</div>"),$("#authentication_logout").append('<div id="logout_img"></div>'),$("#authentication_logout").click((function(){e.logout()}))})).fail((function(n,i){$("#"+t).append('<div id="authentication_new_user" class="tutorial_categories_item card"></div>'),$("#authentication_new_user").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["newuser"])+"</div>"),$("#authentication_new_user").append('<div id="new_user_img"></div>'),$("#"+t).append('<div id="authentication_existing_user" class="tutorial_categories_item card"></div>'),$("#authentication_existing_user").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["login"])+"</div>"),$("#authentication_existing_user").append('<div id="school_user_img"></div>'),$("#authentication_new_user").click((function(){e.createUserMenu()})),$("#authentication_existing_user").click((function(){e.createLoginMenu()}))}))})).fail((function(n,i){$("#"+t).append('<div id="authentication_new_user" class="tutorial_categories_item card"></div>'),$("#authentication_new_user").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["newuser"])+"</div>"),$("#authentication_new_user").append('<div id="new_user_img"></div>'),$("#"+t).append('<div id="authentication_existing_user" class="tutorial_categories_item card"></div>'),$("#authentication_existing_user").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["login"])+"</div>"),$("#authentication_existing_user").append('<div id="school_user_img"></div>'),$("#authentication_new_user").click((function(){e.createUserMenu()})),$("#authentication_existing_user").click((function(){e.createLoginMenu()}))})):($("#"+t).append('<div id="authentication_new_user" class="tutorial_categories_item card"></div>'),$("#authentication_new_user").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["newuser"])+"</div>"),$("#authentication_new_user").append('<div id="new_user_img"></div>'),$("#"+t).append('<div id="authentication_existing_user" class="tutorial_categories_item card"></div>'),$("#authentication_existing_user").append('<div class="category_tag">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["login"])+"</div>"),$("#authentication_existing_user").append('<div id="school_user_img"></div>'),$("#authentication_new_user").click((function(){e.createUserMenu()})),$("#authentication_existing_user").click((function(){e.createLoginMenu()})))}))}},{key:"createLoginMenu",value:function(){var t=this;Ht.createLoggingModalDialog(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["login"])),$("#loggingModalBody").append('<form id="loginUser"></form>'),$("#loginUser").append('<div id="inputEmail" class="ui-widget row mb-4"></div>'),$("#inputEmail").append('<label for="emailTag" class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["email"])+"</label>"),$("#inputEmail").append('<input id="emailTag" name="emailTag" class="col-md-8" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterEmail"])+'">'),$("#loginUser").append('<div id="inputPassword" class="ui-widget row mb-4"></div>'),$("#inputPassword").append('<label for="passwordTag" class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["password"])+"</label>"),$("#inputPassword").append('<input id="passwordTag" name="passwordTag" type="password" autocomplete="current-password" class="col-md-8" maxLength="64" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterPassword"])+'">'),$("#loggingModalBody").append('<button id="forgot_password_modal_dialog_button" type="button" class="btn btn-default mt-4">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["forgotPassword"])+"</button>"),$("#loggingModalFooter").append('<button id="back_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["back"])+"</button>"),$("#loggingModalFooter").append('<button id="submit_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["ok"])+"</button>"),Ht.showDialog(),$("#forgot_password_modal_dialog_button").click((function(){t.forgotPassword()})),$("#back_modal_dialog_button").click((function(){t.createInitialMenu()})),$("#submit_modal_dialog_button").click((function(){var e=[],n=$("input[name=emailTag]").val(),i=$("input[name=passwordTag]").val();e.push(jt.validateEmail(n)),e.push(jt.validatePassword(i)),jt.hasErrors(e)?Ht.showErrors(e):t.login()}))}},{key:"forgotPassword",value:function(){var t=this;Ht.createLoggingModalDialog(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["forgotPassword"])),$("#loggingModalBody").append('<form id="forgotPassword"></form>'),$("#forgotPassword").append('<div id="inputEmail" class="ui-widget row mb-4"></div>'),$("#inputEmail").append('<label for="emailTag" class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["email"])+"</label>"),$("#inputEmail").append('<input id="emailTag" name="emailTag" class="col-md-8" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterEmail"])+'">'),$("#loggingModalFooter").append('<button id="back_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["back"])+"</button>"),$("#loggingModalFooter").append('<button id="submit_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["ok"])+"</button>"),Ht.showDialog(),$("#back_modal_dialog_button").click((function(){t.createLoginMenu()})),$("#submit_modal_dialog_button").click((function(){var e=[],n=$("input[name=emailTag]").val();e.push(jt.validateEmail(n)),jt.hasErrors(e)?Ht.showErrors(e):t.sendPasswordResetCode()}))}},{key:"sendPasswordResetCode",value:function(){var t=this,e={email:$("input[name=emailTag]").val()};$.ajax({type:"POST",url:s.getServerUrl()+"/getPasswordResetCode",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)}).done((function(e){t.showResetPasswordScreen()})).fail((function(e,n){t.createLoggingModalDialog(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["forgotPassword"])),$("#loggingModalBody").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["userDoesNotExist"])+"</p>"),$("#loggingModalFooter").append('<button id="back_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["back"])+"</button>"),$("#loggingModalFooter").append('<button id="submit_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["ok"])+"</button>"),$("#loggingModal").modal("show"),$("#back_modal_dialog_button").click((function(){t.sendPasswordResetCode()})),$("#submit_modal_dialog_button").click((function(){Ht.removeDialog()}))}))}},{key:"showResetPasswordScreen",value:function(){var t=this;Ht.createLoggingModalDialog(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["resetPassword"])),$("#loggingModalBody").append('<form id="resetPassword"></form>'),$("#resetPassword").append('<div id="inputEmail" class="ui-widget row mb-4"></div>'),$("#inputEmail").append('<label for="emailTag" class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["email"])+"</label>"),$("#inputEmail").append('<input id="emailTag" name="emailTag" autocomplete="username" class="col-md-8" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterEmail"])+'">'),$("#resetPassword").append('<div id="inputSecretCode" class="ui-widget row mb-4"></div>'),$("#inputSecretCode").append('<label for="secretCodeTag" class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["secretCode"])+"</label>"),$("#inputSecretCode").append('<input id="secretCodeTag" name="secretCodeTag" class="col-md-8" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterSecretCode"])+'">'),$("#resetPassword").append('<div id="inputPassword1" class="ui-widget row mb-4"></div>'),$("#inputPassword1").append('<label for="passwordTag1" class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["password"])+"</label>"),$("#inputPassword1").append('<input id="passwordTag1" name="passwordTag1" type="password" autocomplete="new-password" class="col-md-8" maxLength="64" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterPassword"])+'">'),$("#resetPassword").append('<div id="inputPassword2" class="ui-widget row mb-4"></div>'),$("#inputPassword2").append('<label for="passwordTag2" class="col-md-3">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["password"])+"</label>"),$("#inputPassword2").append('<input id="passwordTag2" name="passwordTag2" type="password" autocomplete="new-password" class="col-md-8" maxLength="64" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterPassword"])+'">'),$("#loggingModalFooter").append('<button id="submit_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["ok"])+"</button>"),Ht.showDialog(),$("#submit_modal_dialog_button").click((function(){var e=[],n=$("input[name=emailTag]").val(),i=$("input[name=secretCodeTag]").val(),o=$("input[name=passwordTag1]").val(),r=$("input[name=passwordTag2]").val();e.push(jt.validateEmail(n)),e.push(jt.validateSecretCode(i)),e.push(jt.validatePasswords(o,r)),e.push(jt.validatePassword(o,n)),e.push(jt.validatePassword(r,n)),jt.hasErrors(e)?Ht.showErrors(e):t.resetPassword()}))}},{key:"resetPassword",value:function(){var t={email:$("input[name=emailTag]").val(),secretCode:$("input[name=secretCodeTag]").val(),password:$("input[name=passwordTag1]").val(),repeated_password:$("input[name=passwordTag2]").val()};$.ajax({type:"POST",url:s.getServerUrl()+"/resetPassword",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)}).done((function(t){Ht.removeDialog()})).fail((function(t,e){console.log("Failed to register:",e),console.log(t)}))}},{key:"login",value:function(){var t=this,e={email:$("input[name=emailTag]").val(),password:$("input[name=passwordTag]").val()};$.ajax({type:"POST",url:s.getServerUrl()+"/login",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)}).done((function(e){t.createInitialMenu()})).fail((function(t,n){var i;console.warn("Failed to log in:",n),i=t.responseJSON.error.map((function(t){return"userNotActive"==t?{message:'<a id="resendLink" href="#">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",[t])+"</a>"}:{message:"<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("logging",[t])+"</p>"}})),Ht.showErrors(i),$("#resendLink").click((function(){$.ajax({type:"POST",url:s.getServerUrl()+"/resendActivationLink",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)}).done((function(t){var e=[{message:DwenguinoBlocklyLanguageSettings.translateFrom("logging",["verificationSentTo"])}];Ht.showErrors(e)})).fail((function(t,e){console.log(t)}))}))}))}},{key:"logout",value:function(){$.ajax({type:"POST",url:s.getServerUrl()+"/logout"}).done((function(t){Ht.removeDialog()})).fail((function(t,e){Ht.removeDialog()}))}},{key:"createUserMenu",value:function(){var t=this;Ht.createLoggingModalDialog(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["newuser"])),$("#loggingModalBody").append('<form id="registerUser"></form>'),$("#registerUser").append('<div id="registerUserConditions"></div>'),$("#registerUserConditions").append("<h3>"+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["conditions"])+"</h3>"),$("#registerUserConditions").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["conditions1"])+"</p>"),$("#registerUserConditions").append('<ul><li><a href="#">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["generalConditions"])+'</a></li><li><a href="#">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["privacyStatement"])+"</a></li></ul>"),$("#registerUserConditions").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["conditions2"])+"</p>"),$("#registerUserConditions").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["conditions3"])+"</p>"),$("#registerUserConditions").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["conditions4"])+"</p>"),$("#registerUserConditions").append('<div id="acceptConditions" class="ui-widget row mb-4"></div>'),$("#acceptConditions").append('<input type="checkbox" name="acceptConditionsCheckbox" id="acceptConditionsCheckbox" class="col-md-1">'),$("#acceptConditions").append('<label id="acceptConditionsLabel" for="acceptConditionsCheckbox" class="col-md-11">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["acceptConditions"])+"</label>"),$("#registerUserConditions").append('<div id="acceptResearch" class="ui-widget row mb-4"></div>'),$("#acceptResearch").append('<input type="checkbox" name="acceptResearchCheckbox" id="acceptResearchCheckbox" class="col-md-1">'),$("#acceptResearch").append('<label id="acceptResearchLabel" for="acceptResearchCheckbox" class="col-md-11">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["acceptResearch"])+"</label>"),$("#loggingModalFooter").append('<button id="continue_logging_modal" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["continue"])+"</button>"),Ht.showDialog(),$("#continue_logging_modal").click((function(){var e=[],n=$("input[name=acceptConditionsCheckbox]"),i=$("input[name=acceptResearchCheckbox]");e.push(jt.validateAcceptConditions(n)),e.push(jt.validateResearchConditions(i)),jt.hasErrors(e)?Ht.showErrors(e):(Ht.showErrors([]),$("#registerUserConditions").hide(),$("#continue_logging_modal").remove(),t.showRegistrationForm())}))}},{key:"showRegistrationForm",value:function(){var t=this;$("#registerUser").append('<div id="inputFirstname" class="ui-widget row mb-4"></div>'),$("#inputFirstname").append('<label for="firstnameTag" class="col-md-4">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["firstname"])+"</label>"),$("#inputFirstname").append('<input id="firstnameTag" name="firstnameTag" class="col-md-7" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterFirstname"])+'">'),$("#registerUser").append('<div id="inputEmail" class="ui-widget row mb-4"></div>'),$("#inputEmail").append('<label for="emailTag" class="col-md-4">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["email"])+"</label>"),$("#inputEmail").append('<input id="emailTag" name="emailTag" autocomplete="username" class="col-md-7" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterEmail"])+'">'),$("#registerUser").append('<div id="inputPassword1" class="ui-widget row mb-4"></div>'),$("#inputPassword1").append('<label for="passwordTag1" class="col-md-4">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["password"])+"</label>"),$("#inputPassword1").append('<input id="passwordTag1" name="passwordTag1" type="password" autocomplete="new-password" class="col-md-7" maxLength="64" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterPassword"])+'">'),$("#registerUser").append('<div id="inputPassword2" class="ui-widget row mb-4"></div>'),$("#inputPassword2").append('<label for="passwordTag2" class="col-md-4">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["repeatedPassword"])+"</label>"),$("#inputPassword2").append('<input id="passwordTag2" name="passwordTag2" type="password" autocomplete="new-password" class="col-md-7" maxLength="64" placeholder="'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["enterRepeatedPassword"])+'">');var e={student:DwenguinoBlocklyLanguageSettings.translateFrom("logging",["student"]),teacher:DwenguinoBlocklyLanguageSettings.translateFrom("logging",["teacher"])};$("#registerUser").append('<div id="inputRole" class="ui-widget row mb-4">'),$("#inputRole").append('<label for="roleTag" class="col-md-4">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["role"])+"</label>"),$("#inputRole").append('<select id="roleTag" name="roleTag" class="col-md-7"></select>'),$.each(e,(function(t,e){$("#roleTag").append($("<option></option>").val(t).html(e))})),$("#loggingModalFooter").append('<button id="submit_modal_dialog_button" type="button" class="btn btn-default">'+DwenguinoBlocklyLanguageSettings.translateFrom("logging",["ok"])+"</button>"),$("#submit_modal_dialog_button").click((function(){var e=[],n=$("input[name=acceptConditionsCheckbox]"),i=$("input[name=acceptResearchCheckbox]"),o=$("input[name=firstnameTag]").val(),r=$("input[name=emailTag]").val(),a=$("input[name=passwordTag1]").val(),s=$("input[name=passwordTag2]").val();e.push(jt.validateAcceptConditions(n)),e.push(jt.validateResearchConditions(i)),e.push(jt.validateFirstname(o)),e.push(jt.validateEmail(r)),e.push(jt.validatePasswords(a,s)),e.push(jt.validatePassword(a,r)),e.push(jt.validatePassword(s,r)),jt.hasErrors(e)?Ht.showErrors(e):(Ht.showErrors([]),t.registerUser())}))}},{key:"registerUser",value:function(){var t=this,e=$("input[name=acceptConditionsCheckbox]")[0].checked,n=$("input[name=acceptResearchCheckbox]")[0].checked,i={firstname:$("input[name=firstnameTag]").val(),email:$("input[name=emailTag]").val(),password:$("input[name=passwordTag1]").val(),repeated_password:$("input[name=passwordTag2]").val(),role:$("select[name=roleTag]").val(),accept_conditions:e,accept_research:n};$.ajax({type:"POST",url:s.getServerUrl()+"/register",headers:{"Content-Type":"application/json"},data:JSON.stringify(i)}).done((function(e){Ht.removeDialog(),t.showVerificationScreen()})).fail((function(t,e){console.log("Failed to register:",e),401==t.status&&"userAlreadyExists"==t.responseJSON.error&&Ht.showErrors([{message:DwenguinoBlocklyLanguageSettings.translateFrom("logging",["userAlreadyExists"])}])}))}},{key:"showVerificationScreen",value:function(){Ht.createLoggingModalDialogWithoutFooter(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["verification"])),$("#loggingModalBody").append('<p id="loggingModalBody1"></p>'),$("#loggingModalBody1").text(DwenguinoBlocklyLanguageSettings.translateFrom("logging",["verificationSentTo"])),Ht.showDialog()}}]),e}();i(734),window.$=window.jQuery=R;var Yt={basepath:settings.basepath,simButtonStateClicked:!1,workspace:null,recording:"",simulatorState:"off",xmlLoadedFromFile:"",xmlFromScenario:"",logger:null,simulationEnvironment:null,cookiesInformation:null,loginMenu:null,tutorialMenu:null,fileIOController:null,compilationPath:"",initDwenguinoBlockly:function(t){$.ajax({url:"http://localhost:12032/utilities/getEnvironment",dataType:"text",type:"get",success:function(t,e,n){console.log("succes"),Yt.compilationPath="http://localhost:12032/utilities/getDwenguinoBinary"},error:function(t,e,n){Yt.compilationPath=s.getServerUrl()+"/utilities/getDwenguinoBinary",console.log(n)}}),this.workspace=t,this.setWorkspaceBlockFromXml('<xml id="startBlocks" style="display: none">'+document.getElementById("startBlocks").innerHTML+"</xml>"),this.fileIOController=new gt,this.logger=new l,this.logger.init();var e=this;this.cookiesInformation=new Ft,Yt.displayCookieConsent(),this.loginMenu=new Ut,this.tutorialMenu=new Nt(this.logger),this.simulationEnvironment=new Ct(this.logger,this.workspace),Yt.recording=window.sessionStorage.loadOnceRecording||"",delete window.sessionStorage.loadOnceRecording,$("#db_menu_item_dwengo_robot_teacher_image").click((function(){e.loginMenu.createInitialMenu()})),$("#db_blockly").resizable({handles:"e"}),$("#db_blockly").resize((function(){Yt.onresize(),Blockly.svgResize(Yt.workspace)})),$("#db_menu_item_simulator").click((function(){Yt.toggleSimulator()})),Yt.toggleSimulator(),$("#db_menu_item_run").click((function(){Blockly.Arduino.emptySetup();var t=Blockly.Arduino.workspaceToCode(Yt.workspace);Yt.downloadDwenguinoBinaryHandler(t)})),$("#db_menu_item_upload").click((function(){if(window.File&&window.FileReader&&window.FileList&&window.Blob){console.log("yay, files supported"),$("#dropzoneModal .modal-header").empty(),$("#dropzoneModal .modal-header").append('<h4 class="modal-title">'+DwenguinoBlocklyLanguageSettings.translateFrom("dropzone",["dictUploadBlocks"])+"</h4>"),$("#dropzoneModal .modal-header").append('<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>'),$("#dropzoneModal .modal-body .message").empty(),$("#dropzoneModal .modal-body .message").append("<p>"+DwenguinoBlocklyLanguageSettings.translateFrom("dropzone",["dictSelectFile"])+"</p>"),$("#dropzoneModal .modal-body .message").append('<label for="fileInput" class="form-label">'+DwenguinoBlocklyLanguageSettings.translateFrom("dropzone",["dictChooseFile"])+'</label><input type="file" id="fileInput" class="form-control">'),$("#dropzoneModal .modal-body .message").append('<div id="filedrag">'+DwenguinoBlocklyLanguageSettings.translateFrom("dropzone",["dictDefaultMessage"])+"</div>"),$("#dropzoneModal .modal-body .message").append('<pre id="fileDisplayArea"></pre>'),$("#dropzoneModal .modal-footer").empty(),$("#dropzoneModal .modal-footer").append('<button id="submit_upload_modal_dialog_button" type="button" class="btn btn-default" data-dismiss="modal">Ok</button>'),$("#dropzoneModal").modal("show");var t=function(t){if(t.type.match(/text.*/)){var e=new FileReader;e.onload=function(i){n.innerText=t.name,Yt.xmlLoadedFromFile=e.result},e.readAsText(t)}else n.innerText=DwenguinoBlocklyLanguageSettings.translateFrom("dropzone",["dictFileNotSupported"])},e=document.getElementById("fileInput"),n=document.getElementById("fileDisplayArea");console.log(e),e.addEventListener("change",(function(n){console.log("file input changed");var i=e.files[0];t(i)}));var i=function(t){t.stopPropagation(),t.preventDefault(),t.target.className="dragover"==t.type?"hover":""},o=document.getElementById("filedrag");o.addEventListener("dragover",i,!1),o.addEventListener("dragleave",i,!1),o.addEventListener("drop",(function(e){i(e);var n=(e.target.files||e.dataTransfer.files)[0];t(n)}),!1),o.style.display="block",$("#submit_upload_modal_dialog_button").click((function(){Yt.restoreFromXml(Blockly.Xml.textToDom(Yt.xmlLoadedFromFile))}))}else alert("The File APIs are not fully supported in this browser.")})),$("#db_menu_item_download").click((function(){var t=Blockly.Xml.workspaceToDom(Yt.workspace),n=Blockly.Xml.domToText(t);console.debug(n),localStorage.workspaceXml=n,Yt.download("blocks.xml",n);var i="",o="";try{i=Blockly.JavaScript.workspaceToCode(Yt.workspace)}catch(t){i="invalid code"}try{o=Blockly.Python.workspaceToCode(Yt.workspace)}catch(t){o="invalid code"}var r={xmlCode:n,javascriptCode:i,pythonCode:o},a=e.logger.createEvent(M.downloadClicked,r);Yt.logger.recordEvent(a)})),$("#db_menu_item_clear").click((function(){Yt.simulationEnvironment.stop(),Yt.downloadDwenguinoBinaryHandlerAjax('#include <Wire.h>\n#include <Dwenguino.h>\n#include <LiquidCrystal.h>\n\nvoid setup(){\ninitDwenguino();\ndwenguinoLCD.setCursor(2,0);\ndwenguinoLCD.print(String("WeGoSTEM ;)"));\n}\n\nvoid loop(){}\n')})),$("#blocklyDiv").click((function(){Yt.simulationEnvironment.stop()})),Yt.workspace.addChangeListener((function(t){console.log("blockly event");var e="",n="",i="";try{n=Blockly.JavaScript.workspaceToCode(Yt.workspace)}catch(t){n="invalid code"}try{i=Blockly.Python.workspaceToCode(Yt.workspace)}catch(t){i="invalid code"}if("create"==t.type){var o={xmlCodeChanged:Blockly.Xml.domToText(t.xml),ids:t.ids,javascriptCode:n,pythonCode:i};e=Yt.logger.createEvent(M.blocklyBlockCreate,o),Yt.logger.recordEvent(e)}else"delete"==t.type?(o={xmlCodeChanged:Blockly.Xml.domToText(t.oldXml),ids:t.ids,javascriptCode:n,pythonCode:i},e=Yt.logger.createEvent(M.blocklyBlockDelete,o),Yt.logger.recordEvent(e)):"move"==t.type?(o={oldParentId:t.oldParentId,oldInputName:t.oldInputName,oldCoordinate:t.oldCoordinate,newParentId:t.newParentId,newInputName:t.newInputName,newCoordinate:t.newCoordinate,javascriptCode:n,pythonCode:i},e=Yt.logger.createEvent(M.blocklyBlockMove,o),Yt.logger.recordEvent(e)):"createVar"==t.type?(o={varType:t.varType,varName:t.varName,varId:t.varId,javascriptCode:n,pythonCode:i},e=Yt.logger.createEvent(M.blocklyVarCreate,o),Yt.logger.recordEvent(e)):"deleteVar"==t.type?(o={varType:t.varType,varName:t.varName,varId:t.varId,javascriptCode:n,pythonCode:i},e=Yt.logger.createEvent(M.blocklyVarDelete,o),Yt.logger.recordEvent(e)):t.type==Blockly.Events.VAR_RENAME?(o={oldName:t.oldName,newName:t.newName,varId:t.varId,javascriptCode:n,pythonCode:i},e=Yt.logger.createEvent(M.blocklyVarRename,o),Yt.logger.recordEvent(e)):t.type==Blockly.Events.UI?(o={element:t.element,oldValue:t.oldValue,newValue:t.newValue,javascriptCode:n,pythonCode:i},e=Yt.logger.createEvent(M.blocklyUI,o),Yt.logger.recordEvent(e)):t.type==Blockly.Events.CHANGE?(o={element:t.element,name:t.name,oldValue:t.oldValue,newValue:t.newValue,javascriptCode:n,pythonCode:i},e=Yt.logger.createEvent(M.blocklyChange,o),Yt.logger.recordEvent(e)):t.type==Blockly.Events.UNDO?(o={},e=Yt.logger.createEvent(M.undo,o),Yt.logger.recordEvent(e)):(console.debug("Type of event unkown ",t),console.log(t.type))}))},restoreFromXml:function(t){Yt.workspace.clear(),Blockly.Xml.domToWorkspace(t,Yt.workspace),Yt.workspace.getAllBlocks().length;var e={xmlCode:Blockly.Xml.domToText(t)},n=Yt.logger.createEvent(M.uploadClicked,e);Yt.logger.recordEvent(n)},download:function(t,e){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},toggleSimulator:function(){var t=[];this.simButtonStateClicked?(t=["100%","off",!1],Yt.simulationEnvironment.stop()):(t=["50%","on",!0],Yt.simulationEnvironment.open()),$("#db_blockly").width(t[0]),this.simButtonStateClicked=t[2],Yt.simulatorState=t[1];var e={simulatorState:Yt.simulatorState},n=Yt.logger.createEvent(M.simButtonStateClicked,e);Yt.logger.recordEvent(n),Yt.onresize(),Blockly.svgResize(Yt.workspace)},downloadDwenguinoBinaryHandler:function(t){Yt.downloadDwenguinoBinaryHandlerAjax(t)},downloadDwenguinoBinaryHandlerAjax:function(t){Yt.disableRunButton();var e=Yt.compilationPath+"?code="+encodeURIComponent(t);try{$.ajax({type:"GET",url:e,xhrFields:{responseType:"blob"},success:function(t,e,n){var i="",o=n.getResponseHeader("Content-Disposition");if(o&&-1!==o.indexOf("attachment")){var r=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(o);null!=r&&r[1]&&(i=r[1].replace(/['"]/g,""))}if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(t,i);else{var a=window.URL||window.webkitURL,s=a.createObjectURL(t);if(i){var l=document.createElement("a");void 0===l.download?window.location.href=s:(l.href=s,l.download=i,document.body.appendChild(l),l.click())}else window.location.href=s;setTimeout((function(){a.revokeObjectURL(s)}),100)}Yt.resetRunButton()},error:function(t){console.log("Compilation failed with error: ".concat(t)),Yt.resetRunButton()}})}catch(t){console.log("success")}},runEventHandler:function(t){Yt.disableRunButton(),$.ajax({url:s.getServerUrl()+"/utilities/run",dataType:"json",type:"post",contentType:"application/x-www-form-urlencoded",data:{code:t},success:function(t,e,n){console.log("succes"),console.log(t),"error"===t.status&&Yt.showModalErrorDialog(t),Yt.resetRunButton()},error:function(t,e,n){console.log(n),Yt.resetRunButton()}}),console.log(t.replace(/\r?\n|\r/g,"\n"));var e=Blockly.Xml.workspaceToDom(Yt.workspace),n=Blockly.Xml.domToText(e),i="",o="";try{i=Blockly.JavaScript.workspaceToCode(Yt.workspace)}catch(t){i="invalid code"}try{o=Blockly.Python.workspaceToCode(Yt.workspace)}catch(t){o="invalid code"}var r={arduinoCode:t,xmlCode:n,javascriptCode:i,pythonCode:o},a=Yt.logger.createEvent(M.runClicked,r);Yt.logger.recordEvent(a)},showModalErrorDialog:function(t){$("#errorModal .modal-header").html(DwenguinoBlocklyLanguageSettings.translate(["runError"])),"Upload failed"===t.info?$("#errorModal .modal-body .message").html(DwenguinoBlocklyLanguageSettings.translate(["uploadError"])):"Compilation failed"===t.info?$("#errorModal .modal-body .message").html(DwenguinoBlocklyLanguageSettings.translate(["compileError"])):"Clean failed"===t.info?$("#errorModal .modal-body .message").html(DwenguinoBlocklyLanguageSettings.translate(["cleanError"])):$("#errorModal .modal-body .message").html(DwenguinoBlocklyLanguageSettings.translate(["uploadError"])),$("#errorModal .modal-body .console").hide(),$("#errorModal .modal-body .error_details").off("click"),$("#errorModal .modal-body .error_details").click((function(){console.log("toggle console"),$("#errorModal .modal-body .console").toggle()})),"SIGTERM"===t.message.signal?$("#errorModal .modal-body .console").html("Operation timed out"):$("#errorModal .modal-body .console").html(t.trace),$("#errorModal").modal("show")},disableRunButton:function(){$("#db_menu_item_run").off("click"),$("#db_menu_item_clear").off("click"),$("#db_menu_item_dwengo_robot_teacher_image").attr("src",Yt.basepath+"DwenguinoIDE/img/gear_animation.gif"),$("#db_menu_item_dwengo_robot_teacher_image").css({padding:"10px 25px",maxHeight:"100%",float:"right"}),$("#db_menu_item_run").css({color:"gray"}),$("#db_menu_item_clear").css({color:"gray"})},resetRunButton:function(){$("#db_menu_item_run").click((function(){Blockly.Arduino.emptySetup();var t=Blockly.Arduino.workspaceToCode(Yt.workspace);Yt.downloadDwenguinoBinaryHandler(t)})),$("#db_menu_item_clear").click((function(){Yt.downloadDwenguinoBinaryHandlerAjax('#include <Wire.h>\n#include <Dwenguino.h>\n#include <LiquidCrystal.h>\n\nvoid setup(){\ninitDwenguino();\ndwenguinoLCD.setCursor(2,0);\ndwenguinoLCD.print(String("WeGoSTEM ;)"));\n}\n\nvoid loop(){}\n')})),$("#db_menu_item_run").css({color:"black"}),$("#db_menu_item_run").hover((function(){$(this).css({color:"#8bab42"})})),$("#db_menu_item_run").mouseleave((function(){$(this).css({color:"black"})})),$("#db_menu_item_clear").css({color:"black"}),$("#db_menu_item_clear").hover((function(){$(this).css({color:"#8bab42"})})),$("#db_menu_item_clear").mouseleave((function(){$(this).css({color:"black"})})),$("#db_menu_item_dwengo_robot_teacher_image").css({padding:"10px",maxHeight:"100%",float:"right"}),$("#db_menu_item_dwengo_robot_teacher_image").attr("src",Yt.basepath+"DwenguinoIDE/img/dwengo_robot_plain.svg")},prevWorkspaceXml:"",takeSnapshotOfWorkspace:function(){console.log("taking snapshot");var t=Blockly.Xml.workspaceToDom(Yt.workspace),e=Blockly.Xml.domToText(t);if(e!=Yt.prevWorkspaceXml){var n="",i="";try{n=Blockly.JavaScript.workspaceToCode(Yt.workspace)}catch(t){n="invalid code"}try{i=Blockly.Python.workspaceToCode(Yt.workspace)}catch(t){i="invalid code"}var o={xmlCode:e,javascriptCode:n,pythonCode:i};Yt.prevWorkspaceXml=e;var r=this.logger.createEvent(M.changedWorkspace,o);Yt.logger.recordEvent(r)}},logCodeChange:function(t){Yt.takeSnapshotOfWorkspace()},previouslyRenderedCode:null,renderCode:function(){Yt.logCodeChange(),Blockly.Arduino.emptySetup();var t=Blockly.Arduino.workspaceToCode(Yt.workspace);if(null===Yt.previouslyRenderedCode)document.getElementById("db_arduino_code").innerHTML=prettyPrintOne(t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"cpp",!1),Yt.previouslyRenderedCode=t;else if(t!==Yt.previouslyRenderedCode){var e=Yt.highlightModifiedCode(t);document.getElementById("db_arduino_code").innerHTML=prettyPrintOne(e.join(""),"cpp",!1),Yt.previouslyRenderedCode=t}},highlightModifiedCode:function(t){for(var e=JsDiff.diffWords(Yt.previouslyRenderedCode,t),n=[],i=0;i<e.length;i++)if(!e[i].removed){var o=e[i].value.replace(/</g,"&lt;").replace(/>/g,"&gt;");e[i].added?n.push('<span class="code_highlight_new">'+o+"</span>"):n.push(o)}return n},fallbackCopyCodeToClipboard:function(t){var e=document.createElement("dummy-text-area");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy"),$("#notification-copy").show(),$("#notification-copy").text(DwenguinoBlocklyLanguageSettings.translate(["arduinoCodeCopied"])),setTimeout((function(){$("#notification-copy").hide("blind",{},500)}),3e3)}catch(t){console.error("Unable to copy Arduino code: ",t)}document.body.removeChild(e)},copyCodeToClipboard:function(){var t=Blockly.Arduino.workspaceToCode(Yt.workspace);navigator.clipboard?navigator.clipboard.writeText(t).then((function(){$("#notification-copy").show(),$("#notification-copy").text(DwenguinoBlocklyLanguageSettings.translate(["arduinoCodeCopied"])),setTimeout((function(){$("#notification-copy").hide("blind",{},500)}),3e3)}),(function(t){console.error("Unable to copy Arduino code: ",t)})):fallbackCopyCodeToClipboard(t)},loadFileXmlIntoWorkspace:function(t){console.log("loading into workspace"),Yt.setWorkspaceBlockFromXml(t)},onresize:function(){var t=document.getElementById("db_blockly"),e=document.getElementById("blocklyDiv"),n=t,i=0,o=0;do{i+=n.offsetLeft,o+=n.offsetTop,n=n.offsetParent}while(n);e.style.left=i+"px",e.style.top=o+"px",e.style.width=t.offsetWidth+"px",e.style.height=t.offsetHeight+"px"},injectBlockly:function(){document.getElementById("db_blockly");var t=document.getElementById("blocklyDiv"),e=Blockly.inject(t,{toolbox:document.getElementById("toolbox"),media:Yt.basepath+"DwenguinoIDE/img/",zoom:{controls:!0,wheel:!0},undo:!0});return window.addEventListener("resize",Yt.onresize,!1),Yt.onresize(),Blockly.svgResize(e),e.addChangeListener(Yt.renderCode),e.registerButtonCallback("createVariableCallback",(function(t){console.log("Creating new variable")})),e.registerToolboxCategoryCallback("DWB_VARIABLES",(function(){var t=e.getAllVariables(),n=[];n.push('<block type="variables_declare_set_int"></block>'),n.push('<block type="variables_get_int"></block>'),n.push('<block type="variables_declare_set_string"></block>'),n.push('<block type="variables_get_string"></block>'),console.log(t);for(var i=0;i<t.length;i++){var o='<block type="variables_get'+("Number"==t[i].type?"_int":"String"==t[i].type?"_string":"")+'"><field name="VAR" id="';o=(o=(o=o+t[i].id_+'" variabletype="')+t[i].type+'">')+t[i].name+"</field></block>",console.log(o),n.push(o)}var r=[];for(i=0;i<n.length;i++)r.push(Blockly.Xml.textToDom(n[i]));return r})),e},changeLanguage:function(){if("undefined"!=typeof Blockly&&window.sessionStorage){var t=Blockly.Xml.workspaceToDom(Yt.workspace),e=Blockly.Xml.domToText(t);window.sessionStorage.loadOnceBlocks=e,window.sessionStorage.loadOnceRecording=Yt.recording,window.sessionStorage.loadOnceSessionId=Yt.sessionId}var n=document.getElementById("db_menu_item_language_selection"),i=encodeURIComponent(n.options[n.selectedIndex].value),o=window.location.search;o=o.length<=1?"?lang="+i:o.match(/[?&]lang=[^&]*/)?o.replace(/([?&]lang=)[^&]*/,"$1"+i):o.replace(/\?/,"?lang="+i+"&");var r={lang:i};console.log(r),$.ajax({type:"POST",headers:{"Content-Type":"application/json"},url:s.getServerUrl()+"/lang",data:JSON.stringify(r)}).done((function(t){console.log(t)})).fail((function(t,e){console.log(e,t)})),window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+o},LANG:DwenguinoBlocklyLanguageSettings.getLang(),isRtl:function(){return!1},initLanguage:function(){var t=Yt.isRtl();document.dir=t?"rtl":"ltr",document.head.parentElement.setAttribute("lang",Yt.LANG);var e={lang:Yt.LANG};$.ajax({type:"POST",headers:{"Content-Type":"application/json"},url:s.getServerUrl()+"/lang",data:JSON.stringify(e)}).done((function(t){console.log(t)})).fail((function(t,e){console.log(e,t)}));var n=[];for(var i in DwenguinoBlocklyLanguageSettings.LANGUAGE_NAME)n.push([DwenguinoBlocklyLanguageSettings.LANGUAGE_NAME[i],i]);n.sort((function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0}));var o=document.getElementById("db_menu_item_language_selection");o.options.length=0;for(var r=0;r<n.length;r++){var a=n[r],l=(i=a[a.length-1],new Option(a[0],i));i===Yt.LANG&&(l.selected=!0),o.options.add(l)}o.addEventListener("change",Yt.changeLanguage,!0)},doTranslation:function(){document.title+=" "+DwenguinoBlocklyLanguageSettings.translate(["title"]),document.getElementById("db_menu_item_upload").title=DwenguinoBlocklyLanguageSettings.translate(["loadBlocksFileTooltip"]),document.getElementById("db_menu_item_download").title=MSG.saveBlocksFileTooltip,document.getElementById("db_menu_item_simulator").title=MSG.toggleSimulator;for(var t,e=["catLogic","catLoops","catMath","catText","catLists","catColour","catVariables","catFunctions","catBoardIO","catDwenguino","catSocialRobot","catInput","catOutput","catArduino","catComments","catConveyor"],n=0;t=e[n];n++){var i=document.getElementById(t);i&&i.setAttribute("name",DwenguinoBlocklyLanguageSettings.translate([t]))}var o,r=document.getElementsByClassName("textVar");for(n=0;o=r[n];n++)o.textContent=MSG.textVariable;var a,s=document.getElementsByClassName("listVar");for(n=0;a=s[n];n++)a.textContent=MSG.listVariable},loadBlocks:function(t){try{var e=window.sessionStorage.loadOnceBlocks}catch(t){e=null}if("BlocklyStorage"in window&&window.location.hash.length>1)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else if(e){delete window.sessionStorage.loadOnceBlocks;var n=Blockly.Xml.textToDom(e);Blockly.Xml.domToWorkspace(n,Yt.workspace)}else t?(n=Blockly.Xml.textToDom(t),Blockly.Xml.domToWorkspace(n,Yt.workspace),Yt.recording=""):"BlocklyStorage"in window&&window.setTimeout(BlocklyStorage.restoreBlocks,0)},setWorkspaceBlockFromXml:function(t){Yt.workspace.clear();try{var e=Blockly.Xml.textToDom(t)}catch(t){return void console.log("invalid xml")}Blockly.Xml.domToWorkspace(e,Yt.workspace)},setupEnvironment:function(){Yt.initLanguage();var t=Yt.injectBlockly();Yt.initDwenguinoBlockly(t),Yt.doTranslation(),Yt.takeSnapshotOfWorkspace(),$(window).resize((function(){Yt.onresize(),Blockly.svgResize(Yt.workspace)}));var e=document.querySelector('input[id="code_checkbox"]');e.addEventListener("change",(function(){e.checked?(document.getElementById("blocklyDiv").style.visibility="hidden",document.getElementById("db_code_pane").style.visibility="visible",Yt.renderCode()):(document.getElementById("blocklyDiv").style.visibility="visible",document.getElementById("db_code_pane").style.visibility="hidden")})),$("#copy-code").click((function(){Yt.copyCodeToClipboard()}))},tearDownEnvironment:function(){},displayCookieConsent:function(){var t=DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["cookieConsent"])+'<a id="cookie-info" href="#" class="ml-1">'+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["cookieInfo"])+'</a><div class=" ml-2 d-flex align-items-center justify-content-center g-2"> <button id="allow-cookies" class="allow-button mr-1">'+DwenguinoBlocklyLanguageSettings.translateFrom("cookieConsent",["close"])+"</button></div>";$("#cookie-consent").html(t);var e=this;$("#cookie-info").click((function(){e.cookiesInformation.initCookiesInformation()})),$("#allow-cookies").click((function(){$("#cookie-consent").remove()}))}};$(document).ready((function(){Yt.setupEnvironment()}));const Vt=Yt})()})();